"use strict";(self["webpackChunkgithub_tools"]=self["webpackChunkgithub_tools"]||[]).push([[417],{9417:function(s,e,t){t.r(e),t.d(e,{default:function(){return ks}});var n=t(6768),o=t(5130),l=t(4232);const r={class:"json-comparison"},a={class:"header"},i={class:"input-container"},c={class:"input-group"},u={class:"input-group"},p={class:"actions"},k={key:0,class:"results"},d={class:"result-group"},m={class:"result-box stats"},h={class:"stat-item"},y={class:"stat-value"},v={class:"stat-item"},L={class:"stat-value"},f={class:"stat-item"},g={class:"stat-value"},b={class:"stat-item"},C={class:"stat-value"},J={class:"stat-item"},P={class:"stat-value"},O={class:"stat-item"},I={class:"stat-value"},A={class:"result-group"},S={class:"merge-controls"},j={class:"merge-option"},B={class:"merge-option"},_={key:0,class:"merged-result"},N={class:"result-box merged-json"},E={class:"copy-actions"},X={key:0,class:"copy-success"},V={class:"result-group"},W={class:"description"},x={class:"result-box"},Q={class:"key"},R={class:"value"},M={key:0,class:"empty-result"},T={class:"result-group"},w={class:"description"},F={class:"result-box"},K={class:"prop-key"},U={class:"prop-diff"},H={class:"prop-a"},$={class:"prop-b"},q={key:0,class:"empty-result"},z={class:"result-group"},D={class:"description"},G={class:"result-box"},Y={class:"key"},Z={class:"value"},ss={key:0,class:"empty-result"},es={class:"result-group"},ts={class:"description"},ns={class:"result-box"},os={class:"key"},ls={class:"value"},rs={key:0,class:"empty-result"},as={key:1,class:"error-message"};function is(s,e,t,is,cs,us){return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",a,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...s)=>us.goToHome&&us.goToHome(...s)),class:"home-btn"},"← 返回首页"),e[9]||(e[9]=(0,n.Lk)("h1",null,"JSON 对比工具",-1))]),(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[e[10]||(e[10]=(0,n.Lk)("h3",null,"JSON A",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>cs.jsonA=s),placeholder:'请输入第一个 JSON 对象\n例如：\n{\n  "name": "测试",\n  "age": 25,\n  "skills": ["Vue", "JavaScript"]\n}',class:"input-area"},null,512),[[o.Jo,cs.jsonA]])]),(0,n.Lk)("div",u,[e[11]||(e[11]=(0,n.Lk)("h3",null,"JSON B",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":e[2]||(e[2]=s=>cs.jsonB=s),placeholder:'请输入第二个 JSON 对象\n例如：\n{\n  "name": "测试",\n  "age": 30,\n  "skills": ["Vue", "TypeScript"]\n}',class:"input-area"},null,512),[[o.Jo,cs.jsonB]])])]),(0,n.Lk)("div",p,[(0,n.Lk)("button",{onClick:e[3]||(e[3]=(...s)=>us.compare&&us.compare(...s)),class:"action-btn"},"比较"),(0,n.Lk)("button",{onClick:e[4]||(e[4]=(...s)=>us.clearAll&&us.clearAll(...s)),class:"clear-btn"},"清空")]),cs.hasResults?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("div",d,[e[24]||(e[24]=(0,n.Lk)("h3",null,"统计信息",-1)),(0,n.Lk)("div",m,[(0,n.Lk)("div",h,[e[12]||(e[12]=(0,n.Lk)("span",null,"JSON A 属性数量:",-1)),e[13]||(e[13]=(0,n.eW)()),(0,n.Lk)("span",y,(0,l.v_)(cs.stats.aPropsCount),1)]),(0,n.Lk)("div",v,[e[14]||(e[14]=(0,n.Lk)("span",null,"JSON B 属性数量:",-1)),e[15]||(e[15]=(0,n.eW)()),(0,n.Lk)("span",L,(0,l.v_)(cs.stats.bPropsCount),1)]),(0,n.Lk)("div",f,[e[16]||(e[16]=(0,n.Lk)("span",null,"共同属性数量:",-1)),e[17]||(e[17]=(0,n.eW)()),(0,n.Lk)("span",g,(0,l.v_)(cs.stats.commonPropsCount),1)]),(0,n.Lk)("div",b,[e[18]||(e[18]=(0,n.Lk)("span",null,"仅在 A 中的属性数量:",-1)),e[19]||(e[19]=(0,n.eW)()),(0,n.Lk)("span",C,(0,l.v_)(cs.stats.onlyInACount),1)]),(0,n.Lk)("div",J,[e[20]||(e[20]=(0,n.Lk)("span",null,"仅在 B 中的属性数量:",-1)),e[21]||(e[21]=(0,n.eW)()),(0,n.Lk)("span",P,(0,l.v_)(cs.stats.onlyInBCount),1)]),(0,n.Lk)("div",O,[e[22]||(e[22]=(0,n.Lk)("span",null,"值不同的属性数量:",-1)),e[23]||(e[23]=(0,n.eW)()),(0,n.Lk)("span",I,(0,l.v_)(cs.stats.differentValuesCount),1)])])]),(0,n.Lk)("div",A,[e[27]||(e[27]=(0,n.Lk)("h3",null,"JSON 合并",-1)),(0,n.Lk)("div",S,[(0,n.Lk)("div",j,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>cs.mergePreference=s),value:"a",name:"merge-pref"},null,512),[[o.XL,cs.mergePreference]]),e[25]||(e[25]=(0,n.eW)(" 当冲突时选择 JSON A 的值 ",-1))])]),(0,n.Lk)("div",B,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>cs.mergePreference=s),value:"b",name:"merge-pref"},null,512),[[o.XL,cs.mergePreference]]),e[26]||(e[26]=(0,n.eW)(" 当冲突时选择 JSON B 的值 ",-1))])]),(0,n.Lk)("button",{onClick:e[7]||(e[7]=(...s)=>us.mergeJson&&us.mergeJson(...s)),class:"merge-btn"},"生成合并 JSON")]),cs.mergedJson?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",N,[(0,n.Lk)("pre",null,(0,l.v_)(us.formattedMergedJson),1)]),(0,n.Lk)("div",E,[(0,n.Lk)("button",{onClick:e[8]||(e[8]=(...s)=>us.copyMergedJson&&us.copyMergedJson(...s)),class:"copy-btn"},"复制合并后的 JSON"),cs.copySuccess?((0,n.uX)(),(0,n.CE)("span",X,"已复制到剪贴板!")):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",V,[e[29]||(e[29]=(0,n.Lk)("h3",null,"共同属性 (值相同)",-1)),(0,n.Lk)("p",W,"两个 JSON 中具有相同值的属性 (共 "+(0,l.v_)(Object.keys(cs.commonProps).length)+" 个)",1),(0,n.Lk)("div",x,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(cs.commonProps,(s,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"result-item"},[(0,n.Lk)("span",Q,(0,l.v_)(t)+":",1),e[28]||(e[28]=(0,n.eW)()),(0,n.Lk)("span",R,(0,l.v_)(us.formatValue(s)),1)]))),128)),0===Object.keys(cs.commonProps).length?((0,n.uX)(),(0,n.CE)("div",M,"无共同值属性")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",T,[e[32]||(e[32]=(0,n.Lk)("h3",null,"共同属性 (值不同)",-1)),(0,n.Lk)("p",w,"两个 JSON 中值不同的属性 (共 "+(0,l.v_)(Object.keys(cs.differentProps).length)+" 个)",1),(0,n.Lk)("div",F,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(cs.differentProps,(s,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"result-item different"},[(0,n.Lk)("div",K,(0,l.v_)(t)+":",1),(0,n.Lk)("div",U,[(0,n.Lk)("div",H,[e[30]||(e[30]=(0,n.eW)("A: ",-1)),(0,n.Lk)("span",null,(0,l.v_)(us.formatValue(s.a)),1)]),(0,n.Lk)("div",$,[e[31]||(e[31]=(0,n.eW)("B: ",-1)),(0,n.Lk)("span",null,(0,l.v_)(us.formatValue(s.b)),1)])])]))),128)),0===Object.keys(cs.differentProps).length?((0,n.uX)(),(0,n.CE)("div",q,"无值不同属性")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",z,[e[34]||(e[34]=(0,n.Lk)("h3",null,"仅在 A 中存在的属性",-1)),(0,n.Lk)("p",D,"仅在 JSON A 中存在的属性 (共 "+(0,l.v_)(Object.keys(cs.onlyInA).length)+" 个)",1),(0,n.Lk)("div",G,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(cs.onlyInA,(s,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"result-item"},[(0,n.Lk)("span",Y,(0,l.v_)(t)+":",1),e[33]||(e[33]=(0,n.eW)()),(0,n.Lk)("span",Z,(0,l.v_)(us.formatValue(s)),1)]))),128)),0===Object.keys(cs.onlyInA).length?((0,n.uX)(),(0,n.CE)("div",ss,"无独有属性")):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",es,[e[36]||(e[36]=(0,n.Lk)("h3",null,"仅在 B 中存在的属性",-1)),(0,n.Lk)("p",ts,"仅在 JSON B 中存在的属性 (共 "+(0,l.v_)(Object.keys(cs.onlyInB).length)+" 个)",1),(0,n.Lk)("div",ns,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(cs.onlyInB,(s,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"result-item"},[(0,n.Lk)("span",os,(0,l.v_)(t)+":",1),e[35]||(e[35]=(0,n.eW)()),(0,n.Lk)("span",ls,(0,l.v_)(us.formatValue(s)),1)]))),128)),0===Object.keys(cs.onlyInB).length?((0,n.uX)(),(0,n.CE)("div",rs,"无独有属性")):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),cs.error?((0,n.uX)(),(0,n.CE)("div",as,(0,l.v_)(cs.error),1)):(0,n.Q3)("",!0)])}var cs={name:"JsonCompare",data(){return{jsonA:"",jsonB:"",commonProps:{},differentProps:{},onlyInA:{},onlyInB:{},stats:{aPropsCount:0,bPropsCount:0,commonPropsCount:0,onlyInACount:0,onlyInBCount:0,differentValuesCount:0},error:"",hasResults:!1,mergePreference:"a",mergedJson:null,copySuccess:!1}},computed:{formattedMergedJson(){return this.mergedJson?JSON.stringify(this.mergedJson,null,2):""}},methods:{parseJson(s){try{return s.trim()?JSON.parse(s):{}}catch(e){throw new Error(`JSON 解析错误: ${e.message}`)}},goToHome(){this.$router.push("/")},compare(){try{this.error="";const s=this.parseJson(this.jsonA),e=this.parseJson(this.jsonB);this.commonProps={},this.differentProps={},this.onlyInA={},this.onlyInB={};const t=Object.keys(s),n=Object.keys(e);this.stats.aPropsCount=t.length,this.stats.bPropsCount=n.length;for(const o of t)if(n.includes(o)){const t=s[o],n=e[o];JSON.stringify(t)===JSON.stringify(n)?this.commonProps[o]=t:this.differentProps[o]={a:t,b:n}}else this.onlyInA[o]=s[o];for(const o of n)t.includes(o)||(this.onlyInB[o]=e[o]);this.stats.commonPropsCount=Object.keys(this.commonProps).length,this.stats.differentValuesCount=Object.keys(this.differentProps).length,this.stats.onlyInACount=Object.keys(this.onlyInA).length,this.stats.onlyInBCount=Object.keys(this.onlyInB).length,this.hasResults=!0,this.mergeJson()}catch(s){this.error=s.message,this.hasResults=!1}},mergeJson(){try{if(!this.hasResults)return;const s={};for(const e in this.onlyInA)s[e]=this.onlyInA[e];for(const e in this.onlyInB)s[e]=this.onlyInB[e];for(const e in this.commonProps)s[e]=this.commonProps[e];for(const e in this.differentProps)"a"===this.mergePreference?s[e]=this.differentProps[e].a:s[e]=this.differentProps[e].b;this.mergedJson=s}catch(s){this.error=`合并 JSON 时出错: ${s.message}`}},copyMergedJson(){if(!this.mergedJson)return;const s=JSON.stringify(this.mergedJson,null,2),e=document.createElement("textarea");e.value=s,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select();let t=!1;try{t=document.execCommand("copy")}catch(n){t=!1}document.body.removeChild(e),t?(this.copySuccess=!0,setTimeout(()=>{this.copySuccess=!1},2e3)):this.error="复制到剪贴板失败，请手动复制。"},clearAll(){this.jsonA="",this.jsonB="",this.commonProps={},this.differentProps={},this.onlyInA={},this.onlyInB={},this.stats={aPropsCount:0,bPropsCount:0,commonPropsCount:0,onlyInACount:0,onlyInBCount:0,differentValuesCount:0},this.error="",this.hasResults=!1,this.mergedJson=null},formatValue(s){return"object"===typeof s&&null!==s?JSON.stringify(s):String(s)}}},us=t(1241);const ps=(0,us.A)(cs,[["render",is],["__scopeId","data-v-721a52c4"]]);var ks=ps}}]);
//# sourceMappingURL=417.155f577c.js.map