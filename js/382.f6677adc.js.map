{"version":3,"file":"js/382.f6677adc.js","mappings":"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,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAIFosB,GAAyB,CAC3BhyB,SAAU,CACN,IAAO,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC7G,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEpD4F,OAAQ,CACJ,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAIFqsB,GAA2B,CAC7BjyB,SAAU,CACN,IAAO,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAC1G,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAE5D4F,OAAQ,CACJ,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAIFssB,GAAwB,SAC1B1lC,EACAiY,EACAjU,EACA2hC,EACAC,EACAC,GAEA,OAAI7lC,EAAQiY,GAAOjY,EAAQgE,EAChB8hC,GAAkB9lC,EAAO4lC,EAAUC,EAAOrmC,OAAS,GAI1DmmC,EAAQnyB,SAASiW,OAAO,SAACsc,EAAQC,EAAShhC,GACtC,MAAOhF,GAASgmC,EACZhmC,GAASgmC,EACTD,GAAUJ,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","sources":["webpack://github-tools/../node_modules/tslib/tslib.es6.js","webpack://github-tools/../node_modules/src/Util.ts","webpack://github-tools/../../src/css/layout/bounds.ts","webpack://github-tools/../node_modules/css-line-break/node_modules/src/Util.ts","webpack://github-tools/../node_modules/css-line-break/node_modules/utrie/node_modules/src/index.ts","webpack://github-tools/../node_modules/css-line-break/node_modules/src/Trie.ts","webpack://github-tools/../node_modules/src/linebreak-trie.ts","webpack://github-tools/../node_modules/src/LineBreak.ts","webpack://github-tools/../../src/css/syntax/tokenizer.ts","webpack://github-tools/../../src/css/syntax/parser.ts","webpack://github-tools/../../src/css/types/length.ts","webpack://github-tools/../../src/css/types/length-percentage.ts","webpack://github-tools/../../src/css/types/angle.ts","webpack://github-tools/../../src/css/types/color.ts","webpack://github-tools/../../src/css/property-descriptors/background-clip.ts","webpack://github-tools/../../src/css/property-descriptors/background-color.ts","webpack://github-tools/../../src/css/types/functions/gradient.ts","webpack://github-tools/../../src/css/types/functions/linear-gradient.ts","webpack://github-tools/../../src/css/types/functions/-prefix-linear-gradient.ts","webpack://github-tools/../../src/css/types/functions/-webkit-gradient.ts","webpack://github-tools/../../src/css/types/functions/radial-gradient.ts","webpack://github-tools/../../src/css/types/functions/-prefix-radial-gradient.ts","webpack://github-tools/../../src/css/types/image.ts","webpack://github-tools/../../src/css/property-descriptors/background-size.ts","webpack://github-tools/../../src/css/property-descriptors/background-image.ts","webpack://github-tools/../../src/css/property-descriptors/background-origin.ts","webpack://github-tools/../../src/css/property-descriptors/background-position.ts","webpack://github-tools/../../src/css/property-descriptors/background-repeat.ts","webpack://github-tools/../../src/css/property-descriptors/line-break.ts","webpack://github-tools/../../src/css/property-descriptors/border-color.ts","webpack://github-tools/../../src/css/property-descriptors/border-radius.ts","webpack://github-tools/../../src/css/property-descriptors/border-style.ts","webpack://github-tools/../../src/css/property-descriptors/border-width.ts","webpack://github-tools/../../src/css/property-descriptors/color.ts","webpack://github-tools/../../src/css/property-descriptors/direction.ts","webpack://github-tools/../../src/css/property-descriptors/display.ts","webpack://github-tools/../../src/css/property-descriptors/float.ts","webpack://github-tools/../../src/css/property-descriptors/letter-spacing.ts","webpack://github-tools/../../src/css/property-descriptors/word-break.ts","webpack://github-tools/../../src/css/property-descriptors/line-height.ts","webpack://github-tools/../../src/css/property-descriptors/list-style-image.ts","webpack://github-tools/../../src/css/property-descriptors/list-style-position.ts","webpack://github-tools/../../src/css/property-descriptors/list-style-type.ts","webpack://github-tools/../../src/css/property-descriptors/margin.ts","webpack://github-tools/../../src/css/property-descriptors/overflow.ts","webpack://github-tools/../../src/css/property-descriptors/overflow-wrap.ts","webpack://github-tools/../../src/css/property-descriptors/padding.ts","webpack://github-tools/../../src/css/property-descriptors/text-align.ts","webpack://github-tools/../../src/css/property-descriptors/position.ts","webpack://github-tools/../../src/css/property-descriptors/text-shadow.ts","webpack://github-tools/../../src/css/property-descriptors/text-transform.ts","webpack://github-tools/../../src/css/property-descriptors/transform.ts","webpack://github-tools/../../src/css/property-descriptors/transform-origin.ts","webpack://github-tools/../../src/css/property-descriptors/visibility.ts","webpack://github-tools/../node_modules/text-segmentation/node_modules/src/Util.ts","webpack://github-tools/../../src/css/property-descriptors/z-index.ts","webpack://github-tools/../../src/css/types/time.ts","webpack://github-tools/../../src/css/property-descriptors/opacity.ts","webpack://github-tools/../../src/css/property-descriptors/text-decoration-color.ts","webpack://github-tools/../../src/css/property-descriptors/text-decoration-line.ts","webpack://github-tools/../../src/css/property-descriptors/font-family.ts","webpack://github-tools/../../src/css/property-descriptors/font-size.ts","webpack://github-tools/../../src/css/property-descriptors/font-weight.ts","webpack://github-tools/../../src/css/property-descriptors/font-variant.ts","webpack://github-tools/../../src/css/property-descriptors/font-style.ts","webpack://github-tools/../../src/core/bitwise.ts","webpack://github-tools/../../src/css/property-descriptors/content.ts","webpack://github-tools/../../src/css/property-descriptors/counter-increment.ts","webpack://github-tools/../../src/css/property-descriptors/counter-reset.ts","webpack://github-tools/../../src/css/property-descriptors/duration.ts","webpack://github-tools/../../src/css/property-descriptors/quotes.ts","webpack://github-tools/../../src/css/property-descriptors/box-shadow.ts","webpack://github-tools/../../src/css/property-descriptors/paint-order.ts","webpack://github-tools/../../src/css/property-descriptors/webkit-text-stroke-color.ts","webpack://github-tools/../../src/css/property-descriptors/webkit-text-stroke-width.ts","webpack://github-tools/../../src/css/index.ts","webpack://github-tools/../../src/core/debugger.ts","webpack://github-tools/../../src/dom/element-container.ts","webpack://github-tools/../node_modules/src/grapheme-break-trie.ts","webpack://github-tools/../node_modules/text-segmentation/node_modules/utrie/node_modules/src/index.ts","webpack://github-tools/../node_modules/text-segmentation/node_modules/src/Trie.ts","webpack://github-tools/../node_modules/src/GraphemeBreak.ts","webpack://github-tools/../../src/dom/document-cloner.ts","webpack://github-tools/../../src/core/features.ts","webpack://github-tools/../../src/css/layout/text.ts","webpack://github-tools/../../src/dom/text-container.ts","webpack://github-tools/../../src/dom/replaced-elements/image-element-container.ts","webpack://github-tools/../../src/dom/replaced-elements/canvas-element-container.ts","webpack://github-tools/../../src/dom/replaced-elements/svg-element-container.ts","webpack://github-tools/../../src/dom/elements/li-element-container.ts","webpack://github-tools/../../src/dom/elements/ol-element-container.ts","webpack://github-tools/../../src/dom/replaced-elements/input-element-container.ts","webpack://github-tools/../../src/dom/elements/select-element-container.ts","webpack://github-tools/../../src/dom/elements/textarea-element-container.ts","webpack://github-tools/../../src/dom/replaced-elements/iframe-element-container.ts","webpack://github-tools/../../src/dom/node-parser.ts","webpack://github-tools/../../src/css/types/functions/counter.ts","webpack://github-tools/../../src/render/bound-curves.ts","webpack://github-tools/../../src/core/cache-storage.ts","webpack://github-tools/../../src/render/vector.ts","webpack://github-tools/../../src/render/bezier-curve.ts","webpack://github-tools/../../src/render/effects.ts","webpack://github-tools/../../src/render/path.ts","webpack://github-tools/../../src/render/stacking-context.ts","webpack://github-tools/../../src/render/border.ts","webpack://github-tools/../../src/render/box-sizing.ts","webpack://github-tools/../../src/render/background.ts","webpack://github-tools/../../src/core/util.ts","webpack://github-tools/../../src/render/font-metrics.ts","webpack://github-tools/../../src/render/renderer.ts","webpack://github-tools/../../src/render/canvas/canvas-renderer.ts","webpack://github-tools/../../src/render/canvas/foreignobject-renderer.ts","webpack://github-tools/../../src/core/logger.ts","webpack://github-tools/../../src/core/context.ts","webpack://github-tools/../../src/index.ts","webpack://github-tools/./node_modules/vditor/dist/index.js","webpack://github-tools/./src/views/MarkdownEditor.vue","webpack://github-tools/./src/views/MarkdownEditor.vue?2fb0"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","import {Context} from '../../core/context';\n\nexport class Bounds {\n    constructor(readonly left: number, readonly top: number, readonly width: number, readonly height: number) {}\n\n    add(x: number, y: number, w: number, h: number): Bounds {\n        return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\n    }\n\n    static fromClientRect(context: Context, clientRect: ClientRect): Bounds {\n        return new Bounds(\n            clientRect.left + context.windowBounds.left,\n            clientRect.top + context.windowBounds.top,\n            clientRect.width,\n            clientRect.height\n        );\n    }\n\n    static fromDOMRectList(context: Context, domRectList: DOMRectList): Bounds {\n        const domRect = Array.from(domRectList).find((rect) => rect.width !== 0);\n        return domRect\n            ? new Bounds(\n                  domRect.left + context.windowBounds.left,\n                  domRect.top + context.windowBounds.top,\n                  domRect.width,\n                  domRect.height\n              )\n            : Bounds.EMPTY;\n    }\n\n    static EMPTY = new Bounds(0, 0, 0, 0);\n}\n\nexport const parseBounds = (context: Context, node: Element): Bounds => {\n    return Bounds.fromClientRect(context, node.getBoundingClientRect());\n};\n\nexport const parseDocumentSize = (document: Document): Bounds => {\n    const body = document.body;\n    const documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error(`Unable to get document size`);\n    }\n    const width = Math.max(\n        Math.max(body.scrollWidth, documentElement.scrollWidth),\n        Math.max(body.offsetWidth, documentElement.offsetWidth),\n        Math.max(body.clientWidth, documentElement.clientWidth)\n    );\n\n    const height = Math.max(\n        Math.max(body.scrollHeight, documentElement.scrollHeight),\n        Math.max(body.offsetHeight, documentElement.offsetHeight),\n        Math.max(body.clientHeight, documentElement.clientHeight)\n    );\n\n    return new Bounds(0, 0, width, height);\n};\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n","import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n","export const base64 =\n    'KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==';\nexport const byteLength = 39664;\n","'use strict';\n\nimport {createTrieFromBase64} from 'utrie';\nimport {base64, byteLength} from './linebreak-trie';\nimport {fromCodePoint, toCodePoints} from './Util';\n\nexport const LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nconst BK = 1; //  Cause a line break (after)\nconst CR = 2; //  Cause a line break (after), except between CR and LF\nconst LF = 3; //  Cause a line break (after)\nconst CM = 4; //  Prohibit a line break between the character and the preceding character\nconst NL = 5; //  Cause a line break (after)\nconst SG = 6; //  Do not occur in well-formed text\nconst WJ = 7; //  Prohibit line breaks before and after\nconst ZW = 8; //  Provide a break opportunity\nconst GL = 9; //  Prohibit line breaks before and after\nconst SP = 10; // Enable indirect line breaks\nconst ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nconst B2 = 12; //  Provide a line break opportunity before and after the character\nconst BA = 13; //  Generally provide a line break opportunity after the character\nconst BB = 14; //  Generally provide a line break opportunity before the character\nconst HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nconst CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nconst CL = 17; //  Prohibit line breaks before\nconst CP = 18; //  Prohibit line breaks before\nconst EX = 19; //  Prohibit line breaks before\nconst IN = 20; //  Allow only indirect line breaks between pairs\nconst NS = 21; //  Allow only indirect line breaks before\nconst OP = 22; //  Prohibit line breaks after\nconst QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nconst IS = 24; //  Prevent breaks after any and before numeric\nconst NU = 25; //  Form numeric expressions for line breaking purposes\nconst PO = 26; //  Do not break following a numeric expression\nconst PR = 27; //  Do not break in front of a numeric expression\nconst SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nconst AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nconst AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nconst CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nconst EB = 32; //  Do not break from following Emoji Modifier\nconst EM = 33; //  Do not break from preceding Emoji Base\nconst H2 = 34; //  Form Korean syllable blocks\nconst H3 = 35; //  Form Korean syllable blocks\nconst HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nconst ID = 37; //  Break before or after; except in some numeric context\nconst JL = 38; //  Form Korean syllable blocks\nconst JV = 39; //  Form Korean syllable blocks\nconst JT = 40; //  Form Korean syllable blocks\nconst RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nconst SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nconst XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nconst ea_OP = [0x2329, 0xff08];\n\nexport const classes: {[key: string]: number} = {\n    BK,\n    CR,\n    LF,\n    CM,\n    NL,\n    SG,\n    WJ,\n    ZW,\n    GL,\n    SP,\n    ZWJ,\n    B2,\n    BA,\n    BB,\n    HY,\n    CB,\n    CL,\n    CP,\n    EX,\n    IN,\n    NS,\n    OP,\n    QU,\n    IS,\n    NU,\n    PO,\n    PR,\n    SY,\n    AI,\n    AL,\n    CJ,\n    EB,\n    EM,\n    H2,\n    H3,\n    HL,\n    ID,\n    JL,\n    JV,\n    JT,\n    RI,\n    SA,\n    XX,\n};\n\nexport const BREAK_MANDATORY = '!';\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nconst ALPHABETICS = [AL, HL];\nconst HARD_LINE_BREAKS = [BK, CR, LF, NL];\nconst SPACE = [SP, ZW];\nconst PREFIX_POSTFIX = [PR, PO];\nconst LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nconst KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nconst HYPHEN = [HY, BA];\n\nexport const codePointsToCharacterClasses = (\n    codePoints: number[],\n    lineBreak: string = 'strict'\n): [number[], number[], boolean[]] => {\n    const types: number[] = [];\n    const indices: number[] = [];\n    const categories: boolean[] = [];\n    codePoints.forEach((codePoint, index) => {\n        let classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indices.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indices.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            const prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indices.push(indices[index - 1]);\n                return types.push(prev);\n            }\n            indices.push(index);\n            return types.push(AL);\n        }\n\n        indices.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indices, types, categories];\n};\n\nconst isAdjacentWithSpaceIgnored = (\n    a: number[] | number,\n    b: number,\n    currentIndex: number,\n    classTypes: number[]\n): boolean => {\n    const current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        let i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            let next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        let i = currentIndex;\n\n        while (i > 0) {\n            i--;\n            const prev = classTypes[i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                let n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    let next = classTypes[n];\n\n                    if (next === b) {\n                        return true;\n                    }\n\n                    if (next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nconst previousNonSpaceClassType = (currentIndex: number, classTypes: number[]): number => {\n    let i = currentIndex;\n    while (i >= 0) {\n        let type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED | typeof BREAK_MANDATORY;\n\nconst _lineBreakAtIndex = (\n    codePoints: number[],\n    classTypes: number[],\n    indicies: number[],\n    index: number,\n    forbiddenBreaks?: boolean[]\n): BREAK_OPPORTUNITIES => {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let beforeIndex = currentIndex - 1;\n    let afterIndex = currentIndex + 1;\n    let current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    let before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    let next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break after a zero width joiner.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // zwj emojis\n    if ((current === EB || current === EM) && UnicodeTrie.get(codePoints[afterIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break before ellipsis.\n    if (next === IN) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (\n        (current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\n        ([ID, EB, EM].indexOf(current) !== -1 && next === PO)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (\n        (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\n        (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n        // (PR | PO)  ( OP | HY )? NU\n        ([PR, PO].indexOf(current) !== -1 &&\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\n        // ( OP | HY )  NU\n        ([OP, HY].indexOf(current) !== -1 && next === NU) ||\n        // NU \t(NU | SY | IS)\n        (current === NU && [NU, SY, IS].indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        let prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        let prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (\n        (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\n        ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\n        ([JT, H3].indexOf(current) !== -1 && next === JT)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (\n        (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\n        (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (\n        (ALPHABETICS.concat(NU).indexOf(current) !== -1 &&\n            next === OP &&\n            ea_OP.indexOf(codePoints[afterIndex]) === -1) ||\n        (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        let i = indicies[currentIndex];\n        let count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const lineBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    const [indices, classTypes] = codePointsToCharacterClasses(codePoints);\n\n    return _lineBreakAtIndex(codePoints, classTypes, indices, index);\n};\n\nexport type LINE_BREAK = 'auto' | 'normal' | 'strict';\nexport type WORD_BREAK = 'normal' | 'break-all' | 'break-word' | 'keep-all';\n\ninterface IOptions {\n    lineBreak?: LINE_BREAK;\n    wordBreak?: WORD_BREAK;\n}\n\nconst cssFormattedClasses = (codePoints: number[], options?: IOptions): [number[], number[], boolean[] | undefined] => {\n    if (!options) {\n        options = {lineBreak: 'normal', wordBreak: 'normal'};\n    }\n    let [indicies, classTypes, isLetterNumber] = codePointsToCharacterClasses(codePoints, options.lineBreak);\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map((type) => ([NU, AL, SA].indexOf(type) !== -1 ? ID : type));\n    }\n\n    const forbiddenBreakpoints =\n        options.wordBreak === 'keep-all'\n            ? isLetterNumber.map((letterNumber, i) => {\n                  return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n              })\n            : undefined;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nexport const inlineBreakOpportunities = (str: string, options?: IOptions): string => {\n    const codePoints = toCodePoints(str);\n    let output = BREAK_NOT_ALLOWED;\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n\n    codePoints.forEach((codePoint, i) => {\n        output +=\n            fromCodePoint(codePoint) +\n            (i >= codePoints.length - 1\n                ? BREAK_MANDATORY\n                : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nclass Break {\n    private readonly codePoints: number[];\n    readonly required: boolean;\n    readonly start: number;\n    readonly end: number;\n\n    constructor(codePoints: number[], lineBreak: string, start: number, end: number) {\n        this.codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    slice(): string {\n        return fromCodePoint(...this.codePoints.slice(this.start, this.end));\n    }\n}\n\nexport type LineBreak =\n    | {\n          done: true;\n          value: null;\n      }\n    | {\n          done: false;\n          value: Break;\n      };\n\ninterface ILineBreakIterator {\n    next: () => LineBreak;\n}\n\nexport const LineBreaker = (str: string, options?: IOptions): ILineBreakIterator => {\n    const codePoints = toCodePoints(str);\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n    const length = codePoints.length;\n    let lastEnd = 0;\n    let nextIndex = 0;\n\n    return {\n        next: () => {\n            if (nextIndex >= length) {\n                return {done: true, value: null};\n            }\n            let lineBreak = BREAK_NOT_ALLOWED;\n            while (\n                nextIndex < length &&\n                (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\n                    BREAK_NOT_ALLOWED\n            ) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                const value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n        },\n    };\n};\n","// https://www.w3.org/TR/css-syntax-3\n\nimport {fromCodePoint, toCodePoints} from 'css-line-break';\n\nexport const enum TokenType {\n    STRING_TOKEN,\n    BAD_STRING_TOKEN,\n    LEFT_PARENTHESIS_TOKEN,\n    RIGHT_PARENTHESIS_TOKEN,\n    COMMA_TOKEN,\n    HASH_TOKEN,\n    DELIM_TOKEN,\n    AT_KEYWORD_TOKEN,\n    PREFIX_MATCH_TOKEN,\n    DASH_MATCH_TOKEN,\n    INCLUDE_MATCH_TOKEN,\n    LEFT_CURLY_BRACKET_TOKEN,\n    RIGHT_CURLY_BRACKET_TOKEN,\n    SUFFIX_MATCH_TOKEN,\n    SUBSTRING_MATCH_TOKEN,\n    DIMENSION_TOKEN,\n    PERCENTAGE_TOKEN,\n    NUMBER_TOKEN,\n    FUNCTION,\n    FUNCTION_TOKEN,\n    IDENT_TOKEN,\n    COLUMN_TOKEN,\n    URL_TOKEN,\n    BAD_URL_TOKEN,\n    CDC_TOKEN,\n    CDO_TOKEN,\n    COLON_TOKEN,\n    SEMICOLON_TOKEN,\n    LEFT_SQUARE_BRACKET_TOKEN,\n    RIGHT_SQUARE_BRACKET_TOKEN,\n    UNICODE_RANGE_TOKEN,\n    WHITESPACE_TOKEN,\n    EOF_TOKEN\n}\n\ninterface IToken {\n    type: TokenType;\n}\n\nexport interface Token extends IToken {\n    type:\n        | TokenType.BAD_URL_TOKEN\n        | TokenType.BAD_STRING_TOKEN\n        | TokenType.LEFT_PARENTHESIS_TOKEN\n        | TokenType.RIGHT_PARENTHESIS_TOKEN\n        | TokenType.COMMA_TOKEN\n        | TokenType.SUBSTRING_MATCH_TOKEN\n        | TokenType.PREFIX_MATCH_TOKEN\n        | TokenType.SUFFIX_MATCH_TOKEN\n        | TokenType.COLON_TOKEN\n        | TokenType.SEMICOLON_TOKEN\n        | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n        | TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n        | TokenType.LEFT_CURLY_BRACKET_TOKEN\n        | TokenType.RIGHT_CURLY_BRACKET_TOKEN\n        | TokenType.DASH_MATCH_TOKEN\n        | TokenType.INCLUDE_MATCH_TOKEN\n        | TokenType.COLUMN_TOKEN\n        | TokenType.WHITESPACE_TOKEN\n        | TokenType.CDC_TOKEN\n        | TokenType.CDO_TOKEN\n        | TokenType.EOF_TOKEN;\n}\n\nexport interface StringValueToken extends IToken {\n    type:\n        | TokenType.STRING_TOKEN\n        | TokenType.DELIM_TOKEN\n        | TokenType.FUNCTION_TOKEN\n        | TokenType.IDENT_TOKEN\n        | TokenType.URL_TOKEN\n        | TokenType.AT_KEYWORD_TOKEN;\n    value: string;\n}\n\nexport interface HashToken extends IToken {\n    type: TokenType.HASH_TOKEN;\n    flags: number;\n    value: string;\n}\n\nexport interface NumberValueToken extends IToken {\n    type: TokenType.PERCENTAGE_TOKEN | TokenType.NUMBER_TOKEN;\n    flags: number;\n    number: number;\n}\n\nexport interface DimensionToken extends IToken {\n    type: TokenType.DIMENSION_TOKEN;\n    flags: number;\n    unit: string;\n    number: number;\n}\n\nexport interface UnicodeRangeToken extends IToken {\n    type: TokenType.UNICODE_RANGE_TOKEN;\n    start: number;\n    end: number;\n}\n\nexport type CSSToken = Token | StringValueToken | NumberValueToken | DimensionToken | UnicodeRangeToken | HashToken;\n\nexport const FLAG_UNRESTRICTED = 1 << 0;\nexport const FLAG_ID = 1 << 1;\nexport const FLAG_INTEGER = 1 << 2;\nexport const FLAG_NUMBER = 1 << 3;\n\nconst LINE_FEED = 0x000a;\nconst SOLIDUS = 0x002f;\nconst REVERSE_SOLIDUS = 0x005c;\nconst CHARACTER_TABULATION = 0x0009;\nconst SPACE = 0x0020;\nconst QUOTATION_MARK = 0x0022;\nconst EQUALS_SIGN = 0x003d;\nconst NUMBER_SIGN = 0x0023;\nconst DOLLAR_SIGN = 0x0024;\nconst PERCENTAGE_SIGN = 0x0025;\nconst APOSTROPHE = 0x0027;\nconst LEFT_PARENTHESIS = 0x0028;\nconst RIGHT_PARENTHESIS = 0x0029;\nconst LOW_LINE = 0x005f;\nconst HYPHEN_MINUS = 0x002d;\nconst EXCLAMATION_MARK = 0x0021;\nconst LESS_THAN_SIGN = 0x003c;\nconst GREATER_THAN_SIGN = 0x003e;\nconst COMMERCIAL_AT = 0x0040;\nconst LEFT_SQUARE_BRACKET = 0x005b;\nconst RIGHT_SQUARE_BRACKET = 0x005d;\nconst CIRCUMFLEX_ACCENT = 0x003d;\nconst LEFT_CURLY_BRACKET = 0x007b;\nconst QUESTION_MARK = 0x003f;\nconst RIGHT_CURLY_BRACKET = 0x007d;\nconst VERTICAL_LINE = 0x007c;\nconst TILDE = 0x007e;\nconst CONTROL = 0x0080;\nconst REPLACEMENT_CHARACTER = 0xfffd;\nconst ASTERISK = 0x002a;\nconst PLUS_SIGN = 0x002b;\nconst COMMA = 0x002c;\nconst COLON = 0x003a;\nconst SEMICOLON = 0x003b;\nconst FULL_STOP = 0x002e;\nconst NULL = 0x0000;\nconst BACKSPACE = 0x0008;\nconst LINE_TABULATION = 0x000b;\nconst SHIFT_OUT = 0x000e;\nconst INFORMATION_SEPARATOR_ONE = 0x001f;\nconst DELETE = 0x007f;\nconst EOF = -1;\nconst ZERO = 0x0030;\nconst a = 0x0061;\nconst e = 0x0065;\nconst f = 0x0066;\nconst u = 0x0075;\nconst z = 0x007a;\nconst A = 0x0041;\nconst E = 0x0045;\nconst F = 0x0046;\nconst U = 0x0055;\nconst Z = 0x005a;\n\nconst isDigit = (codePoint: number) => codePoint >= ZERO && codePoint <= 0x0039;\nconst isSurrogateCodePoint = (codePoint: number) => codePoint >= 0xd800 && codePoint <= 0xdfff;\nconst isHex = (codePoint: number) =>\n    isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\nconst isLowerCaseLetter = (codePoint: number) => codePoint >= a && codePoint <= z;\nconst isUpperCaseLetter = (codePoint: number) => codePoint >= A && codePoint <= Z;\nconst isLetter = (codePoint: number) => isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint);\nconst isNonASCIICodePoint = (codePoint: number) => codePoint >= CONTROL;\nconst isWhiteSpace = (codePoint: number): boolean =>\n    codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE;\nconst isNameStartCodePoint = (codePoint: number): boolean =>\n    isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\nconst isNameCodePoint = (codePoint: number): boolean =>\n    isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\nconst isNonPrintableCodePoint = (codePoint: number): boolean => {\n    return (\n        (codePoint >= NULL && codePoint <= BACKSPACE) ||\n        codePoint === LINE_TABULATION ||\n        (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\n        codePoint === DELETE\n    );\n};\nconst isValidEscape = (c1: number, c2: number): boolean => {\n    if (c1 !== REVERSE_SOLIDUS) {\n        return false;\n    }\n\n    return c2 !== LINE_FEED;\n};\nconst isIdentifierStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === HYPHEN_MINUS) {\n        return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\n    } else if (isNameStartCodePoint(c1)) {\n        return true;\n    } else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\n        return true;\n    }\n    return false;\n};\n\nconst isNumberStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n        if (isDigit(c2)) {\n            return true;\n        }\n\n        return c2 === FULL_STOP && isDigit(c3);\n    }\n\n    if (c1 === FULL_STOP) {\n        return isDigit(c2);\n    }\n\n    return isDigit(c1);\n};\n\nconst stringToNumber = (codePoints: number[]): number => {\n    let c = 0;\n    let sign = 1;\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            sign = -1;\n        }\n        c++;\n    }\n\n    const integers = [];\n\n    while (isDigit(codePoints[c])) {\n        integers.push(codePoints[c++]);\n    }\n\n    const int = integers.length ? parseInt(fromCodePoint(...integers), 10) : 0;\n\n    if (codePoints[c] === FULL_STOP) {\n        c++;\n    }\n\n    const fraction = [];\n    while (isDigit(codePoints[c])) {\n        fraction.push(codePoints[c++]);\n    }\n\n    const fracd = fraction.length;\n    const frac = fracd ? parseInt(fromCodePoint(...fraction), 10) : 0;\n\n    if (codePoints[c] === E || codePoints[c] === e) {\n        c++;\n    }\n\n    let expsign = 1;\n\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            expsign = -1;\n        }\n        c++;\n    }\n\n    const exponent = [];\n\n    while (isDigit(codePoints[c])) {\n        exponent.push(codePoints[c++]);\n    }\n\n    const exp = exponent.length ? parseInt(fromCodePoint(...exponent), 10) : 0;\n\n    return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\n};\n\nconst LEFT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.LEFT_PARENTHESIS_TOKEN\n};\nconst RIGHT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.RIGHT_PARENTHESIS_TOKEN\n};\nconst COMMA_TOKEN: Token = {type: TokenType.COMMA_TOKEN};\nconst SUFFIX_MATCH_TOKEN: Token = {type: TokenType.SUFFIX_MATCH_TOKEN};\nconst PREFIX_MATCH_TOKEN: Token = {type: TokenType.PREFIX_MATCH_TOKEN};\nconst COLUMN_TOKEN: Token = {type: TokenType.COLUMN_TOKEN};\nconst DASH_MATCH_TOKEN: Token = {type: TokenType.DASH_MATCH_TOKEN};\nconst INCLUDE_MATCH_TOKEN: Token = {type: TokenType.INCLUDE_MATCH_TOKEN};\nconst LEFT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_CURLY_BRACKET_TOKEN\n};\nconst RIGHT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\n};\nconst SUBSTRING_MATCH_TOKEN: Token = {type: TokenType.SUBSTRING_MATCH_TOKEN};\nconst BAD_URL_TOKEN: Token = {type: TokenType.BAD_URL_TOKEN};\nconst BAD_STRING_TOKEN: Token = {type: TokenType.BAD_STRING_TOKEN};\nconst CDO_TOKEN: Token = {type: TokenType.CDO_TOKEN};\nconst CDC_TOKEN: Token = {type: TokenType.CDC_TOKEN};\nconst COLON_TOKEN: Token = {type: TokenType.COLON_TOKEN};\nconst SEMICOLON_TOKEN: Token = {type: TokenType.SEMICOLON_TOKEN};\nconst LEFT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\n};\nconst RIGHT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n};\nconst WHITESPACE_TOKEN: Token = {type: TokenType.WHITESPACE_TOKEN};\nexport const EOF_TOKEN: Token = {type: TokenType.EOF_TOKEN};\n\nexport class Tokenizer {\n    private _value: number[];\n\n    constructor() {\n        this._value = [];\n    }\n\n    write(chunk: string): void {\n        this._value = this._value.concat(toCodePoints(chunk));\n    }\n\n    read(): CSSToken[] {\n        const tokens = [];\n        let token = this.consumeToken();\n        while (token !== EOF_TOKEN) {\n            tokens.push(token);\n            token = this.consumeToken();\n        }\n        return tokens;\n    }\n\n    private consumeToken(): CSSToken {\n        const codePoint = this.consumeCodePoint();\n\n        switch (codePoint) {\n            case QUOTATION_MARK:\n                return this.consumeStringToken(QUOTATION_MARK);\n            case NUMBER_SIGN:\n                const c1 = this.peekCodePoint(0);\n                const c2 = this.peekCodePoint(1);\n                const c3 = this.peekCodePoint(2);\n                if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\n                    const flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\n                    const value = this.consumeName();\n\n                    return {type: TokenType.HASH_TOKEN, value, flags};\n                }\n                break;\n            case DOLLAR_SIGN:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUFFIX_MATCH_TOKEN;\n                }\n                break;\n            case APOSTROPHE:\n                return this.consumeStringToken(APOSTROPHE);\n            case LEFT_PARENTHESIS:\n                return LEFT_PARENTHESIS_TOKEN;\n            case RIGHT_PARENTHESIS:\n                return RIGHT_PARENTHESIS_TOKEN;\n            case ASTERISK:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUBSTRING_MATCH_TOKEN;\n                }\n                break;\n            case PLUS_SIGN:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case COMMA:\n                return COMMA_TOKEN;\n            case HYPHEN_MINUS:\n                const e1 = codePoint;\n                const e2 = this.peekCodePoint(0);\n                const e3 = this.peekCodePoint(1);\n\n                if (isNumberStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n\n                if (isIdentifierStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n\n                if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDC_TOKEN;\n                }\n                break;\n\n            case FULL_STOP:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case SOLIDUS:\n                if (this.peekCodePoint(0) === ASTERISK) {\n                    this.consumeCodePoint();\n                    while (true) {\n                        let c = this.consumeCodePoint();\n                        if (c === ASTERISK) {\n                            c = this.consumeCodePoint();\n                            if (c === SOLIDUS) {\n                                return this.consumeToken();\n                            }\n                        }\n                        if (c === EOF) {\n                            return this.consumeToken();\n                        }\n                    }\n                }\n                break;\n            case COLON:\n                return COLON_TOKEN;\n            case SEMICOLON:\n                return SEMICOLON_TOKEN;\n            case LESS_THAN_SIGN:\n                if (\n                    this.peekCodePoint(0) === EXCLAMATION_MARK &&\n                    this.peekCodePoint(1) === HYPHEN_MINUS &&\n                    this.peekCodePoint(2) === HYPHEN_MINUS\n                ) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDO_TOKEN;\n                }\n                break;\n            case COMMERCIAL_AT:\n                const a1 = this.peekCodePoint(0);\n                const a2 = this.peekCodePoint(1);\n                const a3 = this.peekCodePoint(2);\n                if (isIdentifierStart(a1, a2, a3)) {\n                    const value = this.consumeName();\n                    return {type: TokenType.AT_KEYWORD_TOKEN, value};\n                }\n                break;\n            case LEFT_SQUARE_BRACKET:\n                return LEFT_SQUARE_BRACKET_TOKEN;\n            case REVERSE_SOLIDUS:\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n                break;\n            case RIGHT_SQUARE_BRACKET:\n                return RIGHT_SQUARE_BRACKET_TOKEN;\n            case CIRCUMFLEX_ACCENT:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return PREFIX_MATCH_TOKEN;\n                }\n                break;\n            case LEFT_CURLY_BRACKET:\n                return LEFT_CURLY_BRACKET_TOKEN;\n            case RIGHT_CURLY_BRACKET:\n                return RIGHT_CURLY_BRACKET_TOKEN;\n            case u:\n            case U:\n                const u1 = this.peekCodePoint(0);\n                const u2 = this.peekCodePoint(1);\n                if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\n                    this.consumeCodePoint();\n                    this.consumeUnicodeRangeToken();\n                }\n                this.reconsumeCodePoint(codePoint);\n                return this.consumeIdentLikeToken();\n            case VERTICAL_LINE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return DASH_MATCH_TOKEN;\n                }\n                if (this.peekCodePoint(0) === VERTICAL_LINE) {\n                    this.consumeCodePoint();\n                    return COLUMN_TOKEN;\n                }\n                break;\n            case TILDE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return INCLUDE_MATCH_TOKEN;\n                }\n                break;\n            case EOF:\n                return EOF_TOKEN;\n        }\n\n        if (isWhiteSpace(codePoint)) {\n            this.consumeWhiteSpace();\n            return WHITESPACE_TOKEN;\n        }\n\n        if (isDigit(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeNumericToken();\n        }\n\n        if (isNameStartCodePoint(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeIdentLikeToken();\n        }\n\n        return {type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint)};\n    }\n\n    private consumeCodePoint(): number {\n        const value = this._value.shift();\n\n        return typeof value === 'undefined' ? -1 : value;\n    }\n\n    private reconsumeCodePoint(codePoint: number) {\n        this._value.unshift(codePoint);\n    }\n\n    private peekCodePoint(delta: number): number {\n        if (delta >= this._value.length) {\n            return -1;\n        }\n\n        return this._value[delta];\n    }\n\n    private consumeUnicodeRangeToken(): UnicodeRangeToken {\n        const digits = [];\n        let codePoint = this.consumeCodePoint();\n        while (isHex(codePoint) && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n        }\n        let questionMarks = false;\n        while (codePoint === QUESTION_MARK && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n            questionMarks = true;\n        }\n\n        if (questionMarks) {\n            const start = parseInt(\n                fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? ZERO : digit))),\n                16\n            );\n            const end = parseInt(fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? F : digit))), 16);\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        }\n\n        const start = parseInt(fromCodePoint(...digits), 16);\n        if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\n            this.consumeCodePoint();\n            codePoint = this.consumeCodePoint();\n            const endDigits = [];\n            while (isHex(codePoint) && endDigits.length < 6) {\n                endDigits.push(codePoint);\n                codePoint = this.consumeCodePoint();\n            }\n            const end = parseInt(fromCodePoint(...endDigits), 16);\n\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        } else {\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end: start};\n        }\n    }\n\n    private consumeIdentLikeToken(): StringValueToken | Token {\n        const value = this.consumeName();\n        if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return this.consumeUrlToken();\n        } else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return {type: TokenType.FUNCTION_TOKEN, value};\n        }\n\n        return {type: TokenType.IDENT_TOKEN, value};\n    }\n\n    private consumeUrlToken(): StringValueToken | Token {\n        const value = [];\n        this.consumeWhiteSpace();\n\n        if (this.peekCodePoint(0) === EOF) {\n            return {type: TokenType.URL_TOKEN, value: ''};\n        }\n\n        const next = this.peekCodePoint(0);\n        if (next === APOSTROPHE || next === QUOTATION_MARK) {\n            const stringToken = this.consumeStringToken(this.consumeCodePoint());\n            if (stringToken.type === TokenType.STRING_TOKEN) {\n                this.consumeWhiteSpace();\n\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: stringToken.value};\n                }\n            }\n\n            this.consumeBadUrlRemnants();\n            return BAD_URL_TOKEN;\n        }\n\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\n                return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n            } else if (isWhiteSpace(codePoint)) {\n                this.consumeWhiteSpace();\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n                }\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (\n                codePoint === QUOTATION_MARK ||\n                codePoint === APOSTROPHE ||\n                codePoint === LEFT_PARENTHESIS ||\n                isNonPrintableCodePoint(codePoint)\n            ) {\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (codePoint === REVERSE_SOLIDUS) {\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    value.push(this.consumeEscapedCodePoint());\n                } else {\n                    this.consumeBadUrlRemnants();\n                    return BAD_URL_TOKEN;\n                }\n            } else {\n                value.push(codePoint);\n            }\n        }\n    }\n\n    private consumeWhiteSpace(): void {\n        while (isWhiteSpace(this.peekCodePoint(0))) {\n            this.consumeCodePoint();\n        }\n    }\n\n    private consumeBadUrlRemnants(): void {\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\n                return;\n            }\n\n            if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                this.consumeEscapedCodePoint();\n            }\n        }\n    }\n\n    private consumeStringSlice(count: number): string {\n        const SLICE_STACK_SIZE = 50000;\n        let value = '';\n        while (count > 0) {\n            const amount = Math.min(SLICE_STACK_SIZE, count);\n            value += fromCodePoint(...this._value.splice(0, amount));\n            count -= amount;\n        }\n        this._value.shift();\n\n        return value;\n    }\n\n    private consumeStringToken(endingCodePoint: number): StringValueToken | Token {\n        let value = '';\n        let i = 0;\n\n        do {\n            const codePoint = this._value[i];\n            if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\n                value += this.consumeStringSlice(i);\n                return {type: TokenType.STRING_TOKEN, value};\n            }\n\n            if (codePoint === LINE_FEED) {\n                this._value.splice(0, i);\n                return BAD_STRING_TOKEN;\n            }\n\n            if (codePoint === REVERSE_SOLIDUS) {\n                const next = this._value[i + 1];\n                if (next !== EOF && next !== undefined) {\n                    if (next === LINE_FEED) {\n                        value += this.consumeStringSlice(i);\n                        i = -1;\n                        this._value.shift();\n                    } else if (isValidEscape(codePoint, next)) {\n                        value += this.consumeStringSlice(i);\n                        value += fromCodePoint(this.consumeEscapedCodePoint());\n                        i = -1;\n                    }\n                }\n            }\n\n            i++;\n        } while (true);\n    }\n\n    private consumeNumber() {\n        const repr = [];\n        let type = FLAG_INTEGER;\n        let c1 = this.peekCodePoint(0);\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n            repr.push(this.consumeCodePoint());\n        }\n\n        while (isDigit(this.peekCodePoint(0))) {\n            repr.push(this.consumeCodePoint());\n        }\n        c1 = this.peekCodePoint(0);\n        let c2 = this.peekCodePoint(1);\n        if (c1 === FULL_STOP && isDigit(c2)) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        c1 = this.peekCodePoint(0);\n        c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n        if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        return [stringToNumber(repr), type];\n    }\n\n    private consumeNumericToken(): NumberValueToken | DimensionToken {\n        const [number, flags] = this.consumeNumber();\n        const c1 = this.peekCodePoint(0);\n        const c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n\n        if (isIdentifierStart(c1, c2, c3)) {\n            const unit = this.consumeName();\n            return {type: TokenType.DIMENSION_TOKEN, number, flags, unit};\n        }\n\n        if (c1 === PERCENTAGE_SIGN) {\n            this.consumeCodePoint();\n            return {type: TokenType.PERCENTAGE_TOKEN, number, flags};\n        }\n\n        return {type: TokenType.NUMBER_TOKEN, number, flags};\n    }\n\n    private consumeEscapedCodePoint(): number {\n        const codePoint = this.consumeCodePoint();\n\n        if (isHex(codePoint)) {\n            let hex = fromCodePoint(codePoint);\n            while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\n                hex += fromCodePoint(this.consumeCodePoint());\n            }\n\n            if (isWhiteSpace(this.peekCodePoint(0))) {\n                this.consumeCodePoint();\n            }\n\n            const hexCodePoint = parseInt(hex, 16);\n\n            if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\n                return REPLACEMENT_CHARACTER;\n            }\n\n            return hexCodePoint;\n        }\n\n        if (codePoint === EOF) {\n            return REPLACEMENT_CHARACTER;\n        }\n\n        return codePoint;\n    }\n\n    private consumeName(): string {\n        let result = '';\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (isNameCodePoint(codePoint)) {\n                result += fromCodePoint(codePoint);\n            } else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                result += fromCodePoint(this.consumeEscapedCodePoint());\n            } else {\n                this.reconsumeCodePoint(codePoint);\n                return result;\n            }\n        }\n    }\n}\n","import {\n    CSSToken,\n    DimensionToken,\n    EOF_TOKEN,\n    NumberValueToken,\n    StringValueToken,\n    Tokenizer,\n    TokenType\n} from './tokenizer';\n\nexport type CSSBlockType =\n    | TokenType.LEFT_PARENTHESIS_TOKEN\n    | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n    | TokenType.LEFT_CURLY_BRACKET_TOKEN;\n\nexport interface CSSBlock {\n    type: CSSBlockType;\n    values: CSSValue[];\n}\n\nexport interface CSSFunction {\n    type: TokenType.FUNCTION;\n    name: string;\n    values: CSSValue[];\n}\n\nexport type CSSValue = CSSFunction | CSSToken | CSSBlock;\n\nexport class Parser {\n    private _tokens: CSSToken[];\n\n    constructor(tokens: CSSToken[]) {\n        this._tokens = tokens;\n    }\n\n    static create(value: string): Parser {\n        const tokenizer = new Tokenizer();\n        tokenizer.write(value);\n        return new Parser(tokenizer.read());\n    }\n\n    static parseValue(value: string): CSSValue {\n        return Parser.create(value).parseComponentValue();\n    }\n\n    static parseValues(value: string): CSSValue[] {\n        return Parser.create(value).parseComponentValues();\n    }\n\n    parseComponentValue(): CSSValue {\n        let token = this.consumeToken();\n        while (token.type === TokenType.WHITESPACE_TOKEN) {\n            token = this.consumeToken();\n        }\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            throw new SyntaxError(`Error parsing CSS component value, unexpected EOF`);\n        }\n\n        this.reconsumeToken(token);\n        const value = this.consumeComponentValue();\n\n        do {\n            token = this.consumeToken();\n        } while (token.type === TokenType.WHITESPACE_TOKEN);\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            return value;\n        }\n\n        throw new SyntaxError(`Error parsing CSS component value, multiple values found when expecting only one`);\n    }\n\n    parseComponentValues(): CSSValue[] {\n        const values = [];\n        while (true) {\n            const value = this.consumeComponentValue();\n            if (value.type === TokenType.EOF_TOKEN) {\n                return values;\n            }\n            values.push(value);\n            values.push();\n        }\n    }\n\n    private consumeComponentValue(): CSSValue {\n        const token = this.consumeToken();\n\n        switch (token.type) {\n            case TokenType.LEFT_CURLY_BRACKET_TOKEN:\n            case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\n            case TokenType.LEFT_PARENTHESIS_TOKEN:\n                return this.consumeSimpleBlock(token.type);\n            case TokenType.FUNCTION_TOKEN:\n                return this.consumeFunction(token);\n        }\n\n        return token;\n    }\n\n    private consumeSimpleBlock(type: CSSBlockType): CSSBlock {\n        const block: CSSBlock = {type, values: []};\n\n        let token = this.consumeToken();\n        while (true) {\n            if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\n                return block;\n            }\n\n            this.reconsumeToken(token);\n            block.values.push(this.consumeComponentValue());\n            token = this.consumeToken();\n        }\n    }\n\n    private consumeFunction(functionToken: StringValueToken): CSSFunction {\n        const cssFunction: CSSFunction = {\n            name: functionToken.value,\n            values: [],\n            type: TokenType.FUNCTION\n        };\n\n        while (true) {\n            const token = this.consumeToken();\n            if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\n                return cssFunction;\n            }\n\n            this.reconsumeToken(token);\n            cssFunction.values.push(this.consumeComponentValue());\n        }\n    }\n\n    private consumeToken(): CSSToken {\n        const token = this._tokens.shift();\n        return typeof token === 'undefined' ? EOF_TOKEN : token;\n    }\n\n    private reconsumeToken(token: CSSToken): void {\n        this._tokens.unshift(token);\n    }\n}\n\nexport const isDimensionToken = (token: CSSValue): token is DimensionToken => token.type === TokenType.DIMENSION_TOKEN;\nexport const isNumberToken = (token: CSSValue): token is NumberValueToken => token.type === TokenType.NUMBER_TOKEN;\nexport const isIdentToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.IDENT_TOKEN;\nexport const isStringToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.STRING_TOKEN;\nexport const isIdentWithValue = (token: CSSValue, value: string): boolean =>\n    isIdentToken(token) && token.value === value;\n\nexport const nonWhiteSpace = (token: CSSValue): boolean => token.type !== TokenType.WHITESPACE_TOKEN;\nexport const nonFunctionArgSeparator = (token: CSSValue): boolean =>\n    token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\n\nexport const parseFunctionArgs = (tokens: CSSValue[]): CSSValue[][] => {\n    const args: CSSValue[][] = [];\n    let arg: CSSValue[] = [];\n    tokens.forEach((token) => {\n        if (token.type === TokenType.COMMA_TOKEN) {\n            if (arg.length === 0) {\n                throw new Error(`Error parsing function args, zero tokens for arg`);\n            }\n            args.push(arg);\n            arg = [];\n            return;\n        }\n\n        if (token.type !== TokenType.WHITESPACE_TOKEN) {\n            arg.push(token);\n        }\n    });\n    if (arg.length) {\n        args.push(arg);\n    }\n\n    return args;\n};\n\nconst isEndingTokenFor = (token: CSSToken, type: CSSBlockType): boolean => {\n    if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\n        return true;\n    }\n    if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\n        return true;\n    }\n\n    return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\n};\n","import {CSSValue} from '../syntax/parser';\nimport {DimensionToken, NumberValueToken, TokenType} from '../syntax/tokenizer';\n\nexport type Length = DimensionToken | NumberValueToken;\n\nexport const isLength = (token: CSSValue): token is Length =>\n    token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\n","import {DimensionToken, FLAG_INTEGER, NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {isLength} from './length';\nexport type LengthPercentage = DimensionToken | NumberValueToken;\nexport type LengthPercentageTuple = [LengthPercentage] | [LengthPercentage, LengthPercentage];\n\nexport const isLengthPercentage = (token: CSSValue): token is LengthPercentage =>\n    token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\nexport const parseLengthPercentageTuple = (tokens: LengthPercentage[]): LengthPercentageTuple =>\n    tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\nexport const ZERO_LENGTH: NumberValueToken = {\n    type: TokenType.NUMBER_TOKEN,\n    number: 0,\n    flags: FLAG_INTEGER\n};\n\nexport const FIFTY_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\n\nexport const HUNDRED_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 100,\n    flags: FLAG_INTEGER\n};\n\nexport const getAbsoluteValueForTuple = (\n    tuple: LengthPercentageTuple,\n    width: number,\n    height: number\n): [number, number] => {\n    const [x, y] = tuple;\n    return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\n};\nexport const getAbsoluteValue = (token: LengthPercentage, parent: number): number => {\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        return (token.number / 100) * parent;\n    }\n\n    if (isDimensionToken(token)) {\n        switch (token.unit) {\n            case 'rem':\n            case 'em':\n                return 16 * token.number; // TODO use correct font-size\n            case 'px':\n            default:\n                return token.number;\n        }\n    }\n\n    return token.number;\n};\n","import {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {HUNDRED_PERCENT, ZERO_LENGTH} from './length-percentage';\nimport {GradientCorner} from './image';\nimport {Context} from '../../core/context';\n\nconst DEG = 'deg';\nconst GRAD = 'grad';\nconst RAD = 'rad';\nconst TURN = 'turn';\n\nexport const angle: ITypeDescriptor<number> = {\n    name: 'angle',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit) {\n                case DEG:\n                    return (Math.PI * value.number) / 180;\n                case GRAD:\n                    return (Math.PI / 200) * value.number;\n                case RAD:\n                    return value.number;\n                case TURN:\n                    return Math.PI * 2 * value.number;\n            }\n        }\n\n        throw new Error(`Unsupported angle type`);\n    }\n};\n\nexport const isAngle = (value: CSSValue): boolean => {\n    if (value.type === TokenType.DIMENSION_TOKEN) {\n        if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\n            return true;\n        }\n    }\n    return false;\n};\n\nexport const parseNamedSide = (tokens: CSSValue[]): number | GradientCorner => {\n    const sideOrCorner = tokens\n        .filter(isIdentToken)\n        .map((ident) => ident.value)\n        .join(' ');\n\n    switch (sideOrCorner) {\n        case 'to bottom right':\n        case 'to right bottom':\n        case 'left top':\n        case 'top left':\n            return [ZERO_LENGTH, ZERO_LENGTH];\n        case 'to top':\n        case 'bottom':\n            return deg(0);\n        case 'to bottom left':\n        case 'to left bottom':\n        case 'right top':\n        case 'top right':\n            return [ZERO_LENGTH, HUNDRED_PERCENT];\n        case 'to right':\n        case 'left':\n            return deg(90);\n        case 'to top left':\n        case 'to left top':\n        case 'right bottom':\n        case 'bottom right':\n            return [HUNDRED_PERCENT, HUNDRED_PERCENT];\n        case 'to bottom':\n        case 'top':\n            return deg(180);\n        case 'to top right':\n        case 'to right top':\n        case 'left bottom':\n        case 'bottom left':\n            return [HUNDRED_PERCENT, ZERO_LENGTH];\n        case 'to left':\n        case 'right':\n            return deg(270);\n    }\n\n    return 0;\n};\n\nexport const deg = (deg: number): number => (Math.PI * deg) / 180;\n","import {CSSValue, nonFunctionArgSeparator, Parser} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {angle, deg} from './angle';\nimport {getAbsoluteValue, isLengthPercentage} from './length-percentage';\nimport {Context} from '../../core/context';\nexport type Color = number;\n\nexport const color: ITypeDescriptor<Color> = {\n    name: 'color',\n    parse: (context: Context, value: CSSValue): Color => {\n        if (value.type === TokenType.FUNCTION) {\n            const colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\n            if (typeof colorFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported color function \"${value.name}\"`);\n            }\n            return colorFunction(context, value.values);\n        }\n\n        if (value.type === TokenType.HASH_TOKEN) {\n            if (value.value.length === 3) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\n            }\n\n            if (value.value.length === 4) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                const a = value.value.substring(3, 4);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\n            }\n\n            if (value.value.length === 6) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\n            }\n\n            if (value.value.length === 8) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                const a = value.value.substring(6, 8);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\n            }\n        }\n\n        if (value.type === TokenType.IDENT_TOKEN) {\n            const namedColor = COLORS[value.value.toUpperCase()];\n            if (typeof namedColor !== 'undefined') {\n                return namedColor;\n            }\n        }\n\n        return COLORS.TRANSPARENT;\n    }\n};\n\nexport const isTransparent = (color: Color): boolean => (0xff & color) === 0;\n\nexport const asString = (color: Color): string => {\n    const alpha = 0xff & color;\n    const blue = 0xff & (color >> 8);\n    const green = 0xff & (color >> 16);\n    const red = 0xff & (color >> 24);\n    return alpha < 255 ? `rgba(${red},${green},${blue},${alpha / 255})` : `rgb(${red},${green},${blue})`;\n};\n\nexport const pack = (r: number, g: number, b: number, a: number): Color =>\n    ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\n\nconst getTokenColorValue = (token: CSSValue, i: number): number => {\n    if (token.type === TokenType.NUMBER_TOKEN) {\n        return token.number;\n    }\n\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        const max = i === 3 ? 1 : 255;\n        return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\n    }\n\n    return 0;\n};\n\nconst rgb = (_context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n\n    if (tokens.length === 3) {\n        const [r, g, b] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, 1);\n    }\n\n    if (tokens.length === 4) {\n        const [r, g, b, a] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, a);\n    }\n\n    return 0;\n};\n\nfunction hue2rgb(t1: number, t2: number, hue: number): number {\n    if (hue < 0) {\n        hue += 1;\n    }\n    if (hue >= 1) {\n        hue -= 1;\n    }\n\n    if (hue < 1 / 6) {\n        return (t2 - t1) * hue * 6 + t1;\n    } else if (hue < 1 / 2) {\n        return t2;\n    } else if (hue < 2 / 3) {\n        return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\n    } else {\n        return t1;\n    }\n}\n\nconst hsl = (context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n    const [hue, saturation, lightness, alpha] = tokens;\n\n    const h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(context, hue)) / (Math.PI * 2);\n    const s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\n    const l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\n    const a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\n\n    if (s === 0) {\n        return pack(l * 255, l * 255, l * 255, 1);\n    }\n\n    const t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n\n    const t1 = l * 2 - t2;\n    const r = hue2rgb(t1, t2, h + 1 / 3);\n    const g = hue2rgb(t1, t2, h);\n    const b = hue2rgb(t1, t2, h - 1 / 3);\n    return pack(r * 255, g * 255, b * 255, a);\n};\n\nconst SUPPORTED_COLOR_FUNCTIONS: {\n    [key: string]: (context: Context, args: CSSValue[]) => number;\n} = {\n    hsl: hsl,\n    hsla: hsl,\n    rgb: rgb,\n    rgba: rgb\n};\n\nexport const parseColor = (context: Context, value: string): Color =>\n    color.parse(context, Parser.create(value).parseComponentValue());\n\nexport const COLORS: {[key: string]: Color} = {\n    ALICEBLUE: 0xf0f8ffff,\n    ANTIQUEWHITE: 0xfaebd7ff,\n    AQUA: 0x00ffffff,\n    AQUAMARINE: 0x7fffd4ff,\n    AZURE: 0xf0ffffff,\n    BEIGE: 0xf5f5dcff,\n    BISQUE: 0xffe4c4ff,\n    BLACK: 0x000000ff,\n    BLANCHEDALMOND: 0xffebcdff,\n    BLUE: 0x0000ffff,\n    BLUEVIOLET: 0x8a2be2ff,\n    BROWN: 0xa52a2aff,\n    BURLYWOOD: 0xdeb887ff,\n    CADETBLUE: 0x5f9ea0ff,\n    CHARTREUSE: 0x7fff00ff,\n    CHOCOLATE: 0xd2691eff,\n    CORAL: 0xff7f50ff,\n    CORNFLOWERBLUE: 0x6495edff,\n    CORNSILK: 0xfff8dcff,\n    CRIMSON: 0xdc143cff,\n    CYAN: 0x00ffffff,\n    DARKBLUE: 0x00008bff,\n    DARKCYAN: 0x008b8bff,\n    DARKGOLDENROD: 0xb886bbff,\n    DARKGRAY: 0xa9a9a9ff,\n    DARKGREEN: 0x006400ff,\n    DARKGREY: 0xa9a9a9ff,\n    DARKKHAKI: 0xbdb76bff,\n    DARKMAGENTA: 0x8b008bff,\n    DARKOLIVEGREEN: 0x556b2fff,\n    DARKORANGE: 0xff8c00ff,\n    DARKORCHID: 0x9932ccff,\n    DARKRED: 0x8b0000ff,\n    DARKSALMON: 0xe9967aff,\n    DARKSEAGREEN: 0x8fbc8fff,\n    DARKSLATEBLUE: 0x483d8bff,\n    DARKSLATEGRAY: 0x2f4f4fff,\n    DARKSLATEGREY: 0x2f4f4fff,\n    DARKTURQUOISE: 0x00ced1ff,\n    DARKVIOLET: 0x9400d3ff,\n    DEEPPINK: 0xff1493ff,\n    DEEPSKYBLUE: 0x00bfffff,\n    DIMGRAY: 0x696969ff,\n    DIMGREY: 0x696969ff,\n    DODGERBLUE: 0x1e90ffff,\n    FIREBRICK: 0xb22222ff,\n    FLORALWHITE: 0xfffaf0ff,\n    FORESTGREEN: 0x228b22ff,\n    FUCHSIA: 0xff00ffff,\n    GAINSBORO: 0xdcdcdcff,\n    GHOSTWHITE: 0xf8f8ffff,\n    GOLD: 0xffd700ff,\n    GOLDENROD: 0xdaa520ff,\n    GRAY: 0x808080ff,\n    GREEN: 0x008000ff,\n    GREENYELLOW: 0xadff2fff,\n    GREY: 0x808080ff,\n    HONEYDEW: 0xf0fff0ff,\n    HOTPINK: 0xff69b4ff,\n    INDIANRED: 0xcd5c5cff,\n    INDIGO: 0x4b0082ff,\n    IVORY: 0xfffff0ff,\n    KHAKI: 0xf0e68cff,\n    LAVENDER: 0xe6e6faff,\n    LAVENDERBLUSH: 0xfff0f5ff,\n    LAWNGREEN: 0x7cfc00ff,\n    LEMONCHIFFON: 0xfffacdff,\n    LIGHTBLUE: 0xadd8e6ff,\n    LIGHTCORAL: 0xf08080ff,\n    LIGHTCYAN: 0xe0ffffff,\n    LIGHTGOLDENRODYELLOW: 0xfafad2ff,\n    LIGHTGRAY: 0xd3d3d3ff,\n    LIGHTGREEN: 0x90ee90ff,\n    LIGHTGREY: 0xd3d3d3ff,\n    LIGHTPINK: 0xffb6c1ff,\n    LIGHTSALMON: 0xffa07aff,\n    LIGHTSEAGREEN: 0x20b2aaff,\n    LIGHTSKYBLUE: 0x87cefaff,\n    LIGHTSLATEGRAY: 0x778899ff,\n    LIGHTSLATEGREY: 0x778899ff,\n    LIGHTSTEELBLUE: 0xb0c4deff,\n    LIGHTYELLOW: 0xffffe0ff,\n    LIME: 0x00ff00ff,\n    LIMEGREEN: 0x32cd32ff,\n    LINEN: 0xfaf0e6ff,\n    MAGENTA: 0xff00ffff,\n    MAROON: 0x800000ff,\n    MEDIUMAQUAMARINE: 0x66cdaaff,\n    MEDIUMBLUE: 0x0000cdff,\n    MEDIUMORCHID: 0xba55d3ff,\n    MEDIUMPURPLE: 0x9370dbff,\n    MEDIUMSEAGREEN: 0x3cb371ff,\n    MEDIUMSLATEBLUE: 0x7b68eeff,\n    MEDIUMSPRINGGREEN: 0x00fa9aff,\n    MEDIUMTURQUOISE: 0x48d1ccff,\n    MEDIUMVIOLETRED: 0xc71585ff,\n    MIDNIGHTBLUE: 0x191970ff,\n    MINTCREAM: 0xf5fffaff,\n    MISTYROSE: 0xffe4e1ff,\n    MOCCASIN: 0xffe4b5ff,\n    NAVAJOWHITE: 0xffdeadff,\n    NAVY: 0x000080ff,\n    OLDLACE: 0xfdf5e6ff,\n    OLIVE: 0x808000ff,\n    OLIVEDRAB: 0x6b8e23ff,\n    ORANGE: 0xffa500ff,\n    ORANGERED: 0xff4500ff,\n    ORCHID: 0xda70d6ff,\n    PALEGOLDENROD: 0xeee8aaff,\n    PALEGREEN: 0x98fb98ff,\n    PALETURQUOISE: 0xafeeeeff,\n    PALEVIOLETRED: 0xdb7093ff,\n    PAPAYAWHIP: 0xffefd5ff,\n    PEACHPUFF: 0xffdab9ff,\n    PERU: 0xcd853fff,\n    PINK: 0xffc0cbff,\n    PLUM: 0xdda0ddff,\n    POWDERBLUE: 0xb0e0e6ff,\n    PURPLE: 0x800080ff,\n    REBECCAPURPLE: 0x663399ff,\n    RED: 0xff0000ff,\n    ROSYBROWN: 0xbc8f8fff,\n    ROYALBLUE: 0x4169e1ff,\n    SADDLEBROWN: 0x8b4513ff,\n    SALMON: 0xfa8072ff,\n    SANDYBROWN: 0xf4a460ff,\n    SEAGREEN: 0x2e8b57ff,\n    SEASHELL: 0xfff5eeff,\n    SIENNA: 0xa0522dff,\n    SILVER: 0xc0c0c0ff,\n    SKYBLUE: 0x87ceebff,\n    SLATEBLUE: 0x6a5acdff,\n    SLATEGRAY: 0x708090ff,\n    SLATEGREY: 0x708090ff,\n    SNOW: 0xfffafaff,\n    SPRINGGREEN: 0x00ff7fff,\n    STEELBLUE: 0x4682b4ff,\n    TAN: 0xd2b48cff,\n    TEAL: 0x008080ff,\n    THISTLE: 0xd8bfd8ff,\n    TOMATO: 0xff6347ff,\n    TRANSPARENT: 0x00000000,\n    TURQUOISE: 0x40e0d0ff,\n    VIOLET: 0xee82eeff,\n    WHEAT: 0xf5deb3ff,\n    WHITE: 0xffffffff,\n    WHITESMOKE: 0xf5f5f5ff,\n    YELLOW: 0xffff00ff,\n    YELLOWGREEN: 0x9acd32ff\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum BACKGROUND_CLIP {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundClip = BACKGROUND_CLIP[];\n\nexport const backgroundClip: IPropertyListDescriptor<BackgroundClip> = {\n    name: 'background-clip',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundClip => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_CLIP.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_CLIP.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_CLIP.BORDER_BOX;\n        });\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const backgroundColor: IPropertyTypeValueDescriptor = {\n    name: `background-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {CSSValue} from '../../syntax/parser';\nimport {\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    GradientColorStop,\n    GradientCorner,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {color as colorType} from '../color';\nimport {getAbsoluteValue, HUNDRED_PERCENT, isLengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const parseColorStop = (context: Context, args: CSSValue[]): UnprocessedGradientColorStop => {\n    const color = colorType.parse(context, args[0]);\n    const stop = args[1];\n    return stop && isLengthPercentage(stop) ? {color, stop} : {color, stop: null};\n};\n\nexport const processColorStops = (stops: UnprocessedGradientColorStop[], lineLength: number): GradientColorStop[] => {\n    const first = stops[0];\n    const last = stops[stops.length - 1];\n    if (first.stop === null) {\n        first.stop = ZERO_LENGTH;\n    }\n\n    if (last.stop === null) {\n        last.stop = HUNDRED_PERCENT;\n    }\n\n    const processStops: (number | null)[] = [];\n    let previous = 0;\n    for (let i = 0; i < stops.length; i++) {\n        const stop = stops[i].stop;\n        if (stop !== null) {\n            const absoluteValue = getAbsoluteValue(stop, lineLength);\n            if (absoluteValue > previous) {\n                processStops.push(absoluteValue);\n            } else {\n                processStops.push(previous);\n            }\n            previous = absoluteValue;\n        } else {\n            processStops.push(null);\n        }\n    }\n\n    let gapBegin = null;\n    for (let i = 0; i < processStops.length; i++) {\n        const stop = processStops[i];\n        if (stop === null) {\n            if (gapBegin === null) {\n                gapBegin = i;\n            }\n        } else if (gapBegin !== null) {\n            const gapLength = i - gapBegin;\n            const beforeGap = processStops[gapBegin - 1] as number;\n            const gapValue = (stop - beforeGap) / (gapLength + 1);\n            for (let g = 1; g <= gapLength; g++) {\n                processStops[gapBegin + g - 1] = gapValue * g;\n            }\n            gapBegin = null;\n        }\n    }\n\n    return stops.map(({color}, i) => {\n        return {color, stop: Math.max(Math.min(1, (processStops[i] as number) / lineLength), 0)};\n    });\n};\n\nconst getAngleFromCorner = (corner: GradientCorner, width: number, height: number): number => {\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const x = getAbsoluteValue(corner[0], width) - centerX;\n    const y = centerY - getAbsoluteValue(corner[1], height);\n\n    return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\n};\n\nexport const calculateGradientDirection = (\n    angle: number | GradientCorner,\n    width: number,\n    height: number\n): [number, number, number, number, number] => {\n    const radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\n\n    const lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const halfLineLength = lineLength / 2;\n\n    const yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\n    const xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\n\n    return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\n};\n\nconst distance = (a: number, b: number): number => Math.sqrt(a * a + b * b);\n\nconst findCorner = (width: number, height: number, x: number, y: number, closest: boolean): [number, number] => {\n    const corners = [\n        [0, 0],\n        [0, height],\n        [width, 0],\n        [width, height]\n    ];\n\n    return corners.reduce(\n        (stat, corner) => {\n            const [cx, cy] = corner;\n            const d = distance(x - cx, y - cy);\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n                return {\n                    optimumCorner: corner,\n                    optimumDistance: d\n                };\n            }\n\n            return stat;\n        },\n        {\n            optimumDistance: closest ? Infinity : -Infinity,\n            optimumCorner: null\n        }\n    ).optimumCorner as [number, number];\n};\n\nexport const calculateRadius = (\n    gradient: CSSRadialGradientImage,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n): [number, number] => {\n    let rx = 0;\n    let ry = 0;\n\n    switch (gradient.size) {\n        case CSSRadialExtent.CLOSEST_SIDE:\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - width));\n                ry = Math.min(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.CLOSEST_CORNER:\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                const c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, true);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_SIDE:\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - width));\n                ry = Math.max(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_CORNER:\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                const c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, false);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n    }\n\n    if (Array.isArray(gradient.size)) {\n        rx = getAbsoluteValue(gradient.size[0], width);\n        ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\n    }\n\n    return [rx, ry];\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const linearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = angleType.parse(context, firstToken);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {angle, stops, type: CSSImageType.LINEAR_GRADIENT};\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixLinearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (\n                firstToken.type === TokenType.IDENT_TOKEN &&\n                ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1\n            ) {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = (angleType.parse(context, firstToken) + deg(270)) % deg(360);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {\n        angle,\n        stops,\n        type: CSSImageType.LINEAR_GRADIENT\n    };\n};\n","import {CSSValue, isIdentToken, isNumberToken, nonFunctionArgSeparator, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSLinearGradientImage,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {deg} from '../angle';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {color as colorType} from '../color';\nimport {HUNDRED_PERCENT, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const webkitGradient = (\n    context: Context,\n    tokens: CSSValue[]\n): CSSLinearGradientImage | CSSRadialGradientImage => {\n    const angle = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n    let type = CSSImageType.LINEAR_GRADIENT;\n    const shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    const size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        const firstToken = arg[0];\n        if (i === 0) {\n            if (isIdentToken(firstToken) && firstToken.value === 'linear') {\n                type = CSSImageType.LINEAR_GRADIENT;\n                return;\n            } else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\n                type = CSSImageType.RADIAL_GRADIENT;\n                return;\n            }\n        }\n\n        if (firstToken.type === TokenType.FUNCTION) {\n            if (firstToken.name === 'from') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: ZERO_LENGTH, color});\n            } else if (firstToken.name === 'to') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: HUNDRED_PERCENT, color});\n            } else if (firstToken.name === 'color-stop') {\n                const values = firstToken.values.filter(nonFunctionArgSeparator);\n                if (values.length === 2) {\n                    const color = colorType.parse(context, values[1]);\n                    const stop = values[0];\n                    if (isNumberToken(stop)) {\n                        stops.push({\n                            stop: {type: TokenType.PERCENTAGE_TOKEN, number: stop.number * 100, flags: stop.flags},\n                            color\n                        });\n                    }\n                }\n            }\n        }\n    });\n\n    return type === CSSImageType.LINEAR_GRADIENT\n        ? {\n              angle: (angle + deg(180)) % deg(360),\n              stops,\n              type\n          }\n        : {size, shape, stops, position, type};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {Context} from '../../../core/context';\nexport const CLOSEST_SIDE = 'closest-side';\nexport const FARTHEST_SIDE = 'farthest-side';\nexport const CLOSEST_CORNER = 'closest-corner';\nexport const FARTHEST_CORNER = 'farthest-corner';\nexport const CIRCLE = 'circle';\nexport const ELLIPSE = 'ellipse';\nexport const COVER = 'cover';\nexport const CONTAIN = 'contain';\n\nexport const radialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            let isAtPosition = false;\n            isColorStop = arg.reduce((acc, token) => {\n                if (isAtPosition) {\n                    if (isIdentToken(token)) {\n                        switch (token.value) {\n                            case 'center':\n                                position.push(FIFTY_PERCENT);\n                                return acc;\n                            case 'top':\n                            case 'left':\n                                position.push(ZERO_LENGTH);\n                                return acc;\n                            case 'right':\n                            case 'bottom':\n                                position.push(HUNDRED_PERCENT);\n                                return acc;\n                        }\n                    } else if (isLengthPercentage(token) || isLength(token)) {\n                        position.push(token);\n                    }\n                } else if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case 'at':\n                            isAtPosition = true;\n                            return false;\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case COVER:\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {\n    CIRCLE,\n    CLOSEST_CORNER,\n    CLOSEST_SIDE,\n    CONTAIN,\n    COVER,\n    ELLIPSE,\n    FARTHEST_CORNER,\n    FARTHEST_SIDE\n} from './radial-gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixRadialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case 'center':\n                            position.push(FIFTY_PERCENT);\n                            return false;\n                        case 'top':\n                        case 'left':\n                            position.push(ZERO_LENGTH);\n                            return false;\n                        case 'right':\n                        case 'bottom':\n                            position.push(HUNDRED_PERCENT);\n                            return false;\n                    }\n                } else if (isLengthPercentage(token) || isLength(token)) {\n                    position.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        } else if (i === 1) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case COVER:\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Color} from './color';\nimport {linearGradient} from './functions/linear-gradient';\nimport {prefixLinearGradient} from './functions/-prefix-linear-gradient';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {LengthPercentage} from './length-percentage';\nimport {webkitGradient} from './functions/-webkit-gradient';\nimport {radialGradient} from './functions/radial-gradient';\nimport {prefixRadialGradient} from './functions/-prefix-radial-gradient';\nimport {Context} from '../../core/context';\n\nexport const enum CSSImageType {\n    URL,\n    LINEAR_GRADIENT,\n    RADIAL_GRADIENT\n}\n\nexport const isLinearGradient = (background: ICSSImage): background is CSSLinearGradientImage => {\n    return background.type === CSSImageType.LINEAR_GRADIENT;\n};\n\nexport const isRadialGradient = (background: ICSSImage): background is CSSRadialGradientImage => {\n    return background.type === CSSImageType.RADIAL_GRADIENT;\n};\n\nexport interface UnprocessedGradientColorStop {\n    color: Color;\n    stop: LengthPercentage | null;\n}\n\nexport interface GradientColorStop {\n    color: Color;\n    stop: number;\n}\n\nexport interface ICSSImage {\n    type: CSSImageType;\n}\n\nexport interface CSSURLImage extends ICSSImage {\n    url: string;\n    type: CSSImageType.URL;\n}\n\n// interface ICSSGeneratedImage extends ICSSImage {}\n\nexport type GradientCorner = [LengthPercentage, LengthPercentage];\n\ninterface ICSSGradientImage extends ICSSImage {\n    stops: UnprocessedGradientColorStop[];\n}\n\nexport interface CSSLinearGradientImage extends ICSSGradientImage {\n    angle: number | GradientCorner;\n    type: CSSImageType.LINEAR_GRADIENT;\n}\n\nexport const enum CSSRadialShape {\n    CIRCLE,\n    ELLIPSE\n}\n\nexport const enum CSSRadialExtent {\n    CLOSEST_SIDE,\n    FARTHEST_SIDE,\n    CLOSEST_CORNER,\n    FARTHEST_CORNER\n}\n\nexport type CSSRadialSize = CSSRadialExtent | LengthPercentage[];\n\nexport interface CSSRadialGradientImage extends ICSSGradientImage {\n    type: CSSImageType.RADIAL_GRADIENT;\n    shape: CSSRadialShape;\n    size: CSSRadialSize;\n    position: LengthPercentage[];\n}\n\nexport const image: ITypeDescriptor<ICSSImage> = {\n    name: 'image',\n    parse: (context: Context, value: CSSValue): ICSSImage => {\n        if (value.type === TokenType.URL_TOKEN) {\n            const image: CSSURLImage = {url: value.value, type: CSSImageType.URL};\n            context.cache.addImage(value.value);\n            return image;\n        }\n\n        if (value.type === TokenType.FUNCTION) {\n            const imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\n            if (typeof imageFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported image function \"${value.name}\"`);\n            }\n            return imageFunction(context, value.values);\n        }\n\n        throw new Error(`Unsupported image type ${value.type}`);\n    }\n};\n\nexport function isSupportedImage(value: CSSValue): boolean {\n    return (\n        !(value.type === TokenType.IDENT_TOKEN && value.value === 'none') &&\n        (value.type !== TokenType.FUNCTION || !!SUPPORTED_IMAGE_FUNCTIONS[value.name])\n    );\n}\n\nconst SUPPORTED_IMAGE_FUNCTIONS: Record<string, (context: Context, args: CSSValue[]) => ICSSImage> = {\n    'linear-gradient': linearGradient,\n    '-moz-linear-gradient': prefixLinearGradient,\n    '-ms-linear-gradient': prefixLinearGradient,\n    '-o-linear-gradient': prefixLinearGradient,\n    '-webkit-linear-gradient': prefixLinearGradient,\n    'radial-gradient': radialGradient,\n    '-moz-radial-gradient': prefixRadialGradient,\n    '-ms-radial-gradient': prefixRadialGradient,\n    '-o-radial-gradient': prefixRadialGradient,\n    '-webkit-radial-gradient': prefixRadialGradient,\n    '-webkit-gradient': webkitGradient\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {StringValueToken} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport enum BACKGROUND_SIZE {\n    AUTO = 'auto',\n    CONTAIN = 'contain',\n    COVER = 'cover'\n}\n\nexport type BackgroundSizeInfo = LengthPercentage | StringValueToken;\nexport type BackgroundSize = BackgroundSizeInfo[][];\n\nexport const backgroundSize: IPropertyListDescriptor<BackgroundSize> = {\n    name: 'background-size',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundSize => {\n        return parseFunctionArgs(tokens).map((values) => values.filter(isBackgroundSizeInfoToken));\n    }\n};\n\nconst isBackgroundSizeInfoToken = (value: CSSValue): value is BackgroundSizeInfo =>\n    isIdentToken(value) || isLengthPercentage(value);\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image, isSupportedImage} from '../types/image';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, nonFunctionArgSeparator} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const backgroundImage: IPropertyListDescriptor<ICSSImage[]> = {\n    name: 'background-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens\n            .filter((value) => nonFunctionArgSeparator(value) && isSupportedImage(value))\n            .map((value) => image.parse(context, value));\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum BACKGROUND_ORIGIN {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundOrigin = BACKGROUND_ORIGIN[];\n\nexport const backgroundOrigin: IPropertyListDescriptor<BackgroundOrigin> = {\n    name: 'background-origin',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundOrigin => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_ORIGIN.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_ORIGIN.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_ORIGIN.BORDER_BOX;\n        });\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BackgroundPosition = BackgroundImagePosition[];\n\nexport type BackgroundImagePosition = LengthPercentageTuple;\n\nexport const backgroundPosition: IPropertyListDescriptor<BackgroundPosition> = {\n    name: 'background-position',\n    initialValue: '0% 0%',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundPosition => {\n        return parseFunctionArgs(tokens)\n            .map((values: CSSValue[]) => values.filter(isLengthPercentage))\n            .map(parseLengthPercentageTuple);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport type BackgroundRepeat = BACKGROUND_REPEAT[];\n\nexport const enum BACKGROUND_REPEAT {\n    REPEAT = 0,\n    NO_REPEAT = 1,\n    REPEAT_X = 2,\n    REPEAT_Y = 3\n}\n\nexport const backgroundRepeat: IPropertyListDescriptor<BackgroundRepeat> = {\n    name: 'background-repeat',\n    initialValue: 'repeat',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundRepeat => {\n        return parseFunctionArgs(tokens)\n            .map((values) =>\n                values\n                    .filter(isIdentToken)\n                    .map((token) => token.value)\n                    .join(' ')\n            )\n            .map(parseBackgroundRepeat);\n    }\n};\n\nconst parseBackgroundRepeat = (value: string): BACKGROUND_REPEAT => {\n    switch (value) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n        default:\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum LINE_BREAK {\n    NORMAL = 'normal',\n    STRICT = 'strict'\n}\n\nexport const lineBreak: IPropertyIdentValueDescriptor<LINE_BREAK> = {\n    name: 'line-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, lineBreak: string): LINE_BREAK => {\n        switch (lineBreak) {\n            case 'strict':\n                return LINE_BREAK.STRICT;\n            case 'normal':\n            default:\n                return LINE_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nconst borderColorForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `border-${side}-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n});\n\nexport const borderTopColor: IPropertyTypeValueDescriptor = borderColorForSide('top');\nexport const borderRightColor: IPropertyTypeValueDescriptor = borderColorForSide('right');\nexport const borderBottomColor: IPropertyTypeValueDescriptor = borderColorForSide('bottom');\nexport const borderLeftColor: IPropertyTypeValueDescriptor = borderColorForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BorderRadius = LengthPercentageTuple;\n\nconst borderRadiusForSide = (side: string): IPropertyListDescriptor<BorderRadius> => ({\n    name: `border-radius-${side}`,\n    initialValue: '0 0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BorderRadius =>\n        parseLengthPercentageTuple(tokens.filter(isLengthPercentage))\n});\n\nexport const borderTopLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-left');\nexport const borderTopRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-right');\nexport const borderBottomRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-right');\nexport const borderBottomLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum BORDER_STYLE {\n    NONE = 0,\n    SOLID = 1,\n    DASHED = 2,\n    DOTTED = 3,\n    DOUBLE = 4\n}\n\nconst borderStyleForSide = (side: string): IPropertyIdentValueDescriptor<BORDER_STYLE> => ({\n    name: `border-${side}-style`,\n    initialValue: 'solid',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, style: string): BORDER_STYLE => {\n        switch (style) {\n            case 'none':\n                return BORDER_STYLE.NONE;\n            case 'dashed':\n                return BORDER_STYLE.DASHED;\n            case 'dotted':\n                return BORDER_STYLE.DOTTED;\n            case 'double':\n                return BORDER_STYLE.DOUBLE;\n        }\n        return BORDER_STYLE.SOLID;\n    }\n});\n\nexport const borderTopStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('top');\nexport const borderRightStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('right');\nexport const borderBottomStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('bottom');\nexport const borderLeftStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('left');\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nconst borderWidthForSide = (side: string): IPropertyValueDescriptor<number> => ({\n    name: `border-${side}-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n});\n\nexport const borderTopWidth: IPropertyValueDescriptor<number> = borderWidthForSide('top');\nexport const borderRightWidth: IPropertyValueDescriptor<number> = borderWidthForSide('right');\nexport const borderBottomWidth: IPropertyValueDescriptor<number> = borderWidthForSide('bottom');\nexport const borderLeftWidth: IPropertyValueDescriptor<number> = borderWidthForSide('left');\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const color: IPropertyTypeValueDescriptor = {\n    name: `color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\n\nexport const enum DIRECTION {\n    LTR = 0,\n    RTL = 1\n}\n\nexport const direction: IPropertyIdentValueDescriptor<DIRECTION> = {\n    name: 'direction',\n    initialValue: 'ltr',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, direction: string) => {\n        switch (direction) {\n            case 'rtl':\n                return DIRECTION.RTL;\n            case 'ltr':\n            default:\n                return DIRECTION.LTR;\n        }\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum DISPLAY {\n    NONE = 0,\n    BLOCK = 1 << 1,\n    INLINE = 1 << 2,\n    RUN_IN = 1 << 3,\n    FLOW = 1 << 4,\n    FLOW_ROOT = 1 << 5,\n    TABLE = 1 << 6,\n    FLEX = 1 << 7,\n    GRID = 1 << 8,\n    RUBY = 1 << 9,\n    SUBGRID = 1 << 10,\n    LIST_ITEM = 1 << 11,\n    TABLE_ROW_GROUP = 1 << 12,\n    TABLE_HEADER_GROUP = 1 << 13,\n    TABLE_FOOTER_GROUP = 1 << 14,\n    TABLE_ROW = 1 << 15,\n    TABLE_CELL = 1 << 16,\n    TABLE_COLUMN_GROUP = 1 << 17,\n    TABLE_COLUMN = 1 << 18,\n    TABLE_CAPTION = 1 << 19,\n    RUBY_BASE = 1 << 20,\n    RUBY_TEXT = 1 << 21,\n    RUBY_BASE_CONTAINER = 1 << 22,\n    RUBY_TEXT_CONTAINER = 1 << 23,\n    CONTENTS = 1 << 24,\n    INLINE_BLOCK = 1 << 25,\n    INLINE_LIST_ITEM = 1 << 26,\n    INLINE_TABLE = 1 << 27,\n    INLINE_FLEX = 1 << 28,\n    INLINE_GRID = 1 << 29\n}\n\nexport type Display = number;\n\nexport const display: IPropertyListDescriptor<Display> = {\n    name: 'display',\n    initialValue: 'inline-block',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): Display => {\n        return tokens.filter(isIdentToken).reduce((bit, token) => {\n            return bit | parseDisplayValue(token.value);\n        }, DISPLAY.NONE);\n    }\n};\n\nconst parseDisplayValue = (display: string): Display => {\n    switch (display) {\n        case 'block':\n        case '-webkit-box':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n        case '-webkit-flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n        case '-ms-grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FLOAT {\n    NONE = 0,\n    LEFT = 1,\n    RIGHT = 2,\n    INLINE_START = 3,\n    INLINE_END = 4\n}\n\nexport const float: IPropertyIdentValueDescriptor<FLOAT> = {\n    name: 'float',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, float: string) => {\n        switch (float) {\n            case 'left':\n                return FLOAT.LEFT;\n            case 'right':\n                return FLOAT.RIGHT;\n            case 'inline-start':\n                return FLOAT.INLINE_START;\n            case 'inline-end':\n                return FLOAT.INLINE_END;\n        }\n        return FLOAT.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport const letterSpacing: IPropertyValueDescriptor<number> = {\n    name: 'letter-spacing',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\n            return 0;\n        }\n\n        if (token.type === TokenType.NUMBER_TOKEN) {\n            return token.number;\n        }\n\n        if (token.type === TokenType.DIMENSION_TOKEN) {\n            return token.number;\n        }\n\n        return 0;\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum WORD_BREAK {\n    NORMAL = 'normal',\n    BREAK_ALL = 'break-all',\n    KEEP_ALL = 'keep-all'\n}\n\nexport const wordBreak: IPropertyIdentValueDescriptor<WORD_BREAK> = {\n    name: 'word-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, wordBreak: string): WORD_BREAK => {\n        switch (wordBreak) {\n            case 'break-all':\n                return WORD_BREAK.BREAK_ALL;\n            case 'keep-all':\n                return WORD_BREAK.KEEP_ALL;\n            case 'normal':\n            default:\n                return WORD_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {getAbsoluteValue, isLengthPercentage} from '../types/length-percentage';\nexport const lineHeight: IPropertyTokenValueDescriptor = {\n    name: 'line-height',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n};\n\nexport const computeLineHeight = (token: CSSValue, fontSize: number): number => {\n    if (isIdentToken(token) && token.value === 'normal') {\n        return 1.2 * fontSize;\n    } else if (token.type === TokenType.NUMBER_TOKEN) {\n        return fontSize * token.number;\n    } else if (isLengthPercentage(token)) {\n        return getAbsoluteValue(token, fontSize);\n    }\n\n    return fontSize;\n};\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image} from '../types/image';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const listStyleImage: IPropertyValueDescriptor<ICSSImage | null> = {\n    name: 'list-style-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        return image.parse(context, token);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_POSITION {\n    INSIDE = 0,\n    OUTSIDE = 1\n}\n\nexport const listStylePosition: IPropertyIdentValueDescriptor<LIST_STYLE_POSITION> = {\n    name: 'list-style-position',\n    initialValue: 'outside',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'inside':\n                return LIST_STYLE_POSITION.INSIDE;\n            case 'outside':\n            default:\n                return LIST_STYLE_POSITION.OUTSIDE;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_TYPE {\n    NONE = -1,\n    DISC = 0,\n    CIRCLE = 1,\n    SQUARE = 2,\n    DECIMAL = 3,\n    CJK_DECIMAL = 4,\n    DECIMAL_LEADING_ZERO = 5,\n    LOWER_ROMAN = 6,\n    UPPER_ROMAN = 7,\n    LOWER_GREEK = 8,\n    LOWER_ALPHA = 9,\n    UPPER_ALPHA = 10,\n    ARABIC_INDIC = 11,\n    ARMENIAN = 12,\n    BENGALI = 13,\n    CAMBODIAN = 14,\n    CJK_EARTHLY_BRANCH = 15,\n    CJK_HEAVENLY_STEM = 16,\n    CJK_IDEOGRAPHIC = 17,\n    DEVANAGARI = 18,\n    ETHIOPIC_NUMERIC = 19,\n    GEORGIAN = 20,\n    GUJARATI = 21,\n    GURMUKHI = 22,\n    HEBREW = 22,\n    HIRAGANA = 23,\n    HIRAGANA_IROHA = 24,\n    JAPANESE_FORMAL = 25,\n    JAPANESE_INFORMAL = 26,\n    KANNADA = 27,\n    KATAKANA = 28,\n    KATAKANA_IROHA = 29,\n    KHMER = 30,\n    KOREAN_HANGUL_FORMAL = 31,\n    KOREAN_HANJA_FORMAL = 32,\n    KOREAN_HANJA_INFORMAL = 33,\n    LAO = 34,\n    LOWER_ARMENIAN = 35,\n    MALAYALAM = 36,\n    MONGOLIAN = 37,\n    MYANMAR = 38,\n    ORIYA = 39,\n    PERSIAN = 40,\n    SIMP_CHINESE_FORMAL = 41,\n    SIMP_CHINESE_INFORMAL = 42,\n    TAMIL = 43,\n    TELUGU = 44,\n    THAI = 45,\n    TIBETAN = 46,\n    TRAD_CHINESE_FORMAL = 47,\n    TRAD_CHINESE_INFORMAL = 48,\n    UPPER_ARMENIAN = 49,\n    DISCLOSURE_OPEN = 50,\n    DISCLOSURE_CLOSED = 51\n}\n\nexport const listStyleType: IPropertyIdentValueDescriptor<LIST_STYLE_TYPE> = {\n    name: 'list-style-type',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, type: string) => {\n        switch (type) {\n            case 'disc':\n                return LIST_STYLE_TYPE.DISC;\n            case 'circle':\n                return LIST_STYLE_TYPE.CIRCLE;\n            case 'square':\n                return LIST_STYLE_TYPE.SQUARE;\n            case 'decimal':\n                return LIST_STYLE_TYPE.DECIMAL;\n            case 'cjk-decimal':\n                return LIST_STYLE_TYPE.CJK_DECIMAL;\n            case 'decimal-leading-zero':\n                return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n            case 'lower-roman':\n                return LIST_STYLE_TYPE.LOWER_ROMAN;\n            case 'upper-roman':\n                return LIST_STYLE_TYPE.UPPER_ROMAN;\n            case 'lower-greek':\n                return LIST_STYLE_TYPE.LOWER_GREEK;\n            case 'lower-alpha':\n                return LIST_STYLE_TYPE.LOWER_ALPHA;\n            case 'upper-alpha':\n                return LIST_STYLE_TYPE.UPPER_ALPHA;\n            case 'arabic-indic':\n                return LIST_STYLE_TYPE.ARABIC_INDIC;\n            case 'armenian':\n                return LIST_STYLE_TYPE.ARMENIAN;\n            case 'bengali':\n                return LIST_STYLE_TYPE.BENGALI;\n            case 'cambodian':\n                return LIST_STYLE_TYPE.CAMBODIAN;\n            case 'cjk-earthly-branch':\n                return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n            case 'cjk-heavenly-stem':\n                return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n            case 'cjk-ideographic':\n                return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n            case 'devanagari':\n                return LIST_STYLE_TYPE.DEVANAGARI;\n            case 'ethiopic-numeric':\n                return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n            case 'georgian':\n                return LIST_STYLE_TYPE.GEORGIAN;\n            case 'gujarati':\n                return LIST_STYLE_TYPE.GUJARATI;\n            case 'gurmukhi':\n                return LIST_STYLE_TYPE.GURMUKHI;\n            case 'hebrew':\n                return LIST_STYLE_TYPE.HEBREW;\n            case 'hiragana':\n                return LIST_STYLE_TYPE.HIRAGANA;\n            case 'hiragana-iroha':\n                return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n            case 'japanese-formal':\n                return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n            case 'japanese-informal':\n                return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n            case 'kannada':\n                return LIST_STYLE_TYPE.KANNADA;\n            case 'katakana':\n                return LIST_STYLE_TYPE.KATAKANA;\n            case 'katakana-iroha':\n                return LIST_STYLE_TYPE.KATAKANA_IROHA;\n            case 'khmer':\n                return LIST_STYLE_TYPE.KHMER;\n            case 'korean-hangul-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n            case 'korean-hanja-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n            case 'korean-hanja-informal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n            case 'lao':\n                return LIST_STYLE_TYPE.LAO;\n            case 'lower-armenian':\n                return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n            case 'malayalam':\n                return LIST_STYLE_TYPE.MALAYALAM;\n            case 'mongolian':\n                return LIST_STYLE_TYPE.MONGOLIAN;\n            case 'myanmar':\n                return LIST_STYLE_TYPE.MYANMAR;\n            case 'oriya':\n                return LIST_STYLE_TYPE.ORIYA;\n            case 'persian':\n                return LIST_STYLE_TYPE.PERSIAN;\n            case 'simp-chinese-formal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n            case 'simp-chinese-informal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n            case 'tamil':\n                return LIST_STYLE_TYPE.TAMIL;\n            case 'telugu':\n                return LIST_STYLE_TYPE.TELUGU;\n            case 'thai':\n                return LIST_STYLE_TYPE.THAI;\n            case 'tibetan':\n                return LIST_STYLE_TYPE.TIBETAN;\n            case 'trad-chinese-formal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n            case 'trad-chinese-informal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n            case 'upper-armenian':\n                return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n            case 'disclosure-open':\n                return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n            case 'disclosure-closed':\n                return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n            case 'none':\n            default:\n                return LIST_STYLE_TYPE.NONE;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst marginForSide = (side: string): IPropertyTokenValueDescriptor => ({\n    name: `margin-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n});\n\nexport const marginTop: IPropertyTokenValueDescriptor = marginForSide('top');\nexport const marginRight: IPropertyTokenValueDescriptor = marginForSide('right');\nexport const marginBottom: IPropertyTokenValueDescriptor = marginForSide('bottom');\nexport const marginLeft: IPropertyTokenValueDescriptor = marginForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    SCROLL = 2,\n    CLIP = 3,\n    AUTO = 4\n}\n\nexport const overflow: IPropertyListDescriptor<OVERFLOW[]> = {\n    name: 'overflow',\n    initialValue: 'visible',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): OVERFLOW[] => {\n        return tokens.filter(isIdentToken).map((overflow) => {\n            switch (overflow.value) {\n                case 'hidden':\n                    return OVERFLOW.HIDDEN;\n                case 'scroll':\n                    return OVERFLOW.SCROLL;\n                case 'clip':\n                    return OVERFLOW.CLIP;\n                case 'auto':\n                    return OVERFLOW.AUTO;\n                case 'visible':\n                default:\n                    return OVERFLOW.VISIBLE;\n            }\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW_WRAP {\n    NORMAL = 'normal',\n    BREAK_WORD = 'break-word'\n}\n\nexport const overflowWrap: IPropertyIdentValueDescriptor<OVERFLOW_WRAP> = {\n    name: 'overflow-wrap',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'break-word':\n                return OVERFLOW_WRAP.BREAK_WORD;\n            case 'normal':\n            default:\n                return OVERFLOW_WRAP.NORMAL;\n        }\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst paddingForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `padding-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length-percentage'\n});\n\nexport const paddingTop: IPropertyTypeValueDescriptor = paddingForSide('top');\nexport const paddingRight: IPropertyTypeValueDescriptor = paddingForSide('right');\nexport const paddingBottom: IPropertyTypeValueDescriptor = paddingForSide('bottom');\nexport const paddingLeft: IPropertyTypeValueDescriptor = paddingForSide('left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_ALIGN {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2\n}\n\nexport const textAlign: IPropertyIdentValueDescriptor<TEXT_ALIGN> = {\n    name: 'text-align',\n    initialValue: 'left',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textAlign: string) => {\n        switch (textAlign) {\n            case 'right':\n                return TEXT_ALIGN.RIGHT;\n            case 'center':\n            case 'justify':\n                return TEXT_ALIGN.CENTER;\n            case 'left':\n            default:\n                return TEXT_ALIGN.LEFT;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum POSITION {\n    STATIC = 0,\n    RELATIVE = 1,\n    ABSOLUTE = 2,\n    FIXED = 3,\n    STICKY = 4\n}\n\nexport const position: IPropertyIdentValueDescriptor<POSITION> = {\n    name: 'position',\n    initialValue: 'static',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'relative':\n                return POSITION.RELATIVE;\n            case 'absolute':\n                return POSITION.ABSOLUTE;\n            case 'fixed':\n                return POSITION.FIXED;\n            case 'sticky':\n                return POSITION.STICKY;\n        }\n\n        return POSITION.STATIC;\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color, COLORS} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type TextShadow = TextShadowItem[];\ninterface TextShadowItem {\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n}\n\nexport const textShadow: IPropertyListDescriptor<TextShadow> = {\n    name: 'text-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): TextShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: TextShadowItem = {\n                color: COLORS.TRANSPARENT,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else {\n                        shadow.blur = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_TRANSFORM {\n    NONE = 0,\n    LOWERCASE = 1,\n    UPPERCASE = 2,\n    CAPITALIZE = 3\n}\n\nexport const textTransform: IPropertyIdentValueDescriptor<TEXT_TRANSFORM> = {\n    name: 'text-transform',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textTransform: string) => {\n        switch (textTransform) {\n            case 'uppercase':\n                return TEXT_TRANSFORM.UPPERCASE;\n            case 'lowercase':\n                return TEXT_TRANSFORM.LOWERCASE;\n            case 'capitalize':\n                return TEXT_TRANSFORM.CAPITALIZE;\n        }\n\n        return TEXT_TRANSFORM.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type Matrix = [number, number, number, number, number, number];\nexport type Transform = Matrix | null;\n\nexport const transform: IPropertyValueDescriptor<Transform> = {\n    name: 'transform',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        if (token.type === TokenType.FUNCTION) {\n            const transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\n            if (typeof transformFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported transform function \"${token.name}\"`);\n            }\n            return transformFunction(token.values);\n        }\n\n        return null;\n    }\n};\n\nconst matrix = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    return values.length === 6 ? (values as Matrix) : null;\n};\n\n// doesn't support 3D transforms at the moment\nconst matrix3d = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    const [a1, b1, {}, {}, a2, b2, {}, {}, {}, {}, {}, {}, a4, b4, {}, {}] = values;\n\n    return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\n};\n\nconst SUPPORTED_TRANSFORM_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => Transform;\n} = {\n    matrix: matrix,\n    matrix3d: matrix3d\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {FLAG_INTEGER, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type TransformOrigin = [LengthPercentage, LengthPercentage];\n\nconst DEFAULT_VALUE: LengthPercentage = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\nconst DEFAULT: TransformOrigin = [DEFAULT_VALUE, DEFAULT_VALUE];\n\nexport const transformOrigin: IPropertyListDescriptor<TransformOrigin> = {\n    name: 'transform-origin',\n    initialValue: '50% 50%',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const origins: LengthPercentage[] = tokens.filter(isLengthPercentage);\n\n        if (origins.length !== 2) {\n            return DEFAULT;\n        }\n\n        return [origins[0], origins[1]];\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum VISIBILITY {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    COLLAPSE = 2\n}\n\nexport const visibility: IPropertyIdentValueDescriptor<VISIBILITY> = {\n    name: 'visible',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, visibility: string) => {\n        switch (visibility) {\n            case 'hidden':\n                return VISIBILITY.HIDDEN;\n            case 'collapse':\n                return VISIBILITY.COLLAPSE;\n            case 'visible':\n            default:\n                return VISIBILITY.VISIBLE;\n        }\n    }\n};\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\ninterface zIndex {\n    order: number;\n    auto: boolean;\n}\n\nexport const zIndex: IPropertyValueDescriptor<zIndex> = {\n    name: 'z-index',\n    initialValue: 'auto',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue): zIndex => {\n        if (token.type === TokenType.IDENT_TOKEN) {\n            return {auto: true, order: 0};\n        }\n\n        if (isNumberToken(token)) {\n            return {auto: false, order: token.number};\n        }\n\n        throw new Error(`Invalid z-index number parsed`);\n    }\n};\n","import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {Context} from '../../core/context';\n\nexport const time: ITypeDescriptor<number> = {\n    name: 'time',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit.toLowerCase()) {\n                case 's':\n                    return 1000 * value.number;\n                case 'ms':\n                    return value.number;\n            }\n        }\n\n        throw new Error(`Unsupported time type`);\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const opacity: IPropertyValueDescriptor<number> = {\n    name: 'opacity',\n    initialValue: '1',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n        return 1;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const textDecorationColor: IPropertyTypeValueDescriptor = {\n    name: `text-decoration-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum TEXT_DECORATION_LINE {\n    NONE = 0,\n    UNDERLINE = 1,\n    OVERLINE = 2,\n    LINE_THROUGH = 3,\n    BLINK = 4\n}\n\nexport type TextDecorationLine = TEXT_DECORATION_LINE[];\n\nexport const textDecorationLine: IPropertyListDescriptor<TextDecorationLine> = {\n    name: 'text-decoration-line',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): TextDecorationLine => {\n        return tokens\n            .filter(isIdentToken)\n            .map((token) => {\n                switch (token.value) {\n                    case 'underline':\n                        return TEXT_DECORATION_LINE.UNDERLINE;\n                    case 'overline':\n                        return TEXT_DECORATION_LINE.OVERLINE;\n                    case 'line-through':\n                        return TEXT_DECORATION_LINE.LINE_THROUGH;\n                    case 'none':\n                        return TEXT_DECORATION_LINE.BLINK;\n                }\n                return TEXT_DECORATION_LINE.NONE;\n            })\n            .filter((line) => line !== TEXT_DECORATION_LINE.NONE);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport type FONT_FAMILY = string;\n\nexport type FontFamily = FONT_FAMILY[];\n\nexport const fontFamily: IPropertyListDescriptor<FontFamily> = {\n    name: `font-family`,\n    initialValue: '',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const accumulator: string[] = [];\n        const results: string[] = [];\n        tokens.forEach((token) => {\n            switch (token.type) {\n                case TokenType.IDENT_TOKEN:\n                case TokenType.STRING_TOKEN:\n                    accumulator.push(token.value);\n                    break;\n                case TokenType.NUMBER_TOKEN:\n                    accumulator.push(token.number.toString());\n                    break;\n                case TokenType.COMMA_TOKEN:\n                    results.push(accumulator.join(' '));\n                    accumulator.length = 0;\n                    break;\n            }\n        });\n        if (accumulator.length) {\n            results.push(accumulator.join(' '));\n        }\n        return results.map((result) => (result.indexOf(' ') === -1 ? result : `'${result}'`));\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const fontSize: IPropertyTypeValueDescriptor = {\n    name: `font-size`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length'\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontWeight: IPropertyValueDescriptor<number> = {\n    name: 'font-weight',\n    initialValue: 'normal',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n\n        if (isIdentToken(token)) {\n            switch (token.value) {\n                case 'bold':\n                    return 700;\n                case 'normal':\n                default:\n                    return 400;\n            }\n        }\n\n        return 400;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontVariant: IPropertyListDescriptor<string[]> = {\n    name: 'font-variant',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): string[] => {\n        return tokens.filter(isIdentToken).map((token) => token.value);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FONT_STYLE {\n    NORMAL = 'normal',\n    ITALIC = 'italic',\n    OBLIQUE = 'oblique'\n}\n\nexport const fontStyle: IPropertyIdentValueDescriptor<FONT_STYLE> = {\n    name: 'font-style',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'oblique':\n                return FONT_STYLE.OBLIQUE;\n            case 'italic':\n                return FONT_STYLE.ITALIC;\n            case 'normal':\n            default:\n                return FONT_STYLE.NORMAL;\n        }\n    }\n};\n","export const contains = (bit: number, value: number): boolean => (bit & value) !== 0;\n","import {TokenType} from '../syntax/tokenizer';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport type Content = CSSValue[];\n\nexport const content: IPropertyListDescriptor<Content> = {\n    name: 'content',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_INCREMENT {\n    counter: string;\n    increment: number;\n}\n\nexport type CounterIncrement = COUNTER_INCREMENT[] | null;\n\nexport const counterIncrement: IPropertyListDescriptor<CounterIncrement> = {\n    name: 'counter-increment',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const increments = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (counter.type === TokenType.IDENT_TOKEN) {\n                const increment = next && isNumberToken(next) ? next.number : 1;\n                increments.push({counter: counter.value, increment});\n            }\n        }\n\n        return increments;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_RESET {\n    counter: string;\n    reset: number;\n}\n\nexport type CounterReset = COUNTER_RESET[];\n\nexport const counterReset: IPropertyListDescriptor<CounterReset> = {\n    name: 'counter-reset',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const resets = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (isIdentToken(counter) && counter.value !== 'none') {\n                const reset = next && isNumberToken(next) ? next.number : 0;\n                resets.push({counter: counter.value, reset});\n            }\n        }\n\n        return resets;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {time} from '../types/time';\n\nexport const duration: IPropertyListDescriptor<number[]> = {\n    name: 'duration',\n    initialValue: '0s',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        return tokens.filter(isDimensionToken).map((token) => time.parse(context, token));\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isStringToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface QUOTE {\n    open: string;\n    close: string;\n}\n\nexport type Quotes = QUOTE[] | null;\n\nexport const quotes: IPropertyListDescriptor<Quotes> = {\n    name: 'quotes',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const quotes = [];\n        const filtered = tokens.filter(isStringToken);\n\n        if (filtered.length % 2 !== 0) {\n            return null;\n        }\n\n        for (let i = 0; i < filtered.length; i += 2) {\n            const open = filtered[i].value;\n            const close = filtered[i + 1].value;\n            quotes.push({open, close});\n        }\n\n        return quotes;\n    }\n};\n\nexport const getQuote = (quotes: Quotes, depth: number, open: boolean): string => {\n    if (!quotes) {\n        return '';\n    }\n\n    const quote = quotes[Math.min(depth, quotes.length - 1)];\n    if (!quote) {\n        return '';\n    }\n\n    return open ? quote.open : quote.close;\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type BoxShadow = BoxShadowItem[];\ninterface BoxShadowItem {\n    inset: boolean;\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n    spread: Length;\n}\n\nexport const boxShadow: IPropertyListDescriptor<BoxShadow> = {\n    name: 'box-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): BoxShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: BoxShadowItem = {\n                color: 0x000000ff,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH,\n                spread: ZERO_LENGTH,\n                inset: false\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isIdentWithValue(token, 'inset')) {\n                    shadow.inset = true;\n                } else if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else if (c === 2) {\n                        shadow.blur = token;\n                    } else {\n                        shadow.spread = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum PAINT_ORDER_LAYER {\n    FILL,\n    STROKE,\n    MARKERS\n}\n\nexport type PaintOrder = PAINT_ORDER_LAYER[];\n\nexport const paintOrder: IPropertyListDescriptor<PaintOrder> = {\n    name: 'paint-order',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): PaintOrder => {\n        const DEFAULT_VALUE = [PAINT_ORDER_LAYER.FILL, PAINT_ORDER_LAYER.STROKE, PAINT_ORDER_LAYER.MARKERS];\n        const layers: PaintOrder = [];\n\n        tokens.filter(isIdentToken).forEach((token) => {\n            switch (token.value) {\n                case 'stroke':\n                    layers.push(PAINT_ORDER_LAYER.STROKE);\n                    break;\n                case 'fill':\n                    layers.push(PAINT_ORDER_LAYER.FILL);\n                    break;\n                case 'markers':\n                    layers.push(PAINT_ORDER_LAYER.MARKERS);\n                    break;\n            }\n        });\n        DEFAULT_VALUE.forEach((value) => {\n            if (layers.indexOf(value) === -1) {\n                layers.push(value);\n            }\n        });\n\n        return layers;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport const webkitTextStrokeColor: IPropertyTypeValueDescriptor = {\n    name: `-webkit-text-stroke-color`,\n    initialValue: 'currentcolor',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const webkitTextStrokeWidth: IPropertyValueDescriptor<number> = {\n    name: `-webkit-text-stroke-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n};\n","import {CSSPropertyDescriptor, PropertyDescriptorParsingType} from './IPropertyDescriptor';\nimport {backgroundClip} from './property-descriptors/background-clip';\nimport {backgroundColor} from './property-descriptors/background-color';\nimport {backgroundImage} from './property-descriptors/background-image';\nimport {backgroundOrigin} from './property-descriptors/background-origin';\nimport {backgroundPosition} from './property-descriptors/background-position';\nimport {backgroundRepeat} from './property-descriptors/background-repeat';\nimport {backgroundSize} from './property-descriptors/background-size';\nimport {\n    borderBottomColor,\n    borderLeftColor,\n    borderRightColor,\n    borderTopColor\n} from './property-descriptors/border-color';\nimport {\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n    borderTopLeftRadius,\n    borderTopRightRadius\n} from './property-descriptors/border-radius';\nimport {\n    borderBottomStyle,\n    borderLeftStyle,\n    borderRightStyle,\n    borderTopStyle\n} from './property-descriptors/border-style';\nimport {\n    borderBottomWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderTopWidth\n} from './property-descriptors/border-width';\nimport {color} from './property-descriptors/color';\nimport {direction} from './property-descriptors/direction';\nimport {display, DISPLAY} from './property-descriptors/display';\nimport {float, FLOAT} from './property-descriptors/float';\nimport {letterSpacing} from './property-descriptors/letter-spacing';\nimport {lineBreak} from './property-descriptors/line-break';\nimport {lineHeight} from './property-descriptors/line-height';\nimport {listStyleImage} from './property-descriptors/list-style-image';\nimport {listStylePosition} from './property-descriptors/list-style-position';\nimport {listStyleType} from './property-descriptors/list-style-type';\nimport {marginBottom, marginLeft, marginRight, marginTop} from './property-descriptors/margin';\nimport {overflow, OVERFLOW} from './property-descriptors/overflow';\nimport {overflowWrap} from './property-descriptors/overflow-wrap';\nimport {paddingBottom, paddingLeft, paddingRight, paddingTop} from './property-descriptors/padding';\nimport {textAlign} from './property-descriptors/text-align';\nimport {position, POSITION} from './property-descriptors/position';\nimport {textShadow} from './property-descriptors/text-shadow';\nimport {textTransform} from './property-descriptors/text-transform';\nimport {transform} from './property-descriptors/transform';\nimport {transformOrigin} from './property-descriptors/transform-origin';\nimport {visibility, VISIBILITY} from './property-descriptors/visibility';\nimport {wordBreak} from './property-descriptors/word-break';\nimport {zIndex} from './property-descriptors/z-index';\nimport {CSSValue, isIdentToken, Parser} from './syntax/parser';\nimport {Tokenizer} from './syntax/tokenizer';\nimport {Color, color as colorType, isTransparent} from './types/color';\nimport {angle} from './types/angle';\nimport {image} from './types/image';\nimport {time} from './types/time';\nimport {opacity} from './property-descriptors/opacity';\nimport {textDecorationColor} from './property-descriptors/text-decoration-color';\nimport {textDecorationLine} from './property-descriptors/text-decoration-line';\nimport {isLengthPercentage, LengthPercentage, ZERO_LENGTH} from './types/length-percentage';\nimport {fontFamily} from './property-descriptors/font-family';\nimport {fontSize} from './property-descriptors/font-size';\nimport {isLength} from './types/length';\nimport {fontWeight} from './property-descriptors/font-weight';\nimport {fontVariant} from './property-descriptors/font-variant';\nimport {fontStyle} from './property-descriptors/font-style';\nimport {contains} from '../core/bitwise';\nimport {content} from './property-descriptors/content';\nimport {counterIncrement} from './property-descriptors/counter-increment';\nimport {counterReset} from './property-descriptors/counter-reset';\nimport {duration} from './property-descriptors/duration';\nimport {quotes} from './property-descriptors/quotes';\nimport {boxShadow} from './property-descriptors/box-shadow';\nimport {paintOrder} from './property-descriptors/paint-order';\nimport {webkitTextStrokeColor} from './property-descriptors/webkit-text-stroke-color';\nimport {webkitTextStrokeWidth} from './property-descriptors/webkit-text-stroke-width';\nimport {Context} from '../core/context';\n\nexport class CSSParsedDeclaration {\n    animationDuration: ReturnType<typeof duration.parse>;\n    backgroundClip: ReturnType<typeof backgroundClip.parse>;\n    backgroundColor: Color;\n    backgroundImage: ReturnType<typeof backgroundImage.parse>;\n    backgroundOrigin: ReturnType<typeof backgroundOrigin.parse>;\n    backgroundPosition: ReturnType<typeof backgroundPosition.parse>;\n    backgroundRepeat: ReturnType<typeof backgroundRepeat.parse>;\n    backgroundSize: ReturnType<typeof backgroundSize.parse>;\n    borderTopColor: Color;\n    borderRightColor: Color;\n    borderBottomColor: Color;\n    borderLeftColor: Color;\n    borderTopLeftRadius: ReturnType<typeof borderTopLeftRadius.parse>;\n    borderTopRightRadius: ReturnType<typeof borderTopRightRadius.parse>;\n    borderBottomRightRadius: ReturnType<typeof borderBottomRightRadius.parse>;\n    borderBottomLeftRadius: ReturnType<typeof borderBottomLeftRadius.parse>;\n    borderTopStyle: ReturnType<typeof borderTopStyle.parse>;\n    borderRightStyle: ReturnType<typeof borderRightStyle.parse>;\n    borderBottomStyle: ReturnType<typeof borderBottomStyle.parse>;\n    borderLeftStyle: ReturnType<typeof borderLeftStyle.parse>;\n    borderTopWidth: ReturnType<typeof borderTopWidth.parse>;\n    borderRightWidth: ReturnType<typeof borderRightWidth.parse>;\n    borderBottomWidth: ReturnType<typeof borderBottomWidth.parse>;\n    borderLeftWidth: ReturnType<typeof borderLeftWidth.parse>;\n    boxShadow: ReturnType<typeof boxShadow.parse>;\n    color: Color;\n    direction: ReturnType<typeof direction.parse>;\n    display: ReturnType<typeof display.parse>;\n    float: ReturnType<typeof float.parse>;\n    fontFamily: ReturnType<typeof fontFamily.parse>;\n    fontSize: LengthPercentage;\n    fontStyle: ReturnType<typeof fontStyle.parse>;\n    fontVariant: ReturnType<typeof fontVariant.parse>;\n    fontWeight: ReturnType<typeof fontWeight.parse>;\n    letterSpacing: ReturnType<typeof letterSpacing.parse>;\n    lineBreak: ReturnType<typeof lineBreak.parse>;\n    lineHeight: CSSValue;\n    listStyleImage: ReturnType<typeof listStyleImage.parse>;\n    listStylePosition: ReturnType<typeof listStylePosition.parse>;\n    listStyleType: ReturnType<typeof listStyleType.parse>;\n    marginTop: CSSValue;\n    marginRight: CSSValue;\n    marginBottom: CSSValue;\n    marginLeft: CSSValue;\n    opacity: ReturnType<typeof opacity.parse>;\n    overflowX: OVERFLOW;\n    overflowY: OVERFLOW;\n    overflowWrap: ReturnType<typeof overflowWrap.parse>;\n    paddingTop: LengthPercentage;\n    paddingRight: LengthPercentage;\n    paddingBottom: LengthPercentage;\n    paddingLeft: LengthPercentage;\n    paintOrder: ReturnType<typeof paintOrder.parse>;\n    position: ReturnType<typeof position.parse>;\n    textAlign: ReturnType<typeof textAlign.parse>;\n    textDecorationColor: Color;\n    textDecorationLine: ReturnType<typeof textDecorationLine.parse>;\n    textShadow: ReturnType<typeof textShadow.parse>;\n    textTransform: ReturnType<typeof textTransform.parse>;\n    transform: ReturnType<typeof transform.parse>;\n    transformOrigin: ReturnType<typeof transformOrigin.parse>;\n    visibility: ReturnType<typeof visibility.parse>;\n    webkitTextStrokeColor: Color;\n    webkitTextStrokeWidth: ReturnType<typeof webkitTextStrokeWidth.parse>;\n    wordBreak: ReturnType<typeof wordBreak.parse>;\n    zIndex: ReturnType<typeof zIndex.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.animationDuration = parse(context, duration, declaration.animationDuration);\n        this.backgroundClip = parse(context, backgroundClip, declaration.backgroundClip);\n        this.backgroundColor = parse(context, backgroundColor, declaration.backgroundColor);\n        this.backgroundImage = parse(context, backgroundImage, declaration.backgroundImage);\n        this.backgroundOrigin = parse(context, backgroundOrigin, declaration.backgroundOrigin);\n        this.backgroundPosition = parse(context, backgroundPosition, declaration.backgroundPosition);\n        this.backgroundRepeat = parse(context, backgroundRepeat, declaration.backgroundRepeat);\n        this.backgroundSize = parse(context, backgroundSize, declaration.backgroundSize);\n        this.borderTopColor = parse(context, borderTopColor, declaration.borderTopColor);\n        this.borderRightColor = parse(context, borderRightColor, declaration.borderRightColor);\n        this.borderBottomColor = parse(context, borderBottomColor, declaration.borderBottomColor);\n        this.borderLeftColor = parse(context, borderLeftColor, declaration.borderLeftColor);\n        this.borderTopLeftRadius = parse(context, borderTopLeftRadius, declaration.borderTopLeftRadius);\n        this.borderTopRightRadius = parse(context, borderTopRightRadius, declaration.borderTopRightRadius);\n        this.borderBottomRightRadius = parse(context, borderBottomRightRadius, declaration.borderBottomRightRadius);\n        this.borderBottomLeftRadius = parse(context, borderBottomLeftRadius, declaration.borderBottomLeftRadius);\n        this.borderTopStyle = parse(context, borderTopStyle, declaration.borderTopStyle);\n        this.borderRightStyle = parse(context, borderRightStyle, declaration.borderRightStyle);\n        this.borderBottomStyle = parse(context, borderBottomStyle, declaration.borderBottomStyle);\n        this.borderLeftStyle = parse(context, borderLeftStyle, declaration.borderLeftStyle);\n        this.borderTopWidth = parse(context, borderTopWidth, declaration.borderTopWidth);\n        this.borderRightWidth = parse(context, borderRightWidth, declaration.borderRightWidth);\n        this.borderBottomWidth = parse(context, borderBottomWidth, declaration.borderBottomWidth);\n        this.borderLeftWidth = parse(context, borderLeftWidth, declaration.borderLeftWidth);\n        this.boxShadow = parse(context, boxShadow, declaration.boxShadow);\n        this.color = parse(context, color, declaration.color);\n        this.direction = parse(context, direction, declaration.direction);\n        this.display = parse(context, display, declaration.display);\n        this.float = parse(context, float, declaration.cssFloat);\n        this.fontFamily = parse(context, fontFamily, declaration.fontFamily);\n        this.fontSize = parse(context, fontSize, declaration.fontSize);\n        this.fontStyle = parse(context, fontStyle, declaration.fontStyle);\n        this.fontVariant = parse(context, fontVariant, declaration.fontVariant);\n        this.fontWeight = parse(context, fontWeight, declaration.fontWeight);\n        this.letterSpacing = parse(context, letterSpacing, declaration.letterSpacing);\n        this.lineBreak = parse(context, lineBreak, declaration.lineBreak);\n        this.lineHeight = parse(context, lineHeight, declaration.lineHeight);\n        this.listStyleImage = parse(context, listStyleImage, declaration.listStyleImage);\n        this.listStylePosition = parse(context, listStylePosition, declaration.listStylePosition);\n        this.listStyleType = parse(context, listStyleType, declaration.listStyleType);\n        this.marginTop = parse(context, marginTop, declaration.marginTop);\n        this.marginRight = parse(context, marginRight, declaration.marginRight);\n        this.marginBottom = parse(context, marginBottom, declaration.marginBottom);\n        this.marginLeft = parse(context, marginLeft, declaration.marginLeft);\n        this.opacity = parse(context, opacity, declaration.opacity);\n        const overflowTuple = parse(context, overflow, declaration.overflow);\n        this.overflowX = overflowTuple[0];\n        this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\n        this.overflowWrap = parse(context, overflowWrap, declaration.overflowWrap);\n        this.paddingTop = parse(context, paddingTop, declaration.paddingTop);\n        this.paddingRight = parse(context, paddingRight, declaration.paddingRight);\n        this.paddingBottom = parse(context, paddingBottom, declaration.paddingBottom);\n        this.paddingLeft = parse(context, paddingLeft, declaration.paddingLeft);\n        this.paintOrder = parse(context, paintOrder, declaration.paintOrder);\n        this.position = parse(context, position, declaration.position);\n        this.textAlign = parse(context, textAlign, declaration.textAlign);\n        this.textDecorationColor = parse(\n            context,\n            textDecorationColor,\n            declaration.textDecorationColor ?? declaration.color\n        );\n        this.textDecorationLine = parse(\n            context,\n            textDecorationLine,\n            declaration.textDecorationLine ?? declaration.textDecoration\n        );\n        this.textShadow = parse(context, textShadow, declaration.textShadow);\n        this.textTransform = parse(context, textTransform, declaration.textTransform);\n        this.transform = parse(context, transform, declaration.transform);\n        this.transformOrigin = parse(context, transformOrigin, declaration.transformOrigin);\n        this.visibility = parse(context, visibility, declaration.visibility);\n        this.webkitTextStrokeColor = parse(context, webkitTextStrokeColor, declaration.webkitTextStrokeColor);\n        this.webkitTextStrokeWidth = parse(context, webkitTextStrokeWidth, declaration.webkitTextStrokeWidth);\n        this.wordBreak = parse(context, wordBreak, declaration.wordBreak);\n        this.zIndex = parse(context, zIndex, declaration.zIndex);\n    }\n\n    isVisible(): boolean {\n        return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\n    }\n\n    isTransparent(): boolean {\n        return isTransparent(this.backgroundColor);\n    }\n\n    isTransformed(): boolean {\n        return this.transform !== null;\n    }\n\n    isPositioned(): boolean {\n        return this.position !== POSITION.STATIC;\n    }\n\n    isPositionedWithZIndex(): boolean {\n        return this.isPositioned() && !this.zIndex.auto;\n    }\n\n    isFloating(): boolean {\n        return this.float !== FLOAT.NONE;\n    }\n\n    isInlineLevel(): boolean {\n        return (\n            contains(this.display, DISPLAY.INLINE) ||\n            contains(this.display, DISPLAY.INLINE_BLOCK) ||\n            contains(this.display, DISPLAY.INLINE_FLEX) ||\n            contains(this.display, DISPLAY.INLINE_GRID) ||\n            contains(this.display, DISPLAY.INLINE_LIST_ITEM) ||\n            contains(this.display, DISPLAY.INLINE_TABLE)\n        );\n    }\n}\n\nexport class CSSParsedPseudoDeclaration {\n    content: ReturnType<typeof content.parse>;\n    quotes: ReturnType<typeof quotes.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.content = parse(context, content, declaration.content);\n        this.quotes = parse(context, quotes, declaration.quotes);\n    }\n}\n\nexport class CSSParsedCounterDeclaration {\n    counterIncrement: ReturnType<typeof counterIncrement.parse>;\n    counterReset: ReturnType<typeof counterReset.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.counterIncrement = parse(context, counterIncrement, declaration.counterIncrement);\n        this.counterReset = parse(context, counterReset, declaration.counterReset);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst parse = (context: Context, descriptor: CSSPropertyDescriptor<any>, style?: string | null) => {\n    const tokenizer = new Tokenizer();\n    const value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\n    tokenizer.write(value);\n    const parser = new Parser(tokenizer.read());\n    switch (descriptor.type) {\n        case PropertyDescriptorParsingType.IDENT_VALUE:\n            const token = parser.parseComponentValue();\n            return descriptor.parse(context, isIdentToken(token) ? token.value : descriptor.initialValue);\n        case PropertyDescriptorParsingType.VALUE:\n            return descriptor.parse(context, parser.parseComponentValue());\n        case PropertyDescriptorParsingType.LIST:\n            return descriptor.parse(context, parser.parseComponentValues());\n        case PropertyDescriptorParsingType.TOKEN_VALUE:\n            return parser.parseComponentValue();\n        case PropertyDescriptorParsingType.TYPE_VALUE:\n            switch (descriptor.format) {\n                case 'angle':\n                    return angle.parse(context, parser.parseComponentValue());\n                case 'color':\n                    return colorType.parse(context, parser.parseComponentValue());\n                case 'image':\n                    return image.parse(context, parser.parseComponentValue());\n                case 'length':\n                    const length = parser.parseComponentValue();\n                    return isLength(length) ? length : ZERO_LENGTH;\n                case 'length-percentage':\n                    const value = parser.parseComponentValue();\n                    return isLengthPercentage(value) ? value : ZERO_LENGTH;\n                case 'time':\n                    return time.parse(context, parser.parseComponentValue());\n            }\n            break;\n    }\n};\n","const elementDebuggerAttribute = 'data-html2canvas-debug';\nexport const enum DebuggerType {\n    NONE,\n    ALL,\n    CLONE,\n    PARSE,\n    RENDER\n}\n\nconst getElementDebugType = (element: Element): DebuggerType => {\n    const attribute = element.getAttribute(elementDebuggerAttribute);\n    switch (attribute) {\n        case 'all':\n            return DebuggerType.ALL;\n        case 'clone':\n            return DebuggerType.CLONE;\n        case 'parse':\n            return DebuggerType.PARSE;\n        case 'render':\n            return DebuggerType.RENDER;\n        default:\n            return DebuggerType.NONE;\n    }\n};\n\nexport const isDebugging = (element: Element, type: Omit<DebuggerType, DebuggerType.NONE>): boolean => {\n    const elementType = getElementDebugType(element);\n    return elementType === DebuggerType.ALL || type === elementType;\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TextContainer} from './text-container';\nimport {Bounds, parseBounds} from '../css/layout/bounds';\nimport {isHTMLElementNode} from './node-parser';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport const enum FLAGS {\n    CREATES_STACKING_CONTEXT = 1 << 1,\n    CREATES_REAL_STACKING_CONTEXT = 1 << 2,\n    IS_LIST_OWNER = 1 << 3,\n    DEBUG_RENDER = 1 << 4\n}\n\nexport class ElementContainer {\n    readonly styles: CSSParsedDeclaration;\n    readonly textNodes: TextContainer[] = [];\n    readonly elements: ElementContainer[] = [];\n    bounds: Bounds;\n    flags = 0;\n\n    constructor(protected readonly context: Context, element: Element) {\n        if (isDebugging(element, DebuggerType.PARSE)) {\n            debugger;\n        }\n\n        this.styles = new CSSParsedDeclaration(context, window.getComputedStyle(element, null));\n\n        if (isHTMLElementNode(element)) {\n            if (this.styles.animationDuration.some((duration) => duration > 0)) {\n                element.style.animationDuration = '0s';\n            }\n\n            if (this.styles.transform !== null) {\n                // getBoundingClientRect takes transforms into account\n                element.style.transform = 'none';\n            }\n        }\n\n        this.bounds = parseBounds(this.context, element);\n\n        if (isDebugging(element, DebuggerType.RENDER)) {\n            this.flags |= FLAGS.DEBUG_RENDER;\n        }\n    }\n}\n","export const base64 =\n    'AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=';\nexport const byteLength = 19616;\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n","import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n","import {base64, byteLength} from './grapheme-break-trie';\nimport {createTrieFromBase64} from 'utrie';\n\nconst Other = 0;\nconst Prepend = 1;\nconst CR = 2;\nconst LF = 3;\nconst Control = 4;\nconst Extend = 5;\nconst Regional_Indicator = 6;\nconst SpacingMark = 7;\nconst L = 8;\nconst V = 9;\nconst T = 10;\nconst LV = 11;\nconst LVT = 12;\nconst ZWJ = 13;\nconst Extended_Pictographic = 14;\nconst RI = 15;\n\nexport const classes: {[key: string]: number} = {\n    Other,\n    Prepend,\n    CR,\n    LF,\n    Control,\n    Extend,\n    Regional_Indicator,\n    SpacingMark,\n    L,\n    V,\n    T,\n    LV,\n    LVT,\n    ZWJ,\n    Extended_Pictographic,\n    RI,\n};\n\nexport const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED;\n\nexport const codePointToClass = (codePoint: number): number => UnicodeTrie.get(codePoint);\n\nconst _graphemeBreakAtIndex = (_codePoints: number[], classTypes: number[], index: number): BREAK_OPPORTUNITIES => {\n    let prevIndex = index - 2;\n    let prev = classTypes[prevIndex];\n    const current = classTypes[index - 1];\n    const next = classTypes[index];\n    // GB3 Do not break between a CR and LF\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB4 Otherwise, break before and after controls.\n    if (current === CR || current === LF || current === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB5\n    if (next === CR || next === LF || next === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // Do not break Hangul syllable sequences.\n    // GB6\n    if (current === L && [L, V, LV, LVT].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB7\n    if ((current === LV || current === V) && (next === V || next === T)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB8\n    if ((current === LVT || current === T) && next === T) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9 Do not break before extending characters or ZWJ.\n    if (next === ZWJ || next === Extend) {\n        return BREAK_NOT_ALLOWED;\n    }\n    // Do not break before SpacingMarks, or after Prepend characters.\n    // GB9a\n    if (next === SpacingMark) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9a\n    if (current === Prepend) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB11 Do not break within emoji modifier sequences or emoji zwj sequences.\n    if (current === ZWJ && next === Extended_Pictographic) {\n        while (prev === Extend) {\n            prev = classTypes[--prevIndex];\n        }\n        if (prev === Extended_Pictographic) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // GB12 Do not break within emoji flag sequences.\n    // That is, do not break between regional indicator (RI) symbols\n    // if there is an odd number of RI characters before the break point.\n    if (current === RI && next === RI) {\n        let countRI = 0;\n        while (prev === RI) {\n            countRI++;\n            prev = classTypes[--prevIndex];\n        }\n        if (countRI % 2 === 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const graphemeBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // GB1 Break at the start and end of text, unless the text is empty.\n    if (index === 0) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB2\n    if (index >= codePoints.length) {\n        return BREAK_ALLOWED;\n    }\n\n    const classTypes = codePoints.map(codePointToClass);\n    return _graphemeBreakAtIndex(codePoints, classTypes, index);\n};\n\nexport const GraphemeBreaker = (str: string) => {\n    const codePoints = toCodePoints(str);\n    const length = codePoints.length;\n    let index = 0;\n    let lastEnd = 0;\n    const classTypes = codePoints.map(codePointToClass);\n\n    return {\n        next: () => {\n            if (index >= length) {\n                return {done: true, value: null};\n            }\n\n            let graphemeBreak = BREAK_NOT_ALLOWED;\n            while (\n                index < length &&\n                (graphemeBreak = _graphemeBreakAtIndex(codePoints, classTypes, ++index)) === BREAK_NOT_ALLOWED\n            ) {}\n\n            if (graphemeBreak !== BREAK_NOT_ALLOWED || index === length) {\n                const value = fromCodePoint.apply(null, codePoints.slice(lastEnd, index));\n                lastEnd = index;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n            while (index < length) {}\n\n            return {done: true, value: null};\n        },\n    };\n};\n\nexport const splitGraphemes = (str: string): string[] => {\n    const breaker = GraphemeBreaker(str);\n\n    const graphemes = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            graphemes.push(bk.value.slice());\n        }\n    }\n\n    return graphemes;\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {\n    isBodyElement,\n    isCanvasElement,\n    isCustomElement,\n    isElementNode,\n    isHTMLElementNode,\n    isIFrameElement,\n    isImageElement,\n    isScriptElement,\n    isSelectElement,\n    isSlotElement,\n    isStyleElement,\n    isSVGElementNode,\n    isTextareaElement,\n    isTextNode,\n    isVideoElement\n} from './node-parser';\nimport {isIdentToken, nonFunctionArgSeparator} from '../css/syntax/parser';\nimport {TokenType} from '../css/syntax/tokenizer';\nimport {CounterState, createCounterText} from '../css/types/functions/counter';\nimport {LIST_STYLE_TYPE, listStyleType} from '../css/property-descriptors/list-style-type';\nimport {CSSParsedCounterDeclaration, CSSParsedPseudoDeclaration} from '../css/index';\nimport {getQuote} from '../css/property-descriptors/quotes';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport interface CloneOptions {\n    ignoreElements?: (element: Element) => boolean;\n    onclone?: (document: Document, element: HTMLElement) => void;\n    allowTaint?: boolean;\n}\n\nexport interface WindowOptions {\n    scrollX: number;\n    scrollY: number;\n    windowWidth: number;\n    windowHeight: number;\n}\n\nexport type CloneConfigurations = CloneOptions & {\n    inlineImages: boolean;\n    copyStyles: boolean;\n};\n\nconst IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nexport class DocumentCloner {\n    private readonly scrolledElements: [Element, number, number][];\n    private readonly referenceElement: HTMLElement;\n    clonedReferenceElement?: HTMLElement;\n    private readonly documentElement: HTMLElement;\n    private readonly counters: CounterState;\n    private quoteDepth: number;\n\n    constructor(\n        private readonly context: Context,\n        element: HTMLElement,\n        private readonly options: CloneConfigurations\n    ) {\n        this.scrolledElements = [];\n        this.referenceElement = element;\n        this.counters = new CounterState();\n        this.quoteDepth = 0;\n        if (!element.ownerDocument) {\n            throw new Error('Cloned element does not have an owner document');\n        }\n\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement, false) as HTMLElement;\n    }\n\n    toIFrame(ownerDocument: Document, windowSize: Bounds): Promise<HTMLIFrameElement> {\n        const iframe: HTMLIFrameElement = createIFrameContainer(ownerDocument, windowSize);\n\n        if (!iframe.contentWindow) {\n            return Promise.reject(`Unable to find iframe window`);\n        }\n\n        const scrollX = (ownerDocument.defaultView as Window).pageXOffset;\n        const scrollY = (ownerDocument.defaultView as Window).pageYOffset;\n\n        const cloneWindow = iframe.contentWindow;\n        const documentClone: Document = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n        const iframeLoad = iframeLoader(iframe).then(async () => {\n            this.scrolledElements.forEach(restoreNodeScroll);\n            if (cloneWindow) {\n                cloneWindow.scrollTo(windowSize.left, windowSize.top);\n                if (\n                    /(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\n                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)\n                ) {\n                    this.context.logger.warn('Unable to restore scroll position for cloned document');\n                    this.context.windowBounds = this.context.windowBounds.add(\n                        cloneWindow.scrollX - windowSize.left,\n                        cloneWindow.scrollY - windowSize.top,\n                        0,\n                        0\n                    );\n                }\n            }\n\n            const onclone = this.options.onclone;\n\n            const referenceElement = this.clonedReferenceElement;\n\n            if (typeof referenceElement === 'undefined') {\n                return Promise.reject(`Error finding the ${this.referenceElement.nodeName} in the cloned document`);\n            }\n\n            if (documentClone.fonts && documentClone.fonts.ready) {\n                await documentClone.fonts.ready;\n            }\n\n            if (/(AppleWebKit)/g.test(navigator.userAgent)) {\n                await imagesReady(documentClone);\n            }\n\n            if (typeof onclone === 'function') {\n                return Promise.resolve()\n                    .then(() => onclone(documentClone, referenceElement))\n                    .then(() => iframe);\n            }\n\n            return iframe;\n        });\n\n        documentClone.open();\n        documentClone.write(`${serializeDoctype(document.doctype)}<html></html>`);\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    }\n\n    createElementClone<T extends HTMLElement | SVGElement>(node: T): HTMLElement | SVGElement {\n        if (isDebugging(node, DebuggerType.CLONE)) {\n            debugger;\n        }\n        if (isCanvasElement(node)) {\n            return this.createCanvasClone(node);\n        }\n        if (isVideoElement(node)) {\n            return this.createVideoClone(node);\n        }\n        if (isStyleElement(node)) {\n            return this.createStyleClone(node);\n        }\n\n        const clone = node.cloneNode(false) as T;\n        if (isImageElement(clone)) {\n            if (isImageElement(node) && node.currentSrc && node.currentSrc !== node.src) {\n                clone.src = node.currentSrc;\n                clone.srcset = '';\n            }\n\n            if (clone.loading === 'lazy') {\n                clone.loading = 'eager';\n            }\n        }\n\n        if (isCustomElement(clone)) {\n            return this.createCustomElementClone(clone);\n        }\n\n        return clone;\n    }\n\n    createCustomElementClone(node: HTMLElement): HTMLElement {\n        const clone = document.createElement('html2canvascustomelement');\n        copyCSSStyles(node.style, clone);\n\n        return clone;\n    }\n\n    createStyleClone(node: HTMLStyleElement): HTMLStyleElement {\n        try {\n            const sheet = node.sheet as CSSStyleSheet | undefined;\n            if (sheet && sheet.cssRules) {\n                const css: string = [].slice.call(sheet.cssRules, 0).reduce((css: string, rule: CSSRule) => {\n                    if (rule && typeof rule.cssText === 'string') {\n                        return css + rule.cssText;\n                    }\n                    return css;\n                }, '');\n                const style = node.cloneNode(false) as HTMLStyleElement;\n                style.textContent = css;\n                return style;\n            }\n        } catch (e) {\n            // accessing node.sheet.cssRules throws a DOMException\n            this.context.logger.error('Unable to access cssRules property', e);\n            if (e.name !== 'SecurityError') {\n                throw e;\n            }\n        }\n        return node.cloneNode(false) as HTMLStyleElement;\n    }\n\n    createCanvasClone(canvas: HTMLCanvasElement): HTMLImageElement | HTMLCanvasElement {\n        if (this.options.inlineImages && canvas.ownerDocument) {\n            const img = canvas.ownerDocument.createElement('img');\n            try {\n                img.src = canvas.toDataURL();\n                return img;\n            } catch (e) {\n                this.context.logger.info(`Unable to inline canvas contents, canvas is tainted`, canvas);\n            }\n        }\n\n        const clonedCanvas = canvas.cloneNode(false) as HTMLCanvasElement;\n\n        try {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            const ctx = canvas.getContext('2d');\n            const clonedCtx = clonedCanvas.getContext('2d');\n            if (clonedCtx) {\n                if (!this.options.allowTaint && ctx) {\n                    clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n                } else {\n                    const gl = canvas.getContext('webgl2') ?? canvas.getContext('webgl');\n                    if (gl) {\n                        const attribs = gl.getContextAttributes();\n                        if (attribs?.preserveDrawingBuffer === false) {\n                            this.context.logger.warn(\n                                'Unable to clone WebGL context as it has preserveDrawingBuffer=false',\n                                canvas\n                            );\n                        }\n                    }\n\n                    clonedCtx.drawImage(canvas, 0, 0);\n                }\n            }\n            return clonedCanvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone canvas as it is tainted`, canvas);\n        }\n\n        return clonedCanvas;\n    }\n\n    createVideoClone(video: HTMLVideoElement): HTMLCanvasElement {\n        const canvas = video.ownerDocument.createElement('canvas');\n\n        canvas.width = video.offsetWidth;\n        canvas.height = video.offsetHeight;\n        const ctx = canvas.getContext('2d');\n\n        try {\n            if (ctx) {\n                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                if (!this.options.allowTaint) {\n                    ctx.getImageData(0, 0, canvas.width, canvas.height);\n                }\n            }\n            return canvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone video as it is tainted`, video);\n        }\n\n        const blankCanvas = video.ownerDocument.createElement('canvas');\n\n        blankCanvas.width = video.offsetWidth;\n        blankCanvas.height = video.offsetHeight;\n        return blankCanvas;\n    }\n\n    appendChildNode(clone: HTMLElement | SVGElement, child: Node, copyStyles: boolean): void {\n        if (\n            !isElementNode(child) ||\n            (!isScriptElement(child) &&\n                !child.hasAttribute(IGNORE_ATTRIBUTE) &&\n                (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))\n        ) {\n            if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\n                clone.appendChild(this.cloneNode(child, copyStyles));\n            }\n        }\n    }\n\n    cloneChildNodes(node: Element, clone: HTMLElement | SVGElement, copyStyles: boolean): void {\n        for (\n            let child = node.shadowRoot ? node.shadowRoot.firstChild : node.firstChild;\n            child;\n            child = child.nextSibling\n        ) {\n            if (isElementNode(child) && isSlotElement(child) && typeof child.assignedNodes === 'function') {\n                const assignedNodes = child.assignedNodes() as ChildNode[];\n                if (assignedNodes.length) {\n                    assignedNodes.forEach((assignedNode) => this.appendChildNode(clone, assignedNode, copyStyles));\n                }\n            } else {\n                this.appendChildNode(clone, child, copyStyles);\n            }\n        }\n    }\n\n    cloneNode(node: Node, copyStyles: boolean): Node {\n        if (isTextNode(node)) {\n            return document.createTextNode(node.data);\n        }\n\n        if (!node.ownerDocument) {\n            return node.cloneNode(false);\n        }\n\n        const window = node.ownerDocument.defaultView;\n\n        if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\n            const clone = this.createElementClone(node);\n            clone.style.transitionProperty = 'none';\n\n            const style = window.getComputedStyle(node);\n            const styleBefore = window.getComputedStyle(node, ':before');\n            const styleAfter = window.getComputedStyle(node, ':after');\n\n            if (this.referenceElement === node && isHTMLElementNode(clone)) {\n                this.clonedReferenceElement = clone;\n            }\n            if (isBodyElement(clone)) {\n                createPseudoHideStyles(clone);\n            }\n\n            const counters = this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n            const before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\n\n            if (isCustomElement(node)) {\n                copyStyles = true;\n            }\n\n            if (!isVideoElement(node)) {\n                this.cloneChildNodes(node, clone, copyStyles);\n            }\n\n            if (before) {\n                clone.insertBefore(before, clone.firstChild);\n            }\n\n            const after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\n            if (after) {\n                clone.appendChild(after);\n            }\n\n            this.counters.pop(counters);\n\n            if (\n                (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) ||\n                copyStyles\n            ) {\n                copyCSSStyles(style, clone);\n            }\n\n            if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n            }\n\n            if (\n                (isTextareaElement(node) || isSelectElement(node)) &&\n                (isTextareaElement(clone) || isSelectElement(clone))\n            ) {\n                clone.value = node.value;\n            }\n\n            return clone;\n        }\n\n        return node.cloneNode(false);\n    }\n\n    resolvePseudoContent(\n        node: Element,\n        clone: Element,\n        style: CSSStyleDeclaration,\n        pseudoElt: PseudoElementType\n    ): HTMLElement | void {\n        if (!style) {\n            return;\n        }\n\n        const value = style.content;\n        const document = clone.ownerDocument;\n        if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\n            return;\n        }\n\n        this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n        const declaration = new CSSParsedPseudoDeclaration(this.context, style);\n\n        const anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\n        copyCSSStyles(style, anonymousReplacedElement);\n\n        declaration.content.forEach((token) => {\n            if (token.type === TokenType.STRING_TOKEN) {\n                anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n            } else if (token.type === TokenType.URL_TOKEN) {\n                const img = document.createElement('img');\n                img.src = token.value;\n                img.style.opacity = '1';\n                anonymousReplacedElement.appendChild(img);\n            } else if (token.type === TokenType.FUNCTION) {\n                if (token.name === 'attr') {\n                    const attr = token.values.filter(isIdentToken);\n                    if (attr.length) {\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(node.getAttribute(attr[0].value) || '')\n                        );\n                    }\n                } else if (token.name === 'counter') {\n                    const [counter, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterState = this.counters.getCounterValue(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(createCounterText(counterState, counterType, false))\n                        );\n                    }\n                } else if (token.name === 'counters') {\n                    const [counter, delim, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterStates = this.counters.getCounterValues(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n                        const separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\n                        const text = counterStates\n                            .map((value) => createCounterText(value, counterType, false))\n                            .join(separator);\n\n                        anonymousReplacedElement.appendChild(document.createTextNode(text));\n                    }\n                } else {\n                    //   console.log('FUNCTION_TOKEN', token);\n                }\n            } else if (token.type === TokenType.IDENT_TOKEN) {\n                switch (token.value) {\n                    case 'open-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, this.quoteDepth++, true))\n                        );\n                        break;\n                    case 'close-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, --this.quoteDepth, false))\n                        );\n                        break;\n                    default:\n                        // safari doesn't parse string tokens correctly because of lack of quotes\n                        anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n                }\n            }\n        });\n\n        anonymousReplacedElement.className = `${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE} ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n        const newClassName =\n            pseudoElt === PseudoElementType.BEFORE\n                ? ` ${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}`\n                : ` ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n\n        if (isSVGElementNode(clone)) {\n            clone.className.baseValue += newClassName;\n        } else {\n            clone.className += newClassName;\n        }\n\n        return anonymousReplacedElement;\n    }\n\n    static destroy(container: HTMLIFrameElement): boolean {\n        if (container.parentNode) {\n            container.parentNode.removeChild(container);\n            return true;\n        }\n        return false;\n    }\n}\n\nenum PseudoElementType {\n    BEFORE,\n    AFTER\n}\n\nconst createIFrameContainer = (ownerDocument: Document, bounds: Bounds): HTMLIFrameElement => {\n    const cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return cloneIframeContainer;\n};\n\nconst imageReady = (img: HTMLImageElement): Promise<Event | void | string> => {\n    return new Promise((resolve) => {\n        if (img.complete) {\n            resolve();\n            return;\n        }\n        if (!img.src) {\n            resolve();\n            return;\n        }\n        img.onload = resolve;\n        img.onerror = resolve;\n    });\n};\n\nconst imagesReady = (document: HTMLDocument): Promise<unknown[]> => {\n    return Promise.all([].slice.call(document.images, 0).map(imageReady));\n};\n\nconst iframeLoader = (iframe: HTMLIFrameElement): Promise<HTMLIFrameElement> => {\n    return new Promise((resolve, reject) => {\n        const cloneWindow = iframe.contentWindow;\n\n        if (!cloneWindow) {\n            return reject(`No window assigned for iframe`);\n        }\n\n        const documentClone = cloneWindow.document;\n\n        cloneWindow.onload = iframe.onload = () => {\n            cloneWindow.onload = iframe.onload = null;\n            const interval = setInterval(() => {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(iframe);\n                }\n            }, 50);\n        };\n    });\n};\n\nconst ignoredStyleProperties = [\n    'all', // #2476\n    'd', // #2483\n    'content' // Safari shows pseudoelements if content is set\n];\n\nexport const copyCSSStyles = <T extends HTMLElement | SVGElement>(style: CSSStyleDeclaration, target: T): T => {\n    // Edge does not provide value for cssText\n    for (let i = style.length - 1; i >= 0; i--) {\n        const property = style.item(i);\n        if (ignoredStyleProperties.indexOf(property) === -1) {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nconst serializeDoctype = (doctype?: DocumentType | null): string => {\n    let str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += `\"${doctype.publicId}\"`;\n        }\n\n        if (doctype.systemId) {\n            str += `\"${doctype.systemId}\"`;\n        }\n\n        str += '>';\n    }\n\n    return str;\n};\n\nconst restoreOwnerScroll = (ownerDocument: Document | null, x: number, y: number) => {\n    if (\n        ownerDocument &&\n        ownerDocument.defaultView &&\n        (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)\n    ) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nconst restoreNodeScroll = ([element, x, y]: [HTMLElement, number, number]) => {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nconst PSEUDO_BEFORE = ':before';\nconst PSEUDO_AFTER = ':after';\nconst PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nconst PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nconst PSEUDO_HIDE_ELEMENT_STYLE = `{\n    content: \"\" !important;\n    display: none !important;\n}`;\n\nconst createPseudoHideStyles = (body: HTMLElement) => {\n    createStyles(\n        body,\n        `.${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}${PSEUDO_BEFORE}${PSEUDO_HIDE_ELEMENT_STYLE}\n         .${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}${PSEUDO_AFTER}${PSEUDO_HIDE_ELEMENT_STYLE}`\n    );\n};\n\nconst createStyles = (body: HTMLElement, styles: string) => {\n    const document = body.ownerDocument;\n    if (document) {\n        const style = document.createElement('style');\n        style.textContent = styles;\n        body.appendChild(style);\n    }\n};\n","import {fromCodePoint, toCodePoints} from 'css-line-break';\n\nconst testRangeBounds = (document: Document) => {\n    const TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        const range = document.createRange();\n        if (range.getBoundingClientRect) {\n            const testElement = document.createElement('boundtest');\n            testElement.style.height = `${TEST_HEIGHT}px`;\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            const rangeBounds = range.getBoundingClientRect();\n            const rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nconst testIOSLineBreak = (document: Document) => {\n    const testElement = document.createElement('boundtest');\n    testElement.style.width = '50px';\n    testElement.style.display = 'block';\n    testElement.style.fontSize = '12px';\n    testElement.style.letterSpacing = '0px';\n    testElement.style.wordSpacing = '0px';\n    document.body.appendChild(testElement);\n    const range = document.createRange();\n\n    testElement.innerHTML = typeof ''.repeat === 'function' ? '&#128104;'.repeat(10) : '';\n\n    const node = testElement.firstChild as Text;\n\n    const textList = toCodePoints(node.data).map((i) => fromCodePoint(i));\n    let offset = 0;\n    let prev: DOMRect = {} as DOMRect;\n\n    // ios 13 does not handle range getBoundingClientRect line changes correctly #2177\n    const supports = textList.every((text, i) => {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + text.length);\n        const rect = range.getBoundingClientRect();\n\n        offset += text.length;\n        const boundAhead = rect.x > prev.x || rect.y > prev.y;\n\n        prev = rect;\n        if (i === 0) {\n            return true;\n        }\n\n        return boundAhead;\n    });\n\n    document.body.removeChild(testElement);\n    return supports;\n};\n\nconst testCORS = (): boolean => typeof new Image().crossOrigin !== 'undefined';\n\nconst testResponseType = (): boolean => typeof new XMLHttpRequest().responseType === 'string';\n\nconst testSVG = (document: Document): boolean => {\n    const img = new Image();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return false;\n    }\n\n    img.src = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>`;\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nconst isGreenPixel = (data: Uint8ClampedArray): boolean =>\n    data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n\nconst testForeignObject = (document: Document): Promise<boolean> => {\n    const canvas = document.createElement('canvas');\n    const size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return Promise.reject(false);\n    }\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    const img = new Image();\n    const greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    const svg = createForeignObjectSVG(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return loadSerializedSVG(svg)\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            const data = ctx.getImageData(0, 0, size, size).data;\n            ctx.fillStyle = 'red';\n            ctx.fillRect(0, 0, size, size);\n\n            const node = document.createElement('div');\n            node.style.backgroundImage = `url(${greenImageSrc})`;\n            node.style.height = `${size}px`;\n            // Firefox 55 does not render inline <img /> tags\n            return isGreenPixel(data)\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\n                : Promise.reject(false);\n        })\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            // Edge does not render background-images\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n        })\n        .catch(() => false);\n};\n\nexport const createForeignObjectSVG = (\n    width: number,\n    height: number,\n    x: number,\n    y: number,\n    node: Node\n): SVGForeignObjectElement => {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width.toString());\n    svg.setAttributeNS(null, 'height', height.toString());\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x.toString());\n    foreignObject.setAttributeNS(null, 'y', y.toString());\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n};\n\nexport const FEATURES = {\n    get SUPPORT_RANGE_BOUNDS(): boolean {\n        'use strict';\n        const value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {value});\n        return value;\n    },\n    get SUPPORT_WORD_BREAKING(): boolean {\n        'use strict';\n        const value = FEATURES.SUPPORT_RANGE_BOUNDS && testIOSLineBreak(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_WORD_BREAKING', {value});\n        return value;\n    },\n    get SUPPORT_SVG_DRAWING(): boolean {\n        'use strict';\n        const value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_FOREIGNOBJECT_DRAWING(): Promise<boolean> {\n        'use strict';\n        const value =\n            typeof Array.from === 'function' && typeof window.fetch === 'function'\n                ? testForeignObject(document)\n                : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_CORS_IMAGES(): boolean {\n        'use strict';\n        const value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {value});\n        return value;\n    },\n    get SUPPORT_RESPONSE_TYPE(): boolean {\n        'use strict';\n        const value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {value});\n        return value;\n    },\n    get SUPPORT_CORS_XHR(): boolean {\n        'use strict';\n        const value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {value});\n        return value;\n    },\n    get SUPPORT_NATIVE_TEXT_SEGMENTATION(): boolean {\n        'use strict';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const value = !!(typeof Intl !== 'undefined' && (Intl as any).Segmenter);\n        Object.defineProperty(FEATURES, 'SUPPORT_NATIVE_TEXT_SEGMENTATION', {value});\n        return value;\n    }\n};\n","import {OVERFLOW_WRAP} from '../property-descriptors/overflow-wrap';\nimport {CSSParsedDeclaration} from '../index';\nimport {fromCodePoint, LineBreaker, toCodePoints} from 'css-line-break';\nimport {splitGraphemes} from 'text-segmentation';\nimport {Bounds, parseBounds} from './bounds';\nimport {FEATURES} from '../../core/features';\nimport {Context} from '../../core/context';\n\nexport class TextBounds {\n    readonly text: string;\n    readonly bounds: Bounds;\n\n    constructor(text: string, bounds: Bounds) {\n        this.text = text;\n        this.bounds = bounds;\n    }\n}\n\nexport const parseTextBounds = (\n    context: Context,\n    value: string,\n    styles: CSSParsedDeclaration,\n    node: Text\n): TextBounds[] => {\n    const textList = breakText(value, styles);\n    const textBounds: TextBounds[] = [];\n    let offset = 0;\n    textList.forEach((text) => {\n        if (styles.textDecorationLine.length || text.trim().length > 0) {\n            if (FEATURES.SUPPORT_RANGE_BOUNDS) {\n                const clientRects = createRange(node, offset, text.length).getClientRects();\n                if (clientRects.length > 1) {\n                    const subSegments = segmentGraphemes(text);\n                    let subOffset = 0;\n                    subSegments.forEach((subSegment) => {\n                        textBounds.push(\n                            new TextBounds(\n                                subSegment,\n                                Bounds.fromDOMRectList(\n                                    context,\n                                    createRange(node, subOffset + offset, subSegment.length).getClientRects()\n                                )\n                            )\n                        );\n                        subOffset += subSegment.length;\n                    });\n                } else {\n                    textBounds.push(new TextBounds(text, Bounds.fromDOMRectList(context, clientRects)));\n                }\n            } else {\n                const replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(context, node)));\n                node = replacementNode;\n            }\n        } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    });\n\n    return textBounds;\n};\n\nconst getWrapperBounds = (context: Context, node: Text): Bounds => {\n    const ownerDocument = node.ownerDocument;\n    if (ownerDocument) {\n        const wrapper = ownerDocument.createElement('html2canvaswrapper');\n        wrapper.appendChild(node.cloneNode(true));\n        const parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.replaceChild(wrapper, node);\n            const bounds = parseBounds(context, wrapper);\n            if (wrapper.firstChild) {\n                parentNode.replaceChild(wrapper.firstChild, wrapper);\n            }\n            return bounds;\n        }\n    }\n\n    return Bounds.EMPTY;\n};\n\nconst createRange = (node: Text, offset: number, length: number): Range => {\n    const ownerDocument = node.ownerDocument;\n    if (!ownerDocument) {\n        throw new Error('Node has no owner document');\n    }\n    const range = ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range;\n};\n\nexport const segmentGraphemes = (value: string): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {granularity: 'grapheme'});\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return splitGraphemes(value);\n};\n\nconst segmentWords = (value: string, styles: CSSParsedDeclaration): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {\n            granularity: 'word'\n        });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return breakWords(value, styles);\n};\n\nconst breakText = (value: string, styles: CSSParsedDeclaration): string[] => {\n    return styles.letterSpacing !== 0 ? segmentGraphemes(value) : segmentWords(value, styles);\n};\n\n// https://drafts.csswg.org/css-text/#word-separator\nconst wordSeparators = [0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091];\n\nconst breakWords = (str: string, styles: CSSParsedDeclaration): string[] => {\n    const breaker = LineBreaker(str, {\n        lineBreak: styles.lineBreak,\n        wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\n    });\n\n    const words = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            const value = bk.value.slice();\n            const codePoints = toCodePoints(value);\n            let word = '';\n            codePoints.forEach((codePoint) => {\n                if (wordSeparators.indexOf(codePoint) === -1) {\n                    word += fromCodePoint(codePoint);\n                } else {\n                    if (word.length) {\n                        words.push(word);\n                    }\n                    words.push(fromCodePoint(codePoint));\n                    word = '';\n                }\n            });\n\n            if (word.length) {\n                words.push(word);\n            }\n        }\n    }\n\n    return words;\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TEXT_TRANSFORM} from '../css/property-descriptors/text-transform';\nimport {parseTextBounds, TextBounds} from '../css/layout/text';\nimport {Context} from '../core/context';\n\nexport class TextContainer {\n    text: string;\n    textBounds: TextBounds[];\n\n    constructor(context: Context, node: Text, styles: CSSParsedDeclaration) {\n        this.text = transform(node.data, styles.textTransform);\n        this.textBounds = parseTextBounds(context, this.text, styles, node);\n    }\n}\n\nconst transform = (text: string, transform: TEXT_TRANSFORM) => {\n    switch (transform) {\n        case TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nconst CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nconst capitalize = (m: string, p1: string, p2: string) => {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n};\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class ImageElementContainer extends ElementContainer {\n    src: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: HTMLImageElement) {\n        super(context, img);\n        this.src = img.currentSrc || img.src;\n        this.intrinsicWidth = img.naturalWidth;\n        this.intrinsicHeight = img.naturalHeight;\n        this.context.cache.addImage(this.src);\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class CanvasElementContainer extends ElementContainer {\n    canvas: HTMLCanvasElement;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, canvas: HTMLCanvasElement) {\n        super(context, canvas);\n        this.canvas = canvas;\n        this.intrinsicWidth = canvas.width;\n        this.intrinsicHeight = canvas.height;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {parseBounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nexport class SVGElementContainer extends ElementContainer {\n    svg: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: SVGSVGElement) {\n        super(context, img);\n        const s = new XMLSerializer();\n        const bounds = parseBounds(context, img);\n        img.setAttribute('width', `${bounds.width}px`);\n        img.setAttribute('height', `${bounds.height}px`);\n\n        this.svg = `data:image/svg+xml,${encodeURIComponent(s.serializeToString(img))}`;\n        this.intrinsicWidth = img.width.baseVal.value;\n        this.intrinsicHeight = img.height.baseVal.value;\n\n        this.context.cache.addImage(this.svg);\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class LIElementContainer extends ElementContainer {\n    readonly value: number;\n\n    constructor(context: Context, element: HTMLLIElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class OLElementContainer extends ElementContainer {\n    readonly start: number;\n    readonly reversed: boolean;\n\n    constructor(context: Context, element: HTMLOListElement) {\n        super(context, element);\n        this.start = element.start;\n        this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BACKGROUND_ORIGIN} from '../../css/property-descriptors/background-origin';\nimport {TokenType} from '../../css/syntax/tokenizer';\nimport {LengthPercentageTuple} from '../../css/types/length-percentage';\nimport {Bounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nconst CHECKBOX_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.DIMENSION_TOKEN,\n        flags: 0,\n        unit: 'px',\n        number: 3\n    }\n];\n\nconst RADIO_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.PERCENTAGE_TOKEN,\n        flags: 0,\n        number: 50\n    }\n];\n\nconst reformatInputBounds = (bounds: Bounds): Bounds => {\n    if (bounds.width > bounds.height) {\n        return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\n    } else if (bounds.width < bounds.height) {\n        return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\n    }\n    return bounds;\n};\n\nconst getInputValue = (node: HTMLInputElement): string => {\n    const value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n\nexport const CHECKBOX = 'checkbox';\nexport const RADIO = 'radio';\nexport const PASSWORD = 'password';\nexport const INPUT_COLOR = 0x2a2a2aff;\n\nexport class InputElementContainer extends ElementContainer {\n    readonly type: string;\n    readonly checked: boolean;\n    readonly value: string;\n\n    constructor(context: Context, input: HTMLInputElement) {\n        super(context, input);\n        this.type = input.type.toLowerCase();\n        this.checked = input.checked;\n        this.value = getInputValue(input);\n\n        if (this.type === CHECKBOX || this.type === RADIO) {\n            this.styles.backgroundColor = 0xdededeff;\n            this.styles.borderTopColor =\n                this.styles.borderRightColor =\n                this.styles.borderBottomColor =\n                this.styles.borderLeftColor =\n                    0xa5a5a5ff;\n            this.styles.borderTopWidth =\n                this.styles.borderRightWidth =\n                this.styles.borderBottomWidth =\n                this.styles.borderLeftWidth =\n                    1;\n            this.styles.borderTopStyle =\n                this.styles.borderRightStyle =\n                this.styles.borderBottomStyle =\n                this.styles.borderLeftStyle =\n                    BORDER_STYLE.SOLID;\n            this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\n            this.styles.backgroundOrigin = [BACKGROUND_ORIGIN.BORDER_BOX];\n            this.bounds = reformatInputBounds(this.bounds);\n        }\n\n        switch (this.type) {\n            case CHECKBOX:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        CHECKBOX_BORDER_RADIUS;\n                break;\n            case RADIO:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        RADIO_BORDER_RADIUS;\n                break;\n        }\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class SelectElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLSelectElement) {\n        super(context, element);\n        const option = element.options[element.selectedIndex || 0];\n        this.value = option ? option.text || '' : '';\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class TextareaElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLTextAreaElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {parseTree} from '../node-parser';\nimport {Color, parseColor, COLORS, isTransparent} from '../../css/types/color';\nimport {Context} from '../../core/context';\n\nexport class IFrameElementContainer extends ElementContainer {\n    src: string;\n    width: number;\n    height: number;\n    tree?: ElementContainer;\n    backgroundColor: Color;\n\n    constructor(context: Context, iframe: HTMLIFrameElement) {\n        super(context, iframe);\n        this.src = iframe.src;\n        this.width = parseInt(iframe.width, 10) || 0;\n        this.height = parseInt(iframe.height, 10) || 0;\n        this.backgroundColor = this.styles.backgroundColor;\n        try {\n            if (\n                iframe.contentWindow &&\n                iframe.contentWindow.document &&\n                iframe.contentWindow.document.documentElement\n            ) {\n                this.tree = parseTree(context, iframe.contentWindow.document.documentElement);\n\n                // http://www.w3.org/TR/css3-background/#special-backgrounds\n                const documentBackgroundColor = iframe.contentWindow.document.documentElement\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n                const bodyBackgroundColor = iframe.contentWindow.document.body\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.body).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n\n                this.backgroundColor = isTransparent(documentBackgroundColor)\n                    ? isTransparent(bodyBackgroundColor)\n                        ? this.styles.backgroundColor\n                        : bodyBackgroundColor\n                    : documentBackgroundColor;\n            }\n        } catch (e) {}\n    }\n}\n","import {CSSParsedDeclaration} from '../css';\nimport {ElementContainer, FLAGS} from './element-container';\nimport {TextContainer} from './text-container';\nimport {ImageElementContainer} from './replaced-elements/image-element-container';\nimport {CanvasElementContainer} from './replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from './replaced-elements/svg-element-container';\nimport {LIElementContainer} from './elements/li-element-container';\nimport {OLElementContainer} from './elements/ol-element-container';\nimport {InputElementContainer} from './replaced-elements/input-element-container';\nimport {SelectElementContainer} from './elements/select-element-container';\nimport {TextareaElementContainer} from './elements/textarea-element-container';\nimport {IFrameElementContainer} from './replaced-elements/iframe-element-container';\nimport {Context} from '../core/context';\n\nconst LIST_OWNERS = ['OL', 'UL', 'MENU'];\n\nconst parseNodeTree = (context: Context, node: Node, parent: ElementContainer, root: ElementContainer) => {\n    for (let childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n\n        if (isTextNode(childNode) && childNode.data.trim().length > 0) {\n            parent.textNodes.push(new TextContainer(context, childNode, parent.styles));\n        } else if (isElementNode(childNode)) {\n            if (isSlotElement(childNode) && childNode.assignedNodes) {\n                childNode.assignedNodes().forEach((childNode) => parseNodeTree(context, childNode, parent, root));\n            } else {\n                const container = createContainer(context, childNode);\n                if (container.styles.isVisible()) {\n                    if (createsRealStackingContext(childNode, container, root)) {\n                        container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n                    } else if (createsStackingContext(container.styles)) {\n                        container.flags |= FLAGS.CREATES_STACKING_CONTEXT;\n                    }\n\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\n                        container.flags |= FLAGS.IS_LIST_OWNER;\n                    }\n\n                    parent.elements.push(container);\n                    childNode.slot;\n                    if (childNode.shadowRoot) {\n                        parseNodeTree(context, childNode.shadowRoot, container, root);\n                    } else if (\n                        !isTextareaElement(childNode) &&\n                        !isSVGElement(childNode) &&\n                        !isSelectElement(childNode)\n                    ) {\n                        parseNodeTree(context, childNode, container, root);\n                    }\n                }\n            }\n        }\n    }\n};\n\nconst createContainer = (context: Context, element: Element): ElementContainer => {\n    if (isImageElement(element)) {\n        return new ImageElementContainer(context, element);\n    }\n\n    if (isCanvasElement(element)) {\n        return new CanvasElementContainer(context, element);\n    }\n\n    if (isSVGElement(element)) {\n        return new SVGElementContainer(context, element);\n    }\n\n    if (isLIElement(element)) {\n        return new LIElementContainer(context, element);\n    }\n\n    if (isOLElement(element)) {\n        return new OLElementContainer(context, element);\n    }\n\n    if (isInputElement(element)) {\n        return new InputElementContainer(context, element);\n    }\n\n    if (isSelectElement(element)) {\n        return new SelectElementContainer(context, element);\n    }\n\n    if (isTextareaElement(element)) {\n        return new TextareaElementContainer(context, element);\n    }\n\n    if (isIFrameElement(element)) {\n        return new IFrameElementContainer(context, element);\n    }\n\n    return new ElementContainer(context, element);\n};\n\nexport const parseTree = (context: Context, element: HTMLElement): ElementContainer => {\n    const container = createContainer(context, element);\n    container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n    parseNodeTree(context, element, container, container);\n    return container;\n};\n\nconst createsRealStackingContext = (node: Element, container: ElementContainer, root: ElementContainer): boolean => {\n    return (\n        container.styles.isPositionedWithZIndex() ||\n        container.styles.opacity < 1 ||\n        container.styles.isTransformed() ||\n        (isBodyElement(node) && root.styles.isTransparent())\n    );\n};\n\nconst createsStackingContext = (styles: CSSParsedDeclaration): boolean => styles.isPositioned() || styles.isFloating();\n\nexport const isTextNode = (node: Node): node is Text => node.nodeType === Node.TEXT_NODE;\nexport const isElementNode = (node: Node): node is Element => node.nodeType === Node.ELEMENT_NODE;\nexport const isHTMLElementNode = (node: Node): node is HTMLElement =>\n    isElementNode(node) && typeof (node as HTMLElement).style !== 'undefined' && !isSVGElementNode(node);\nexport const isSVGElementNode = (element: Element): element is SVGElement =>\n    typeof (element as SVGElement).className === 'object';\nexport const isLIElement = (node: Element): node is HTMLLIElement => node.tagName === 'LI';\nexport const isOLElement = (node: Element): node is HTMLOListElement => node.tagName === 'OL';\nexport const isInputElement = (node: Element): node is HTMLInputElement => node.tagName === 'INPUT';\nexport const isHTMLElement = (node: Element): node is HTMLHtmlElement => node.tagName === 'HTML';\nexport const isSVGElement = (node: Element): node is SVGSVGElement => node.tagName === 'svg';\nexport const isBodyElement = (node: Element): node is HTMLBodyElement => node.tagName === 'BODY';\nexport const isCanvasElement = (node: Element): node is HTMLCanvasElement => node.tagName === 'CANVAS';\nexport const isVideoElement = (node: Element): node is HTMLVideoElement => node.tagName === 'VIDEO';\nexport const isImageElement = (node: Element): node is HTMLImageElement => node.tagName === 'IMG';\nexport const isIFrameElement = (node: Element): node is HTMLIFrameElement => node.tagName === 'IFRAME';\nexport const isStyleElement = (node: Element): node is HTMLStyleElement => node.tagName === 'STYLE';\nexport const isScriptElement = (node: Element): node is HTMLScriptElement => node.tagName === 'SCRIPT';\nexport const isTextareaElement = (node: Element): node is HTMLTextAreaElement => node.tagName === 'TEXTAREA';\nexport const isSelectElement = (node: Element): node is HTMLSelectElement => node.tagName === 'SELECT';\nexport const isSlotElement = (node: Element): node is HTMLSlotElement => node.tagName === 'SLOT';\n// https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\nexport const isCustomElement = (node: Element): node is HTMLElement => node.tagName.indexOf('-') > 0;\n","import {LIST_STYLE_TYPE} from '../../property-descriptors/list-style-type';\nimport {fromCodePoint} from 'css-line-break';\nimport {contains} from '../../../core/bitwise';\nimport {CSSParsedCounterDeclaration} from '../../index';\n\nexport class CounterState {\n    private readonly counters: {[key: string]: number[]} = {};\n\n    getCounterValue(name: string): number {\n        const counter = this.counters[name];\n\n        if (counter && counter.length) {\n            return counter[counter.length - 1];\n        }\n        return 1;\n    }\n\n    getCounterValues(name: string): readonly number[] {\n        const counter = this.counters[name];\n        return counter ? counter : [];\n    }\n\n    pop(counters: string[]): void {\n        counters.forEach((counter) => this.counters[counter].pop());\n    }\n\n    parse(style: CSSParsedCounterDeclaration): string[] {\n        const counterIncrement = style.counterIncrement;\n        const counterReset = style.counterReset;\n        let canReset = true;\n\n        if (counterIncrement !== null) {\n            counterIncrement.forEach((entry) => {\n                const counter = this.counters[entry.counter];\n                if (counter && entry.increment !== 0) {\n                    canReset = false;\n                    if (!counter.length) {\n                        counter.push(1);\n                    }\n                    counter[Math.max(0, counter.length - 1)] += entry.increment;\n                }\n            });\n        }\n\n        const counterNames: string[] = [];\n        if (canReset) {\n            counterReset.forEach((entry) => {\n                let counter = this.counters[entry.counter];\n                counterNames.push(entry.counter);\n                if (!counter) {\n                    counter = this.counters[entry.counter] = [];\n                }\n                counter.push(entry.reset);\n            });\n        }\n\n        return counterNames;\n    }\n}\n\ninterface CounterSymbols {\n    integers: number[];\n    values: string[];\n}\n\nconst ROMAN_UPPER: CounterSymbols = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nconst ARMENIAN: CounterSymbols = {\n    integers: [\n        9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70,\n        60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst HEBREW: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20,\n        19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst GEORGIAN: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90,\n        80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst createAdditiveCounter = (\n    value: number,\n    min: number,\n    max: number,\n    symbols: CounterSymbols,\n    fallback: LIST_STYLE_TYPE,\n    suffix: string\n) => {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return (\n        symbols.integers.reduce((string, integer, index) => {\n            while (value >= integer) {\n                value -= integer;\n                string += symbols.values[index];\n            }\n            return string;\n        }, '') + suffix\n    );\n};\n\nconst createCounterStyleWithSymbolResolver = (\n    value: number,\n    codePointRangeLength: number,\n    isNumeric: boolean,\n    resolver: (codePoint: number) => string\n): string => {\n    let string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nconst createCounterStyleFromRange = (\n    value: number,\n    codePointRangeStart: number,\n    codePointRangeEnd: number,\n    isNumeric: boolean,\n    suffix: string\n): string => {\n    const codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (\n        (value < 0 ? '-' : '') +\n        (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, (codePoint) =>\n            fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart)\n        ) +\n            suffix)\n    );\n};\n\nconst createCounterStyleFromSymbols = (value: number, symbols: string, suffix = '. '): string => {\n    const codePointRangeLength = symbols.length;\n    return (\n        createCounterStyleWithSymbolResolver(\n            Math.abs(value),\n            codePointRangeLength,\n            false,\n            (codePoint) => symbols[Math.floor(codePoint % codePointRangeLength)]\n        ) + suffix\n    );\n};\n\nconst CJK_ZEROS = 1 << 0;\nconst CJK_TEN_COEFFICIENTS = 1 << 1;\nconst CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nconst CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nconst createCJKCounter = (\n    value: number,\n    numbers: string,\n    multipliers: string,\n    negativeSign: string,\n    suffix: string,\n    flags: number\n): string => {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    let tmp = Math.abs(value);\n    let string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (let digit = 0; tmp > 0 && digit <= 4; digit++) {\n        const coefficient = tmp % 10;\n\n        if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (\n            coefficient > 1 ||\n            (coefficient === 1 && digit === 0) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\n            (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))\n        ) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nconst CHINESE_INFORMAL_MULTIPLIERS = '';\nconst CHINESE_FORMAL_MULTIPLIERS = '';\nconst JAPANESE_NEGATIVE = '';\nconst KOREAN_NEGATIVE = '';\n\nexport const createCounterText = (value: number, type: LIST_STYLE_TYPE, appendSuffix: boolean): string => {\n    const defaultSuffix = appendSuffix ? '. ' : '';\n    const cjkSuffix = appendSuffix ? '' : '';\n    const koreanSuffix = appendSuffix ? ', ' : '';\n    const spaceSuffix = appendSuffix ? ' ' : '';\n    switch (type) {\n        case LIST_STYLE_TYPE.DISC:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.CIRCLE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.SQUARE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            const string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? `0${string}` : string;\n        case LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                3999,\n                ROMAN_UPPER,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ARMENIAN:\n        case LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                9999,\n                ARMENIAN,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CAMBODIAN:\n        case LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                JAPANESE_NEGATIVE,\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};\n","import {ElementContainer} from '../dom/element-container';\nimport {getAbsoluteValue, getAbsoluteValueForTuple} from '../css/types/length-percentage';\nimport {Vector} from './vector';\nimport {BezierCurve} from './bezier-curve';\nimport {Path} from './path';\n\nexport class BoundCurves {\n    readonly topLeftBorderDoubleOuterBox: Path;\n    readonly topRightBorderDoubleOuterBox: Path;\n    readonly bottomRightBorderDoubleOuterBox: Path;\n    readonly bottomLeftBorderDoubleOuterBox: Path;\n    readonly topLeftBorderDoubleInnerBox: Path;\n    readonly topRightBorderDoubleInnerBox: Path;\n    readonly bottomRightBorderDoubleInnerBox: Path;\n    readonly bottomLeftBorderDoubleInnerBox: Path;\n    readonly topLeftBorderStroke: Path;\n    readonly topRightBorderStroke: Path;\n    readonly bottomRightBorderStroke: Path;\n    readonly bottomLeftBorderStroke: Path;\n    readonly topLeftBorderBox: Path;\n    readonly topRightBorderBox: Path;\n    readonly bottomRightBorderBox: Path;\n    readonly bottomLeftBorderBox: Path;\n    readonly topLeftPaddingBox: Path;\n    readonly topRightPaddingBox: Path;\n    readonly bottomRightPaddingBox: Path;\n    readonly bottomLeftPaddingBox: Path;\n    readonly topLeftContentBox: Path;\n    readonly topRightContentBox: Path;\n    readonly bottomRightContentBox: Path;\n    readonly bottomLeftContentBox: Path;\n\n    constructor(element: ElementContainer) {\n        const styles = element.styles;\n        const bounds = element.bounds;\n\n        let [tlh, tlv] = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height);\n        let [trh, trv] = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height);\n        let [brh, brv] = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height);\n        let [blh, blv] = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height);\n\n        const factors = [];\n        factors.push((tlh + trh) / bounds.width);\n        factors.push((blh + brh) / bounds.width);\n        factors.push((tlv + blv) / bounds.height);\n        factors.push((trv + brv) / bounds.height);\n        const maxFactor = Math.max(...factors);\n\n        if (maxFactor > 1) {\n            tlh /= maxFactor;\n            tlv /= maxFactor;\n            trh /= maxFactor;\n            trv /= maxFactor;\n            brh /= maxFactor;\n            brv /= maxFactor;\n            blh /= maxFactor;\n            blv /= maxFactor;\n        }\n\n        const topWidth = bounds.width - trh;\n        const rightHeight = bounds.height - brv;\n        const bottomWidth = bounds.width - brh;\n        const leftHeight = bounds.height - blv;\n\n        const borderTopWidth = styles.borderTopWidth;\n        const borderRightWidth = styles.borderRightWidth;\n        const borderBottomWidth = styles.borderBottomWidth;\n        const borderLeftWidth = styles.borderLeftWidth;\n\n        const paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\n        const paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\n        const paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\n        const paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\n\n        this.topLeftBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + borderTopWidth / 3,\n                      tlh - borderLeftWidth / 3,\n                      tlv - borderTopWidth / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + borderTopWidth / 3);\n        this.topRightBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 3,\n                      trh - borderRightWidth / 3,\n                      trv - borderTopWidth / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 3, bounds.top + borderTopWidth / 3);\n        this.bottomRightBorderDoubleOuterBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 3,\n                      brv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 3,\n                      bounds.top + bounds.height - borderBottomWidth / 3\n                  );\n        this.bottomLeftBorderDoubleOuterBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 3,\n                      blv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + bounds.height - borderBottomWidth / 3);\n        this.topLeftBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      tlh - (borderLeftWidth * 2) / 3,\n                      tlv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3);\n        this.topRightBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      trh - (borderRightWidth * 2) / 3,\n                      trv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3\n                  );\n        this.bottomRightBorderDoubleInnerBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - (borderRightWidth * 2) / 3,\n                      brv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.bottomLeftBorderDoubleInnerBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + leftHeight,\n                      blh - (borderLeftWidth * 2) / 3,\n                      blv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.topLeftBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + borderTopWidth / 2,\n                      tlh - borderLeftWidth / 2,\n                      tlv - borderTopWidth / 2,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + borderTopWidth / 2);\n        this.topRightBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 2,\n                      trh - borderRightWidth / 2,\n                      trv - borderTopWidth / 2,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 2, bounds.top + borderTopWidth / 2);\n        this.bottomRightBorderStroke =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 2,\n                      brv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 2,\n                      bounds.top + bounds.height - borderBottomWidth / 2\n                  );\n        this.bottomLeftBorderStroke =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 2,\n                      blv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + bounds.height - borderBottomWidth / 2);\n        this.topLeftBorderBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\n                : new Vector(bounds.left, bounds.top);\n        this.topRightBorderBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top);\n        this.bottomRightBorderBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\n        this.bottomLeftBorderBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\n                : new Vector(bounds.left, bounds.top + bounds.height);\n        this.topLeftPaddingBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + borderTopWidth,\n                      Math.max(0, tlh - borderLeftWidth),\n                      Math.max(0, tlv - borderTopWidth),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\n        this.topRightPaddingBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width - borderRightWidth),\n                      bounds.top + borderTopWidth,\n                      topWidth > bounds.width + borderRightWidth ? 0 : Math.max(0, trh - borderRightWidth),\n                      Math.max(0, trv - borderTopWidth),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\n        this.bottomRightPaddingBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth),\n                      bounds.top + Math.min(rightHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, brh - borderRightWidth),\n                      Math.max(0, brv - borderBottomWidth),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth,\n                      bounds.top + bounds.height - borderBottomWidth\n                  );\n        this.bottomLeftPaddingBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + Math.min(leftHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, blh - borderLeftWidth),\n                      Math.max(0, blv - borderBottomWidth),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\n        this.topLeftContentBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + borderTopWidth + paddingTop,\n                      Math.max(0, tlh - (borderLeftWidth + paddingLeft)),\n                      Math.max(0, tlv - (borderTopWidth + paddingTop)),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\n        this.topRightContentBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft),\n                      bounds.top + borderTopWidth + paddingTop,\n                      topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft,\n                      trv - (borderTopWidth + paddingTop),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + borderTopWidth + paddingTop\n                  );\n        this.bottomRightContentBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)),\n                      bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop),\n                      Math.max(0, brh - (borderRightWidth + paddingRight)),\n                      brv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n        this.bottomLeftContentBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + leftHeight,\n                      Math.max(0, blh - (borderLeftWidth + paddingLeft)),\n                      blv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n    }\n}\n\nenum CORNER {\n    TOP_LEFT = 0,\n    TOP_RIGHT = 1,\n    BOTTOM_RIGHT = 2,\n    BOTTOM_LEFT = 3\n}\n\nconst getCurvePoints = (x: number, y: number, r1: number, r2: number, position: CORNER): BezierCurve => {\n    const kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    const ox = r1 * kappa; // control point offset horizontal\n    const oy = r2 * kappa; // control point offset vertical\n    const xm = x + r1; // x-middle\n    const ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new BezierCurve(\n                new Vector(x, ym),\n                new Vector(x, ym - oy),\n                new Vector(xm - ox, y),\n                new Vector(xm, y)\n            );\n        case CORNER.TOP_RIGHT:\n            return new BezierCurve(\n                new Vector(x, y),\n                new Vector(x + ox, y),\n                new Vector(xm, ym - oy),\n                new Vector(xm, ym)\n            );\n        case CORNER.BOTTOM_RIGHT:\n            return new BezierCurve(\n                new Vector(xm, y),\n                new Vector(xm, y + oy),\n                new Vector(x + ox, ym),\n                new Vector(x, ym)\n            );\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new BezierCurve(\n                new Vector(xm, ym),\n                new Vector(xm - ox, ym),\n                new Vector(x, y + oy),\n                new Vector(x, y)\n            );\n    }\n};\n\nexport const calculateBorderBoxPath = (curves: BoundCurves): Path[] => {\n    return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\n};\n\nexport const calculateContentBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftContentBox,\n        curves.topRightContentBox,\n        curves.bottomRightContentBox,\n        curves.bottomLeftContentBox\n    ];\n};\n\nexport const calculatePaddingBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftPaddingBox,\n        curves.topRightPaddingBox,\n        curves.bottomRightPaddingBox,\n        curves.bottomLeftPaddingBox\n    ];\n};\n","import {FEATURES} from './features';\nimport {Context} from './context';\n\nexport class CacheStorage {\n    private static _link?: HTMLAnchorElement;\n    private static _origin = 'about:blank';\n\n    static getOrigin(url: string): string {\n        const link = CacheStorage._link;\n        if (!link) {\n            return 'about:blank';\n        }\n\n        link.href = url;\n        link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n        return link.protocol + link.hostname + link.port;\n    }\n\n    static isSameOrigin(src: string): boolean {\n        return CacheStorage.getOrigin(src) === CacheStorage._origin;\n    }\n\n    static setContext(window: Window): void {\n        CacheStorage._link = window.document.createElement('a');\n        CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\n    }\n}\n\nexport interface ResourceOptions {\n    imageTimeout: number;\n    useCORS: boolean;\n    allowTaint: boolean;\n    proxy?: string;\n}\n\nexport class Cache {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private readonly _cache: {[key: string]: Promise<any>} = {};\n\n    constructor(private readonly context: Context, private readonly _options: ResourceOptions) {}\n\n    addImage(src: string): Promise<void> {\n        const result = Promise.resolve();\n        if (this.has(src)) {\n            return result;\n        }\n\n        if (isBlobImage(src) || isRenderable(src)) {\n            (this._cache[src] = this.loadImage(src)).catch(() => {\n                // prevent unhandled rejection\n            });\n            return result;\n        }\n\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    match(src: string): Promise<any> {\n        return this._cache[src];\n    }\n\n    private async loadImage(key: string) {\n        const isSameOrigin = CacheStorage.isSameOrigin(key);\n        const useCORS =\n            !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\n        const useProxy =\n            !isInlineImage(key) &&\n            !isSameOrigin &&\n            !isBlobImage(key) &&\n            typeof this._options.proxy === 'string' &&\n            FEATURES.SUPPORT_CORS_XHR &&\n            !useCORS;\n        if (\n            !isSameOrigin &&\n            this._options.allowTaint === false &&\n            !isInlineImage(key) &&\n            !isBlobImage(key) &&\n            !useProxy &&\n            !useCORS\n        ) {\n            return;\n        }\n\n        let src = key;\n        if (useProxy) {\n            src = await this.proxy(src);\n        }\n\n        this.context.logger.debug(`Added image ${key.substring(0, 256)}`);\n\n        return await new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.onerror = reject;\n            //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n            if (isInlineBase64Image(src) || useCORS) {\n                img.crossOrigin = 'anonymous';\n            }\n            img.src = src;\n            if (img.complete === true) {\n                // Inline XML images may fail to parse, throwing an Error later on\n                setTimeout(() => resolve(img), 500);\n            }\n            if (this._options.imageTimeout > 0) {\n                setTimeout(\n                    () => reject(`Timed out (${this._options.imageTimeout}ms) loading image`),\n                    this._options.imageTimeout\n                );\n            }\n        });\n    }\n\n    private has(key: string): boolean {\n        return typeof this._cache[key] !== 'undefined';\n    }\n\n    keys(): Promise<string[]> {\n        return Promise.resolve(Object.keys(this._cache));\n    }\n\n    private proxy(src: string): Promise<string> {\n        const proxy = this._options.proxy;\n\n        if (!proxy) {\n            throw new Error('No proxy defined');\n        }\n\n        const key = src.substring(0, 256);\n\n        return new Promise((resolve, reject) => {\n            const responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n            const xhr = new XMLHttpRequest();\n            xhr.onload = () => {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        const reader = new FileReader();\n                        reader.addEventListener('load', () => resolve(reader.result as string), false);\n                        reader.addEventListener('error', (e) => reject(e), false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(`Failed to proxy resource ${key} with status code ${xhr.status}`);\n                }\n            };\n\n            xhr.onerror = reject;\n            const queryString = proxy.indexOf('?') > -1 ? '&' : '?';\n            xhr.open('GET', `${proxy}${queryString}url=${encodeURIComponent(src)}&responseType=${responseType}`);\n\n            if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n                xhr.responseType = responseType;\n            }\n\n            if (this._options.imageTimeout) {\n                const timeout = this._options.imageTimeout;\n                xhr.timeout = timeout;\n                xhr.ontimeout = () => reject(`Timed out (${timeout}ms) proxying ${key}`);\n            }\n\n            xhr.send();\n        });\n    }\n}\n\nconst INLINE_SVG = /^data:image\\/svg\\+xml/i;\nconst INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nconst INLINE_IMG = /^data:image\\/.*/i;\n\nconst isRenderable = (src: string): boolean => FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src);\nconst isInlineImage = (src: string): boolean => INLINE_IMG.test(src);\nconst isInlineBase64Image = (src: string): boolean => INLINE_BASE64.test(src);\nconst isBlobImage = (src: string): boolean => src.substr(0, 4) === 'blob';\n\nconst isSVG = (src: string): boolean => src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n","import {IPath, Path, PathType} from './path';\n\nexport class Vector implements IPath {\n    type: PathType;\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.type = PathType.VECTOR;\n        this.x = x;\n        this.y = y;\n    }\n\n    add(deltaX: number, deltaY: number): Vector {\n        return new Vector(this.x + deltaX, this.y + deltaY);\n    }\n}\n\nexport const isVector = (path: Path): path is Vector => path.type === PathType.VECTOR;\n","import {Vector} from './vector';\nimport {IPath, PathType, Path} from './path';\n\nconst lerp = (a: Vector, b: Vector, t: number): Vector => {\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nexport class BezierCurve implements IPath {\n    type: PathType;\n    start: Vector;\n    startControl: Vector;\n    endControl: Vector;\n    end: Vector;\n\n    constructor(start: Vector, startControl: Vector, endControl: Vector, end: Vector) {\n        this.type = PathType.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    subdivide(t: number, firstHalf: boolean): BezierCurve {\n        const ab = lerp(this.start, this.startControl, t);\n        const bc = lerp(this.startControl, this.endControl, t);\n        const cd = lerp(this.endControl, this.end, t);\n        const abbc = lerp(ab, bc, t);\n        const bccd = lerp(bc, cd, t);\n        const dest = lerp(abbc, bccd, t);\n        return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n\n    add(deltaX: number, deltaY: number): BezierCurve {\n        return new BezierCurve(\n            this.start.add(deltaX, deltaY),\n            this.startControl.add(deltaX, deltaY),\n            this.endControl.add(deltaX, deltaY),\n            this.end.add(deltaX, deltaY)\n        );\n    }\n\n    reverse(): BezierCurve {\n        return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n}\n\nexport const isBezierCurve = (path: Path): path is BezierCurve => path.type === PathType.BEZIER_CURVE;\n","import {Matrix} from '../css/property-descriptors/transform';\nimport {Path} from './path';\n\nexport const enum EffectType {\n    TRANSFORM = 0,\n    CLIP = 1,\n    OPACITY = 2\n}\n\nexport const enum EffectTarget {\n    BACKGROUND_BORDERS = 1 << 1,\n    CONTENT = 1 << 2\n}\n\nexport interface IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n}\n\nexport class TransformEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.TRANSFORM;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly offsetX: number, readonly offsetY: number, readonly matrix: Matrix) {}\n}\n\nexport class ClipEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.CLIP;\n\n    constructor(readonly path: Path[], readonly target: EffectTarget) {}\n}\n\nexport class OpacityEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.OPACITY;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly opacity: number) {}\n}\n\nexport const isTransformEffect = (effect: IElementEffect): effect is TransformEffect =>\n    effect.type === EffectType.TRANSFORM;\nexport const isClipEffect = (effect: IElementEffect): effect is ClipEffect => effect.type === EffectType.CLIP;\nexport const isOpacityEffect = (effect: IElementEffect): effect is OpacityEffect => effect.type === EffectType.OPACITY;\n","import {BezierCurve} from './bezier-curve';\nimport {Vector} from './vector';\nexport const enum PathType {\n    VECTOR = 0,\n    BEZIER_CURVE = 1\n}\n\nexport interface IPath {\n    type: PathType;\n    add(deltaX: number, deltaY: number): IPath;\n}\n\nexport const equalPath = (a: Path[], b: Path[]): boolean => {\n    if (a.length === b.length) {\n        return a.some((v, i) => v === b[i]);\n    }\n\n    return false;\n};\n\nexport const transformPath = (path: Path[], deltaX: number, deltaY: number, deltaW: number, deltaH: number): Path[] => {\n    return path.map((point, index) => {\n        switch (index) {\n            case 0:\n                return point.add(deltaX, deltaY);\n            case 1:\n                return point.add(deltaX + deltaW, deltaY);\n            case 2:\n                return point.add(deltaX + deltaW, deltaY + deltaH);\n            case 3:\n                return point.add(deltaX, deltaY + deltaH);\n        }\n        return point;\n    });\n};\n\nexport type Path = Vector | BezierCurve;\n","import {ElementContainer, FLAGS} from '../dom/element-container';\nimport {contains} from '../core/bitwise';\nimport {BoundCurves, calculateBorderBoxPath, calculatePaddingBoxPath} from './bound-curves';\nimport {ClipEffect, EffectTarget, IElementEffect, isClipEffect, OpacityEffect, TransformEffect} from './effects';\nimport {OVERFLOW} from '../css/property-descriptors/overflow';\nimport {equalPath} from './path';\nimport {DISPLAY} from '../css/property-descriptors/display';\nimport {OLElementContainer} from '../dom/elements/ol-element-container';\nimport {LIElementContainer} from '../dom/elements/li-element-container';\nimport {createCounterText} from '../css/types/functions/counter';\nimport {POSITION} from '../css/property-descriptors/position';\n\nexport class StackingContext {\n    element: ElementPaint;\n    negativeZIndex: StackingContext[];\n    zeroOrAutoZIndexOrTransformedOrOpacity: StackingContext[];\n    positiveZIndex: StackingContext[];\n    nonPositionedFloats: StackingContext[];\n    nonPositionedInlineLevel: StackingContext[];\n    inlineLevel: ElementPaint[];\n    nonInlineLevel: ElementPaint[];\n\n    constructor(container: ElementPaint) {\n        this.element = container;\n        this.inlineLevel = [];\n        this.nonInlineLevel = [];\n        this.negativeZIndex = [];\n        this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\n        this.positiveZIndex = [];\n        this.nonPositionedFloats = [];\n        this.nonPositionedInlineLevel = [];\n    }\n}\n\nexport class ElementPaint {\n    readonly effects: IElementEffect[] = [];\n    readonly curves: BoundCurves;\n    listValue?: string;\n\n    constructor(readonly container: ElementContainer, readonly parent: ElementPaint | null) {\n        this.curves = new BoundCurves(this.container);\n        if (this.container.styles.opacity < 1) {\n            this.effects.push(new OpacityEffect(this.container.styles.opacity));\n        }\n\n        if (this.container.styles.transform !== null) {\n            const offsetX = this.container.bounds.left + this.container.styles.transformOrigin[0].number;\n            const offsetY = this.container.bounds.top + this.container.styles.transformOrigin[1].number;\n            const matrix = this.container.styles.transform;\n            this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\n        }\n\n        if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n            const borderBox = calculateBorderBoxPath(this.curves);\n            const paddingBox = calculatePaddingBoxPath(this.curves);\n\n            if (equalPath(borderBox, paddingBox)) {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT));\n            } else {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS));\n                this.effects.push(new ClipEffect(paddingBox, EffectTarget.CONTENT));\n            }\n        }\n    }\n\n    getEffects(target: EffectTarget): IElementEffect[] {\n        let inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(this.container.styles.position) === -1;\n        let parent = this.parent;\n        const effects = this.effects.slice(0);\n        while (parent) {\n            const croplessEffects = parent.effects.filter((effect) => !isClipEffect(effect));\n            if (inFlow || parent.container.styles.position !== POSITION.STATIC || !parent.parent) {\n                effects.unshift(...croplessEffects);\n                inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(parent.container.styles.position) === -1;\n                if (parent.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n                    const borderBox = calculateBorderBoxPath(parent.curves);\n                    const paddingBox = calculatePaddingBoxPath(parent.curves);\n                    if (!equalPath(borderBox, paddingBox)) {\n                        effects.unshift(\n                            new ClipEffect(paddingBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT)\n                        );\n                    }\n                }\n            } else {\n                effects.unshift(...croplessEffects);\n            }\n\n            parent = parent.parent;\n        }\n\n        return effects.filter((effect) => contains(effect.target, target));\n    }\n}\n\nconst parseStackTree = (\n    parent: ElementPaint,\n    stackingContext: StackingContext,\n    realStackingContext: StackingContext,\n    listItems: ElementPaint[]\n) => {\n    parent.container.elements.forEach((child) => {\n        const treatAsRealStackingContext = contains(child.flags, FLAGS.CREATES_REAL_STACKING_CONTEXT);\n        const createsStackingContext = contains(child.flags, FLAGS.CREATES_STACKING_CONTEXT);\n        const paintContainer = new ElementPaint(child, parent);\n        if (contains(child.styles.display, DISPLAY.LIST_ITEM)) {\n            listItems.push(paintContainer);\n        }\n\n        const listOwnerItems = contains(child.flags, FLAGS.IS_LIST_OWNER) ? [] : listItems;\n\n        if (treatAsRealStackingContext || createsStackingContext) {\n            const parentStack =\n                treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\n\n            const stack = new StackingContext(paintContainer);\n\n            if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\n                const order = child.styles.zIndex.order;\n                if (order < 0) {\n                    let index = 0;\n\n                    parentStack.negativeZIndex.some((current, i) => {\n                        if (order > current.element.container.styles.zIndex.order) {\n                            index = i;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.negativeZIndex.splice(index, 0, stack);\n                } else if (order > 0) {\n                    let index = 0;\n                    parentStack.positiveZIndex.some((current, i) => {\n                        if (order >= current.element.container.styles.zIndex.order) {\n                            index = i + 1;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.positiveZIndex.splice(index, 0, stack);\n                } else {\n                    parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\n                }\n            } else {\n                if (child.styles.isFloating()) {\n                    parentStack.nonPositionedFloats.push(stack);\n                } else {\n                    parentStack.nonPositionedInlineLevel.push(stack);\n                }\n            }\n\n            parseStackTree(\n                paintContainer,\n                stack,\n                treatAsRealStackingContext ? stack : realStackingContext,\n                listOwnerItems\n            );\n        } else {\n            if (child.styles.isInlineLevel()) {\n                stackingContext.inlineLevel.push(paintContainer);\n            } else {\n                stackingContext.nonInlineLevel.push(paintContainer);\n            }\n\n            parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\n        }\n\n        if (contains(child.flags, FLAGS.IS_LIST_OWNER)) {\n            processListItems(child, listOwnerItems);\n        }\n    });\n};\n\nconst processListItems = (owner: ElementContainer, elements: ElementPaint[]) => {\n    let numbering = owner instanceof OLElementContainer ? owner.start : 1;\n    const reversed = owner instanceof OLElementContainer ? owner.reversed : false;\n    for (let i = 0; i < elements.length; i++) {\n        const item = elements[i];\n        if (\n            item.container instanceof LIElementContainer &&\n            typeof item.container.value === 'number' &&\n            item.container.value !== 0\n        ) {\n            numbering = item.container.value;\n        }\n\n        item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\n\n        numbering += reversed ? -1 : 1;\n    }\n};\n\nexport const parseStackingContexts = (container: ElementContainer): StackingContext => {\n    const paintContainer = new ElementPaint(container, null);\n    const root = new StackingContext(paintContainer);\n    const listItems: ElementPaint[] = [];\n    parseStackTree(paintContainer, root, root, listItems);\n    processListItems(paintContainer.container, listItems);\n    return root;\n};\n","import {Path} from './path';\nimport {BoundCurves} from './bound-curves';\nimport {isBezierCurve} from './bezier-curve';\n\nexport const parsePathForBorder = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleOuter = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox,\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox,\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleInner = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderStroke = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createStrokePathFromCurves(curves.topLeftBorderStroke, curves.topRightBorderStroke);\n        case 1:\n            return createStrokePathFromCurves(curves.topRightBorderStroke, curves.bottomRightBorderStroke);\n        case 2:\n            return createStrokePathFromCurves(curves.bottomRightBorderStroke, curves.bottomLeftBorderStroke);\n        case 3:\n        default:\n            return createStrokePathFromCurves(curves.bottomLeftBorderStroke, curves.topLeftBorderStroke);\n    }\n};\n\nconst createStrokePathFromCurves = (outer1: Path, outer2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    return path;\n};\n\nconst createPathFromCurves = (outer1: Path, inner1: Path, outer2: Path, inner2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (isBezierCurve(inner2)) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (isBezierCurve(inner1)) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n","import {getAbsoluteValue} from '../css/types/length-percentage';\nimport {Bounds} from '../css/layout/bounds';\nimport {ElementContainer} from '../dom/element-container';\n\nexport const paddingBox = (element: ElementContainer): Bounds => {\n    const bounds = element.bounds;\n    const styles = element.styles;\n    return bounds.add(\n        styles.borderLeftWidth,\n        styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth),\n        -(styles.borderTopWidth + styles.borderBottomWidth)\n    );\n};\n\nexport const contentBox = (element: ElementContainer): Bounds => {\n    const styles = element.styles;\n    const bounds = element.bounds;\n\n    const paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\n    const paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\n    const paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\n    const paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\n\n    return bounds.add(\n        paddingLeft + styles.borderLeftWidth,\n        paddingTop + styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight),\n        -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom)\n    );\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {BACKGROUND_ORIGIN} from '../css/property-descriptors/background-origin';\nimport {ElementContainer} from '../dom/element-container';\nimport {BACKGROUND_SIZE, BackgroundSizeInfo} from '../css/property-descriptors/background-size';\nimport {Vector} from './vector';\nimport {BACKGROUND_REPEAT} from '../css/property-descriptors/background-repeat';\nimport {getAbsoluteValue, getAbsoluteValueForTuple, isLengthPercentage} from '../css/types/length-percentage';\nimport {CSSValue, isIdentToken} from '../css/syntax/parser';\nimport {contentBox, paddingBox} from './box-sizing';\nimport {Path} from './path';\nimport {BACKGROUND_CLIP} from '../css/property-descriptors/background-clip';\n\nexport const calculateBackgroundPositioningArea = (\n    backgroundOrigin: BACKGROUND_ORIGIN,\n    element: ElementContainer\n): Bounds => {\n    if (backgroundOrigin === BACKGROUND_ORIGIN.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundOrigin === BACKGROUND_ORIGIN.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundPaintingArea = (backgroundClip: BACKGROUND_CLIP, element: ElementContainer): Bounds => {\n    if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundRendering = (\n    container: ElementContainer,\n    index: number,\n    intrinsicSize: [number | null, number | null, number | null]\n): [Path[], number, number, number, number] => {\n    const backgroundPositioningArea = calculateBackgroundPositioningArea(\n        getBackgroundValueForIndex(container.styles.backgroundOrigin, index),\n        container\n    );\n\n    const backgroundPaintingArea = calculateBackgroundPaintingArea(\n        getBackgroundValueForIndex(container.styles.backgroundClip, index),\n        container\n    );\n\n    const backgroundImageSize = calculateBackgroundSize(\n        getBackgroundValueForIndex(container.styles.backgroundSize, index),\n        intrinsicSize,\n        backgroundPositioningArea\n    );\n\n    const [sizeWidth, sizeHeight] = backgroundImageSize;\n\n    const position = getAbsoluteValueForTuple(\n        getBackgroundValueForIndex(container.styles.backgroundPosition, index),\n        backgroundPositioningArea.width - sizeWidth,\n        backgroundPositioningArea.height - sizeHeight\n    );\n\n    const path = calculateBackgroundRepeatPath(\n        getBackgroundValueForIndex(container.styles.backgroundRepeat, index),\n        position,\n        backgroundImageSize,\n        backgroundPositioningArea,\n        backgroundPaintingArea\n    );\n\n    const offsetX = Math.round(backgroundPositioningArea.left + position[0]);\n    const offsetY = Math.round(backgroundPositioningArea.top + position[1]);\n\n    return [path, offsetX, offsetY, sizeWidth, sizeHeight];\n};\n\nexport const isAuto = (token: CSSValue): boolean => isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO;\n\nconst hasIntrinsicValue = (value: number | null): value is number => typeof value === 'number';\n\nexport const calculateBackgroundSize = (\n    size: BackgroundSizeInfo[],\n    [intrinsicWidth, intrinsicHeight, intrinsicProportion]: [number | null, number | null, number | null],\n    bounds: Bounds\n): [number, number] => {\n    const [first, second] = size;\n\n    if (!first) {\n        return [0, 0];\n    }\n\n    if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\n        return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\n    }\n\n    const hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\n\n    if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\n        if (hasIntrinsicValue(intrinsicProportion)) {\n            const targetRatio = bounds.width / bounds.height;\n\n            return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\n                ? [bounds.width, bounds.width / intrinsicProportion]\n                : [bounds.height * intrinsicProportion, bounds.height];\n        }\n\n        return [bounds.width, bounds.height];\n    }\n\n    const hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\n    const hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\n    const hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\n\n    // If the background-size is auto or auto auto:\n    if (isAuto(first) && (!second || isAuto(second))) {\n        // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\n        if (hasIntrinsicWidth && hasIntrinsicHeight) {\n            return [intrinsicWidth as number, intrinsicHeight as number];\n        }\n\n        // If the image has no intrinsic dimensions and has no intrinsic proportions,\n        // it's rendered at the size of the background positioning area.\n\n        if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\n            return [bounds.width, bounds.height];\n        }\n\n        // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\n\n        // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\n        // The other dimension is computed using the specified dimension and the intrinsic proportions.\n        if (hasIntrinsicDimensions && hasIntrinsicProportion) {\n            const width = hasIntrinsicWidth\n                ? (intrinsicWidth as number)\n                : (intrinsicHeight as number) * (intrinsicProportion as number);\n            const height = hasIntrinsicHeight\n                ? (intrinsicHeight as number)\n                : (intrinsicWidth as number) / (intrinsicProportion as number);\n            return [width, height];\n        }\n\n        // If the image has only one intrinsic dimension but has no intrinsic proportions,\n        // it's rendered using the specified dimension and the other dimension of the background positioning area.\n        const width = hasIntrinsicWidth ? (intrinsicWidth as number) : bounds.width;\n        const height = hasIntrinsicHeight ? (intrinsicHeight as number) : bounds.height;\n        return [width, height];\n    }\n\n    // If the image has intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\n    if (hasIntrinsicProportion) {\n        let width = 0;\n        let height = 0;\n        if (isLengthPercentage(first)) {\n            width = getAbsoluteValue(first, bounds.width);\n        } else if (isLengthPercentage(second)) {\n            height = getAbsoluteValue(second, bounds.height);\n        }\n\n        if (isAuto(first)) {\n            width = height * (intrinsicProportion as number);\n        } else if (!second || isAuto(second)) {\n            height = width / (intrinsicProportion as number);\n        }\n\n        return [width, height];\n    }\n\n    // If the image has no intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\n    // if there is one. If there is no such intrinsic dimension,\n    // it becomes the corresponding dimension of the background positioning area.\n\n    let width = null;\n    let height = null;\n\n    if (isLengthPercentage(first)) {\n        width = getAbsoluteValue(first, bounds.width);\n    } else if (second && isLengthPercentage(second)) {\n        height = getAbsoluteValue(second, bounds.height);\n    }\n\n    if (width !== null && (!second || isAuto(second))) {\n        height =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (width / (intrinsicWidth as number)) * (intrinsicHeight as number)\n                : bounds.height;\n    }\n\n    if (height !== null && isAuto(first)) {\n        width =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (height / (intrinsicHeight as number)) * (intrinsicWidth as number)\n                : bounds.width;\n    }\n\n    if (width !== null && height !== null) {\n        return [width, height];\n    }\n\n    throw new Error(`Unable to calculate background-size for element`);\n};\n\nexport const getBackgroundValueForIndex = <T>(values: T[], index: number): T => {\n    const value = values[index];\n    if (typeof value === 'undefined') {\n        return values[0];\n    }\n\n    return value;\n};\n\nexport const calculateBackgroundRepeatPath = (\n    repeat: BACKGROUND_REPEAT,\n    [x, y]: [number, number],\n    [width, height]: [number, number],\n    backgroundPositioningArea: Bounds,\n    backgroundPaintingArea: Bounds\n): [Vector, Vector, Vector, Vector] => {\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                )\n            ];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                )\n            ];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                )\n            ];\n        default:\n            return [\n                new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                )\n            ];\n    }\n};\n","export const SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","import {SMALL_IMAGE} from '../core/util';\nexport interface FontMetric {\n    baseline: number;\n    middle: number;\n}\n\nconst SAMPLE_TEXT = 'Hidden Text';\n\nexport class FontMetrics {\n    private readonly _data: {[key: string]: FontMetric};\n    private readonly _document: Document;\n\n    constructor(document: Document) {\n        this._data = {};\n        this._document = document;\n    }\n\n    private parseMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const container = this._document.createElement('div');\n        const img = this._document.createElement('img');\n        const span = this._document.createElement('span');\n\n        const body = this._document.body as HTMLBodyElement;\n\n        container.style.visibility = 'hidden';\n        container.style.fontFamily = fontFamily;\n        container.style.fontSize = fontSize;\n        container.style.margin = '0';\n        container.style.padding = '0';\n        container.style.whiteSpace = 'nowrap';\n\n        body.appendChild(container);\n\n        img.src = SMALL_IMAGE;\n        img.width = 1;\n        img.height = 1;\n\n        img.style.margin = '0';\n        img.style.padding = '0';\n        img.style.verticalAlign = 'baseline';\n\n        span.style.fontFamily = fontFamily;\n        span.style.fontSize = fontSize;\n        span.style.margin = '0';\n        span.style.padding = '0';\n\n        span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n        container.appendChild(span);\n        container.appendChild(img);\n        const baseline = img.offsetTop - span.offsetTop + 2;\n\n        container.removeChild(span);\n        container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n        container.style.lineHeight = 'normal';\n        img.style.verticalAlign = 'super';\n\n        const middle = img.offsetTop - container.offsetTop + 2;\n\n        body.removeChild(container);\n\n        return {baseline, middle};\n    }\n    getMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const key = `${fontFamily} ${fontSize}`;\n        if (typeof this._data[key] === 'undefined') {\n            this._data[key] = this.parseMetrics(fontFamily, fontSize);\n        }\n\n        return this._data[key];\n    }\n}\n","import {Context} from '../core/context';\nimport {RenderConfigurations} from './canvas/canvas-renderer';\n\nexport class Renderer {\n    constructor(protected readonly context: Context, protected readonly options: RenderConfigurations) {}\n}\n","import {ElementPaint, parseStackingContexts, StackingContext} from '../stacking-context';\nimport {asString, Color, isTransparent} from '../../css/types/color';\nimport {ElementContainer, FLAGS} from '../../dom/element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {CSSParsedDeclaration} from '../../css';\nimport {TextContainer} from '../../dom/text-container';\nimport {Path, transformPath} from '../path';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BoundCurves, calculateBorderBoxPath, calculateContentBoxPath, calculatePaddingBoxPath} from '../bound-curves';\nimport {BezierCurve, isBezierCurve} from '../bezier-curve';\nimport {Vector} from '../vector';\nimport {CSSImageType, CSSURLImage, isLinearGradient, isRadialGradient} from '../../css/types/image';\nimport {\n    parsePathForBorder,\n    parsePathForBorderDoubleInner,\n    parsePathForBorderDoubleOuter,\n    parsePathForBorderStroke\n} from '../border';\nimport {calculateBackgroundRendering, getBackgroundValueForIndex} from '../background';\nimport {isDimensionToken} from '../../css/syntax/parser';\nimport {segmentGraphemes, TextBounds} from '../../css/layout/text';\nimport {ImageElementContainer} from '../../dom/replaced-elements/image-element-container';\nimport {contentBox} from '../box-sizing';\nimport {CanvasElementContainer} from '../../dom/replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from '../../dom/replaced-elements/svg-element-container';\nimport {ReplacedElementContainer} from '../../dom/replaced-elements';\nimport {EffectTarget, IElementEffect, isClipEffect, isOpacityEffect, isTransformEffect} from '../effects';\nimport {contains} from '../../core/bitwise';\nimport {calculateGradientDirection, calculateRadius, processColorStops} from '../../css/types/functions/gradient';\nimport {FIFTY_PERCENT, getAbsoluteValue} from '../../css/types/length-percentage';\nimport {TEXT_DECORATION_LINE} from '../../css/property-descriptors/text-decoration-line';\nimport {FontMetrics} from '../font-metrics';\nimport {DISPLAY} from '../../css/property-descriptors/display';\nimport {Bounds} from '../../css/layout/bounds';\nimport {LIST_STYLE_TYPE} from '../../css/property-descriptors/list-style-type';\nimport {computeLineHeight} from '../../css/property-descriptors/line-height';\nimport {CHECKBOX, INPUT_COLOR, InputElementContainer, RADIO} from '../../dom/replaced-elements/input-element-container';\nimport {TEXT_ALIGN} from '../../css/property-descriptors/text-align';\nimport {TextareaElementContainer} from '../../dom/elements/textarea-element-container';\nimport {SelectElementContainer} from '../../dom/elements/select-element-container';\nimport {IFrameElementContainer} from '../../dom/replaced-elements/iframe-element-container';\nimport {TextShadow} from '../../css/property-descriptors/text-shadow';\nimport {PAINT_ORDER_LAYER} from '../../css/property-descriptors/paint-order';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\nimport {DIRECTION} from '../../css/property-descriptors/direction';\n\nexport type RenderConfigurations = RenderOptions & {\n    backgroundColor: Color | null;\n};\n\nexport interface RenderOptions {\n    scale: number;\n    canvas?: HTMLCanvasElement;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nconst MASK_OFFSET = 10000;\n\nexport class CanvasRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    private readonly _activeEffects: IElementEffect[] = [];\n    private readonly fontMetrics: FontMetrics;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        if (!options.canvas) {\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = `${options.width}px`;\n            this.canvas.style.height = `${options.height}px`;\n        }\n        this.fontMetrics = new FontMetrics(document);\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.ctx.textBaseline = 'bottom';\n        this._activeEffects = [];\n        this.context.logger.debug(\n            `Canvas renderer initialized (${options.width}x${options.height}) with scale ${options.scale}`\n        );\n    }\n\n    applyEffects(effects: IElementEffect[]): void {\n        while (this._activeEffects.length) {\n            this.popEffect();\n        }\n\n        effects.forEach((effect) => this.applyEffect(effect));\n    }\n\n    applyEffect(effect: IElementEffect): void {\n        this.ctx.save();\n        if (isOpacityEffect(effect)) {\n            this.ctx.globalAlpha = effect.opacity;\n        }\n\n        if (isTransformEffect(effect)) {\n            this.ctx.translate(effect.offsetX, effect.offsetY);\n            this.ctx.transform(\n                effect.matrix[0],\n                effect.matrix[1],\n                effect.matrix[2],\n                effect.matrix[3],\n                effect.matrix[4],\n                effect.matrix[5]\n            );\n            this.ctx.translate(-effect.offsetX, -effect.offsetY);\n        }\n\n        if (isClipEffect(effect)) {\n            this.path(effect.path);\n            this.ctx.clip();\n        }\n\n        this._activeEffects.push(effect);\n    }\n\n    popEffect(): void {\n        this._activeEffects.pop();\n        this.ctx.restore();\n    }\n\n    async renderStack(stack: StackingContext): Promise<void> {\n        const styles = stack.element.container.styles;\n        if (styles.isVisible()) {\n            await this.renderStackContent(stack);\n        }\n    }\n\n    async renderNode(paint: ElementPaint): Promise<void> {\n        if (contains(paint.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n\n        if (paint.container.styles.isVisible()) {\n            await this.renderNodeBackgroundAndBorders(paint);\n            await this.renderNodeContent(paint);\n        }\n    }\n\n    renderTextWithLetterSpacing(text: TextBounds, letterSpacing: number, baseline: number): void {\n        if (letterSpacing === 0) {\n            this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + baseline);\n        } else {\n            const letters = segmentGraphemes(text.text);\n            letters.reduce((left, letter) => {\n                this.ctx.fillText(letter, left, text.bounds.top + baseline);\n\n                return left + this.ctx.measureText(letter).width;\n            }, text.bounds.left);\n        }\n    }\n\n    private createFontStyle(styles: CSSParsedDeclaration): string[] {\n        const fontVariant = styles.fontVariant\n            .filter((variant) => variant === 'normal' || variant === 'small-caps')\n            .join('');\n        const fontFamily = fixIOSSystemFonts(styles.fontFamily).join(', ');\n        const fontSize = isDimensionToken(styles.fontSize)\n            ? `${styles.fontSize.number}${styles.fontSize.unit}`\n            : `${styles.fontSize.number}px`;\n\n        return [\n            [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\n            fontFamily,\n            fontSize\n        ];\n    }\n\n    async renderTextNode(text: TextContainer, styles: CSSParsedDeclaration): Promise<void> {\n        const [font, fontFamily, fontSize] = this.createFontStyle(styles);\n\n        this.ctx.font = font;\n\n        this.ctx.direction = styles.direction === DIRECTION.RTL ? 'rtl' : 'ltr';\n        this.ctx.textAlign = 'left';\n        this.ctx.textBaseline = 'alphabetic';\n        const {baseline, middle} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n        const paintOrder = styles.paintOrder;\n\n        text.textBounds.forEach((text) => {\n            paintOrder.forEach((paintOrderLayer) => {\n                switch (paintOrderLayer) {\n                    case PAINT_ORDER_LAYER.FILL:\n                        this.ctx.fillStyle = asString(styles.color);\n                        this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                        const textShadows: TextShadow = styles.textShadow;\n\n                        if (textShadows.length && text.text.trim().length) {\n                            textShadows\n                                .slice(0)\n                                .reverse()\n                                .forEach((textShadow) => {\n                                    this.ctx.shadowColor = asString(textShadow.color);\n                                    this.ctx.shadowOffsetX = textShadow.offsetX.number * this.options.scale;\n                                    this.ctx.shadowOffsetY = textShadow.offsetY.number * this.options.scale;\n                                    this.ctx.shadowBlur = textShadow.blur.number;\n\n                                    this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                                });\n\n                            this.ctx.shadowColor = '';\n                            this.ctx.shadowOffsetX = 0;\n                            this.ctx.shadowOffsetY = 0;\n                            this.ctx.shadowBlur = 0;\n                        }\n\n                        if (styles.textDecorationLine.length) {\n                            this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\n                            styles.textDecorationLine.forEach((textDecorationLine) => {\n                                switch (textDecorationLine) {\n                                    case TEXT_DECORATION_LINE.UNDERLINE:\n                                        // Draws a line at the baseline of the font\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                        // need to take that into account both in position and size\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top + baseline),\n                                            text.bounds.width,\n                                            1\n                                        );\n\n                                        break;\n                                    case TEXT_DECORATION_LINE.OVERLINE:\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                    case TEXT_DECORATION_LINE.LINE_THROUGH:\n                                        // TODO try and find exact position for line-through\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.ceil(text.bounds.top + middle),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                }\n                            });\n                        }\n                        break;\n                    case PAINT_ORDER_LAYER.STROKE:\n                        if (styles.webkitTextStrokeWidth && text.text.trim().length) {\n                            this.ctx.strokeStyle = asString(styles.webkitTextStrokeColor);\n                            this.ctx.lineWidth = styles.webkitTextStrokeWidth;\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.ctx.lineJoin = !!(window as any).chrome ? 'miter' : 'round';\n                            this.ctx.strokeText(text.text, text.bounds.left, text.bounds.top + baseline);\n                        }\n                        this.ctx.strokeStyle = '';\n                        this.ctx.lineWidth = 0;\n                        this.ctx.lineJoin = 'miter';\n                        break;\n                }\n            });\n        });\n    }\n\n    renderReplacedElement(\n        container: ReplacedElementContainer,\n        curves: BoundCurves,\n        image: HTMLImageElement | HTMLCanvasElement\n    ): void {\n        if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\n            const box = contentBox(container);\n            const path = calculatePaddingBoxPath(curves);\n            this.path(path);\n            this.ctx.save();\n            this.ctx.clip();\n            this.ctx.drawImage(\n                image,\n                0,\n                0,\n                container.intrinsicWidth,\n                container.intrinsicHeight,\n                box.left,\n                box.top,\n                box.width,\n                box.height\n            );\n            this.ctx.restore();\n        }\n    }\n\n    async renderNodeContent(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.CONTENT));\n        const container = paint.container;\n        const curves = paint.curves;\n        const styles = container.styles;\n        for (const child of container.textNodes) {\n            await this.renderTextNode(child, styles);\n        }\n\n        if (container instanceof ImageElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.src);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading image ${container.src}`);\n            }\n        }\n\n        if (container instanceof CanvasElementContainer) {\n            this.renderReplacedElement(container, curves, container.canvas);\n        }\n\n        if (container instanceof SVGElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.svg);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading svg ${container.svg.substring(0, 255)}`);\n            }\n        }\n\n        if (container instanceof IFrameElementContainer && container.tree) {\n            const iframeRenderer = new CanvasRenderer(this.context, {\n                scale: this.options.scale,\n                backgroundColor: container.backgroundColor,\n                x: 0,\n                y: 0,\n                width: container.width,\n                height: container.height\n            });\n\n            const canvas = await iframeRenderer.render(container.tree);\n            if (container.width && container.height) {\n                this.ctx.drawImage(\n                    canvas,\n                    0,\n                    0,\n                    container.width,\n                    container.height,\n                    container.bounds.left,\n                    container.bounds.top,\n                    container.bounds.width,\n                    container.bounds.height\n                );\n            }\n        }\n\n        if (container instanceof InputElementContainer) {\n            const size = Math.min(container.bounds.width, container.bounds.height);\n\n            if (container.type === CHECKBOX) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.path([\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\n                        new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\n                        new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\n                        new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\n                        new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\n                        new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\n                    ]);\n\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            } else if (container.type === RADIO) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        container.bounds.left + size / 2,\n                        container.bounds.top + size / 2,\n                        size / 4,\n                        0,\n                        Math.PI * 2,\n                        true\n                    );\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            }\n        }\n\n        if (isTextInputElement(container) && container.value.length) {\n            const [fontFamily, fontSize] = this.createFontStyle(styles);\n            const {baseline} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n\n            this.ctx.font = fontFamily;\n            this.ctx.fillStyle = asString(styles.color);\n\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\n\n            const bounds = contentBox(container);\n\n            let x = 0;\n\n            switch (container.styles.textAlign) {\n                case TEXT_ALIGN.CENTER:\n                    x += bounds.width / 2;\n                    break;\n                case TEXT_ALIGN.RIGHT:\n                    x += bounds.width;\n                    break;\n            }\n\n            const textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\n\n            this.ctx.save();\n            this.path([\n                new Vector(bounds.left, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\n                new Vector(bounds.left, bounds.top + bounds.height)\n            ]);\n\n            this.ctx.clip();\n            this.renderTextWithLetterSpacing(\n                new TextBounds(container.value, textBounds),\n                styles.letterSpacing,\n                baseline\n            );\n            this.ctx.restore();\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = 'left';\n        }\n\n        if (contains(container.styles.display, DISPLAY.LIST_ITEM)) {\n            if (container.styles.listStyleImage !== null) {\n                const img = container.styles.listStyleImage;\n                if (img.type === CSSImageType.URL) {\n                    let image;\n                    const url = (img as CSSURLImage).url;\n                    try {\n                        image = await this.context.cache.match(url);\n                        this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\n                    } catch (e) {\n                        this.context.logger.error(`Error loading list-style-image ${url}`);\n                    }\n                }\n            } else if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\n                const [fontFamily] = this.createFontStyle(styles);\n\n                this.ctx.font = fontFamily;\n                this.ctx.fillStyle = asString(styles.color);\n\n                this.ctx.textBaseline = 'middle';\n                this.ctx.textAlign = 'right';\n                const bounds = new Bounds(\n                    container.bounds.left,\n                    container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width),\n                    container.bounds.width,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1\n                );\n\n                this.renderTextWithLetterSpacing(\n                    new TextBounds(paint.listValue, bounds),\n                    styles.letterSpacing,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 2\n                );\n                this.ctx.textBaseline = 'bottom';\n                this.ctx.textAlign = 'left';\n            }\n        }\n    }\n\n    async renderStackContent(stack: StackingContext): Promise<void> {\n        if (contains(stack.element.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n        // https://www.w3.org/TR/css-position-3/#painting-order\n        // 1. the background and borders of the element forming the stacking context.\n        await this.renderNodeBackgroundAndBorders(stack.element);\n        // 2. the child stacking contexts with negative stack levels (most negative first).\n        for (const child of stack.negativeZIndex) {\n            await this.renderStack(child);\n        }\n        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n        await this.renderNodeContent(stack.element);\n\n        for (const child of stack.nonInlineLevel) {\n            await this.renderNode(child);\n        }\n        // 4. All non-positioned floating descendants, in tree order. For each one of these,\n        // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context,\n        // not this new one.\n        for (const child of stack.nonPositionedFloats) {\n            await this.renderStack(child);\n        }\n        // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n        for (const child of stack.nonPositionedInlineLevel) {\n            await this.renderStack(child);\n        }\n        for (const child of stack.inlineLevel) {\n            await this.renderNode(child);\n        }\n        // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n        //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n        //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n        //  but any positioned descendants and descendants which actually create a new stacking context should be\n        //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n        //  treat the stacking context generated atomically.\n        //\n        //  All opacity descendants with opacity less than 1\n        //\n        //  All transform descendants with transform other than none\n        for (const child of stack.zeroOrAutoZIndexOrTransformedOrOpacity) {\n            await this.renderStack(child);\n        }\n        // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n        // order (smallest first) then tree order.\n        for (const child of stack.positiveZIndex) {\n            await this.renderStack(child);\n        }\n    }\n\n    mask(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.ctx.moveTo(0, 0);\n        this.ctx.lineTo(this.canvas.width, 0);\n        this.ctx.lineTo(this.canvas.width, this.canvas.height);\n        this.ctx.lineTo(0, this.canvas.height);\n        this.ctx.lineTo(0, 0);\n        this.formatPath(paths.slice(0).reverse());\n        this.ctx.closePath();\n    }\n\n    path(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.formatPath(paths);\n        this.ctx.closePath();\n    }\n\n    formatPath(paths: Path[]): void {\n        paths.forEach((point, index) => {\n            const start: Vector = isBezierCurve(point) ? point.start : point;\n            if (index === 0) {\n                this.ctx.moveTo(start.x, start.y);\n            } else {\n                this.ctx.lineTo(start.x, start.y);\n            }\n\n            if (isBezierCurve(point)) {\n                this.ctx.bezierCurveTo(\n                    point.startControl.x,\n                    point.startControl.y,\n                    point.endControl.x,\n                    point.endControl.y,\n                    point.end.x,\n                    point.end.y\n                );\n            }\n        });\n    }\n\n    renderRepeat(path: Path[], pattern: CanvasPattern | CanvasGradient, offsetX: number, offsetY: number): void {\n        this.path(path);\n        this.ctx.fillStyle = pattern;\n        this.ctx.translate(offsetX, offsetY);\n        this.ctx.fill();\n        this.ctx.translate(-offsetX, -offsetY);\n    }\n\n    resizeImage(image: HTMLImageElement, width: number, height: number): HTMLCanvasElement | HTMLImageElement {\n        if (image.width === width && image.height === height) {\n            return image;\n        }\n\n        const ownerDocument = this.canvas.ownerDocument ?? document;\n        const canvas = ownerDocument.createElement('canvas');\n        canvas.width = Math.max(1, width);\n        canvas.height = Math.max(1, height);\n        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n        ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\n        return canvas;\n    }\n\n    async renderBackgroundImage(container: ElementContainer): Promise<void> {\n        let index = container.styles.backgroundImage.length - 1;\n        for (const backgroundImage of container.styles.backgroundImage.slice(0).reverse()) {\n            if (backgroundImage.type === CSSImageType.URL) {\n                let image;\n                const url = (backgroundImage as CSSURLImage).url;\n                try {\n                    image = await this.context.cache.match(url);\n                } catch (e) {\n                    this.context.logger.error(`Error loading background-image ${url}`);\n                }\n\n                if (image) {\n                    const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [\n                        image.width,\n                        image.height,\n                        image.width / image.height\n                    ]);\n                    const pattern = this.ctx.createPattern(\n                        this.resizeImage(image, width, height),\n                        'repeat'\n                    ) as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isLinearGradient(backgroundImage)) {\n                const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [null, null, null]);\n                const [lineLength, x0, x1, y0, y1] = calculateGradientDirection(backgroundImage.angle, width, height);\n\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n                const gradient = ctx.createLinearGradient(x0, y0, x1, y1);\n\n                processColorStops(backgroundImage.stops, lineLength).forEach((colorStop) =>\n                    gradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                );\n\n                ctx.fillStyle = gradient;\n                ctx.fillRect(0, 0, width, height);\n                if (width > 0 && height > 0) {\n                    const pattern = this.ctx.createPattern(canvas, 'repeat') as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isRadialGradient(backgroundImage)) {\n                const [path, left, top, width, height] = calculateBackgroundRendering(container, index, [\n                    null,\n                    null,\n                    null\n                ]);\n                const position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\n                const x = getAbsoluteValue(position[0], width);\n                const y = getAbsoluteValue(position[position.length - 1], height);\n\n                const [rx, ry] = calculateRadius(backgroundImage, x, y, width, height);\n                if (rx > 0 && ry > 0) {\n                    const radialGradient = this.ctx.createRadialGradient(left + x, top + y, 0, left + x, top + y, rx);\n\n                    processColorStops(backgroundImage.stops, rx * 2).forEach((colorStop) =>\n                        radialGradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                    );\n\n                    this.path(path);\n                    this.ctx.fillStyle = radialGradient;\n                    if (rx !== ry) {\n                        // transforms for elliptical radial gradient\n                        const midX = container.bounds.left + 0.5 * container.bounds.width;\n                        const midY = container.bounds.top + 0.5 * container.bounds.height;\n                        const f = ry / rx;\n                        const invF = 1 / f;\n\n                        this.ctx.save();\n                        this.ctx.translate(midX, midY);\n                        this.ctx.transform(1, 0, 0, f, 0, 0);\n                        this.ctx.translate(-midX, -midY);\n\n                        this.ctx.fillRect(left, invF * (top - midY) + midY, width, height * invF);\n                        this.ctx.restore();\n                    } else {\n                        this.ctx.fill();\n                    }\n                }\n            }\n            index--;\n        }\n    }\n\n    async renderSolidBorder(color: Color, side: number, curvePoints: BoundCurves): Promise<void> {\n        this.path(parsePathForBorder(curvePoints, side));\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n    }\n\n    async renderDoubleBorder(color: Color, width: number, side: number, curvePoints: BoundCurves): Promise<void> {\n        if (width < 3) {\n            await this.renderSolidBorder(color, side, curvePoints);\n            return;\n        }\n\n        const outerPaths = parsePathForBorderDoubleOuter(curvePoints, side);\n        this.path(outerPaths);\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n        const innerPaths = parsePathForBorderDoubleInner(curvePoints, side);\n        this.path(innerPaths);\n        this.ctx.fill();\n    }\n\n    async renderNodeBackgroundAndBorders(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.BACKGROUND_BORDERS));\n        const styles = paint.container.styles;\n        const hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\n\n        const borders = [\n            {style: styles.borderTopStyle, color: styles.borderTopColor, width: styles.borderTopWidth},\n            {style: styles.borderRightStyle, color: styles.borderRightColor, width: styles.borderRightWidth},\n            {style: styles.borderBottomStyle, color: styles.borderBottomColor, width: styles.borderBottomWidth},\n            {style: styles.borderLeftStyle, color: styles.borderLeftColor, width: styles.borderLeftWidth}\n        ];\n\n        const backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(\n            getBackgroundValueForIndex(styles.backgroundClip, 0),\n            paint.curves\n        );\n\n        if (hasBackground || styles.boxShadow.length) {\n            this.ctx.save();\n            this.path(backgroundPaintingArea);\n            this.ctx.clip();\n\n            if (!isTransparent(styles.backgroundColor)) {\n                this.ctx.fillStyle = asString(styles.backgroundColor);\n                this.ctx.fill();\n            }\n\n            await this.renderBackgroundImage(paint.container);\n\n            this.ctx.restore();\n\n            styles.boxShadow\n                .slice(0)\n                .reverse()\n                .forEach((shadow) => {\n                    this.ctx.save();\n                    const borderBoxArea = calculateBorderBoxPath(paint.curves);\n                    const maskOffset = shadow.inset ? 0 : MASK_OFFSET;\n                    const shadowPaintingArea = transformPath(\n                        borderBoxArea,\n                        -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        shadow.spread.number * (shadow.inset ? -2 : 2),\n                        shadow.spread.number * (shadow.inset ? -2 : 2)\n                    );\n\n                    if (shadow.inset) {\n                        this.path(borderBoxArea);\n                        this.ctx.clip();\n                        this.mask(shadowPaintingArea);\n                    } else {\n                        this.mask(borderBoxArea);\n                        this.ctx.clip();\n                        this.path(shadowPaintingArea);\n                    }\n\n                    this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\n                    this.ctx.shadowOffsetY = shadow.offsetY.number;\n                    this.ctx.shadowColor = asString(shadow.color);\n                    this.ctx.shadowBlur = shadow.blur.number;\n                    this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\n\n                    this.ctx.fill();\n                    this.ctx.restore();\n                });\n        }\n\n        let side = 0;\n        for (const border of borders) {\n            if (border.style !== BORDER_STYLE.NONE && !isTransparent(border.color) && border.width > 0) {\n                if (border.style === BORDER_STYLE.DASHED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DASHED\n                    );\n                } else if (border.style === BORDER_STYLE.DOTTED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DOTTED\n                    );\n                } else if (border.style === BORDER_STYLE.DOUBLE) {\n                    await this.renderDoubleBorder(border.color, border.width, side, paint.curves);\n                } else {\n                    await this.renderSolidBorder(border.color, side, paint.curves);\n                }\n            }\n            side++;\n        }\n    }\n\n    async renderDashedDottedBorder(\n        color: Color,\n        width: number,\n        side: number,\n        curvePoints: BoundCurves,\n        style: BORDER_STYLE\n    ): Promise<void> {\n        this.ctx.save();\n\n        const strokePaths = parsePathForBorderStroke(curvePoints, side);\n        const boxPaths = parsePathForBorder(curvePoints, side);\n\n        if (style === BORDER_STYLE.DASHED) {\n            this.path(boxPaths);\n            this.ctx.clip();\n        }\n\n        let startX, startY, endX, endY;\n        if (isBezierCurve(boxPaths[0])) {\n            startX = (boxPaths[0] as BezierCurve).start.x;\n            startY = (boxPaths[0] as BezierCurve).start.y;\n        } else {\n            startX = (boxPaths[0] as Vector).x;\n            startY = (boxPaths[0] as Vector).y;\n        }\n        if (isBezierCurve(boxPaths[1])) {\n            endX = (boxPaths[1] as BezierCurve).end.x;\n            endY = (boxPaths[1] as BezierCurve).end.y;\n        } else {\n            endX = (boxPaths[1] as Vector).x;\n            endY = (boxPaths[1] as Vector).y;\n        }\n\n        let length;\n        if (side === 0 || side === 2) {\n            length = Math.abs(startX - endX);\n        } else {\n            length = Math.abs(startY - endY);\n        }\n\n        this.ctx.beginPath();\n        if (style === BORDER_STYLE.DOTTED) {\n            this.formatPath(strokePaths);\n        } else {\n            this.formatPath(boxPaths.slice(0, 2));\n        }\n\n        let dashLength = width < 3 ? width * 3 : width * 2;\n        let spaceLength = width < 3 ? width * 2 : width;\n        if (style === BORDER_STYLE.DOTTED) {\n            dashLength = width;\n            spaceLength = width;\n        }\n\n        let useLineDash = true;\n        if (length <= dashLength * 2) {\n            useLineDash = false;\n        } else if (length <= dashLength * 2 + spaceLength) {\n            const multiplier = length / (2 * dashLength + spaceLength);\n            dashLength *= multiplier;\n            spaceLength *= multiplier;\n        } else {\n            const numberOfDashes = Math.floor((length + spaceLength) / (dashLength + spaceLength));\n            const minSpace = (length - numberOfDashes * dashLength) / (numberOfDashes - 1);\n            const maxSpace = (length - (numberOfDashes + 1) * dashLength) / numberOfDashes;\n            spaceLength =\n                maxSpace <= 0 || Math.abs(spaceLength - minSpace) < Math.abs(spaceLength - maxSpace)\n                    ? minSpace\n                    : maxSpace;\n        }\n\n        if (useLineDash) {\n            if (style === BORDER_STYLE.DOTTED) {\n                this.ctx.setLineDash([0, dashLength + spaceLength]);\n            } else {\n                this.ctx.setLineDash([dashLength, spaceLength]);\n            }\n        }\n\n        if (style === BORDER_STYLE.DOTTED) {\n            this.ctx.lineCap = 'round';\n            this.ctx.lineWidth = width;\n        } else {\n            this.ctx.lineWidth = width * 2 + 1.1;\n        }\n        this.ctx.strokeStyle = asString(color);\n        this.ctx.stroke();\n        this.ctx.setLineDash([]);\n\n        // dashed round edge gap\n        if (style === BORDER_STYLE.DASHED) {\n            if (isBezierCurve(boxPaths[0])) {\n                const path1 = boxPaths[3] as BezierCurve;\n                const path2 = boxPaths[0] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n            if (isBezierCurve(boxPaths[1])) {\n                const path1 = boxPaths[1] as BezierCurve;\n                const path2 = boxPaths[2] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n        }\n\n        this.ctx.restore();\n    }\n\n    async render(element: ElementContainer): Promise<HTMLCanvasElement> {\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height);\n        }\n\n        const stack = parseStackingContexts(element);\n\n        await this.renderStack(stack);\n        this.applyEffects([]);\n        return this.canvas;\n    }\n}\n\nconst isTextInputElement = (\n    container: ElementContainer\n): container is InputElementContainer | TextareaElementContainer | SelectElementContainer => {\n    if (container instanceof TextareaElementContainer) {\n        return true;\n    } else if (container instanceof SelectElementContainer) {\n        return true;\n    } else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\n        return true;\n    }\n    return false;\n};\n\nconst calculateBackgroundCurvedPaintingArea = (clip: BACKGROUND_CLIP, curves: BoundCurves): Path[] => {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return calculateBorderBoxPath(curves);\n        case BACKGROUND_CLIP.CONTENT_BOX:\n            return calculateContentBoxPath(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return calculatePaddingBoxPath(curves);\n    }\n};\n\nconst canvasTextAlign = (textAlign: TEXT_ALIGN): CanvasTextAlign => {\n    switch (textAlign) {\n        case TEXT_ALIGN.CENTER:\n            return 'center';\n        case TEXT_ALIGN.RIGHT:\n            return 'right';\n        case TEXT_ALIGN.LEFT:\n        default:\n            return 'left';\n    }\n};\n\n// see https://github.com/niklasvh/html2canvas/pull/2645\nconst iOSBrokenFonts = ['-apple-system', 'system-ui'];\n\nconst fixIOSSystemFonts = (fontFamilies: string[]): string[] => {\n    return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent)\n        ? fontFamilies.filter((fontFamily) => iOSBrokenFonts.indexOf(fontFamily) === -1)\n        : fontFamilies;\n};\n","import {RenderConfigurations} from './canvas-renderer';\nimport {createForeignObjectSVG} from '../../core/features';\nimport {asString} from '../../css/types/color';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\n\nexport class ForeignObjectRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    options: RenderConfigurations;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.options = options;\n        this.canvas.width = Math.floor(options.width * options.scale);\n        this.canvas.height = Math.floor(options.height * options.scale);\n        this.canvas.style.width = `${options.width}px`;\n        this.canvas.style.height = `${options.height}px`;\n\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.context.logger.debug(\n            `EXPERIMENTAL ForeignObject renderer initialized (${options.width}x${options.height} at ${options.x},${options.y}) with scale ${options.scale}`\n        );\n    }\n\n    async render(element: HTMLElement): Promise<HTMLCanvasElement> {\n        const svg = createForeignObjectSVG(\n            this.options.width * this.options.scale,\n            this.options.height * this.options.scale,\n            this.options.scale,\n            this.options.scale,\n            element\n        );\n\n        const img = await loadSerializedSVG(svg);\n\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\n        }\n\n        this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\n\n        return this.canvas;\n    }\n}\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n","export interface LoggerOptions {\n    id: string;\n    enabled: boolean;\n}\n\nexport class Logger {\n    static instances: {[key: string]: Logger} = {};\n\n    private readonly id: string;\n    private readonly enabled: boolean;\n    private readonly start: number;\n\n    constructor({id, enabled}: LoggerOptions) {\n        this.id = id;\n        this.enabled = enabled;\n        this.start = Date.now();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debug(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\n                // eslint-disable-next-line no-console\n                console.debug(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    getTime(): number {\n        return Date.now() - this.start;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    info(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\n                // eslint-disable-next-line no-console\n                console.info(this.id, `${this.getTime()}ms`, ...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warn(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.warn === 'function') {\n                // eslint-disable-next-line no-console\n                console.warn(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\n                // eslint-disable-next-line no-console\n                console.error(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n}\n","import {Logger} from './logger';\nimport {Cache, ResourceOptions} from './cache-storage';\nimport {Bounds} from '../css/layout/bounds';\n\nexport type ContextOptions = {\n    logging: boolean;\n    cache?: Cache;\n} & ResourceOptions;\n\nexport class Context {\n    private readonly instanceName = `#${Context.instanceCount++}`;\n    readonly logger: Logger;\n    readonly cache: Cache;\n\n    private static instanceCount = 1;\n\n    constructor(options: ContextOptions, public windowBounds: Bounds) {\n        this.logger = new Logger({id: this.instanceName, enabled: options.logging});\n        this.cache = options.cache ?? new Cache(this, options);\n    }\n}\n","import {Bounds, parseBounds, parseDocumentSize} from './css/layout/bounds';\nimport {COLORS, isTransparent, parseColor} from './css/types/color';\nimport {CloneConfigurations, CloneOptions, DocumentCloner, WindowOptions} from './dom/document-cloner';\nimport {isBodyElement, isHTMLElement, parseTree} from './dom/node-parser';\nimport {CacheStorage} from './core/cache-storage';\nimport {CanvasRenderer, RenderConfigurations, RenderOptions} from './render/canvas/canvas-renderer';\nimport {ForeignObjectRenderer} from './render/canvas/foreignobject-renderer';\nimport {Context, ContextOptions} from './core/context';\n\nexport type Options = CloneOptions &\n    WindowOptions &\n    RenderOptions &\n    ContextOptions & {\n        backgroundColor: string | null;\n        foreignObjectRendering: boolean;\n        removeContainer?: boolean;\n    };\n\nconst html2canvas = (element: HTMLElement, options: Partial<Options> = {}): Promise<HTMLCanvasElement> => {\n    return renderElement(element, options);\n};\n\nexport default html2canvas;\n\nif (typeof window !== 'undefined') {\n    CacheStorage.setContext(window);\n}\n\nconst renderElement = async (element: HTMLElement, opts: Partial<Options>): Promise<HTMLCanvasElement> => {\n    if (!element || typeof element !== 'object') {\n        return Promise.reject('Invalid element provided as first argument');\n    }\n    const ownerDocument = element.ownerDocument;\n\n    if (!ownerDocument) {\n        throw new Error(`Element is not attached to a Document`);\n    }\n\n    const defaultView = ownerDocument.defaultView;\n\n    if (!defaultView) {\n        throw new Error(`Document is not attached to a Window`);\n    }\n\n    const resourceOptions = {\n        allowTaint: opts.allowTaint ?? false,\n        imageTimeout: opts.imageTimeout ?? 15000,\n        proxy: opts.proxy,\n        useCORS: opts.useCORS ?? false\n    };\n\n    const contextOptions = {\n        logging: opts.logging ?? true,\n        cache: opts.cache,\n        ...resourceOptions\n    };\n\n    const windowOptions = {\n        windowWidth: opts.windowWidth ?? defaultView.innerWidth,\n        windowHeight: opts.windowHeight ?? defaultView.innerHeight,\n        scrollX: opts.scrollX ?? defaultView.pageXOffset,\n        scrollY: opts.scrollY ?? defaultView.pageYOffset\n    };\n\n    const windowBounds = new Bounds(\n        windowOptions.scrollX,\n        windowOptions.scrollY,\n        windowOptions.windowWidth,\n        windowOptions.windowHeight\n    );\n\n    const context = new Context(contextOptions, windowBounds);\n\n    const foreignObjectRendering = opts.foreignObjectRendering ?? false;\n\n    const cloneOptions: CloneConfigurations = {\n        allowTaint: opts.allowTaint ?? false,\n        onclone: opts.onclone,\n        ignoreElements: opts.ignoreElements,\n        inlineImages: foreignObjectRendering,\n        copyStyles: foreignObjectRendering\n    };\n\n    context.logger.debug(\n        `Starting document clone with size ${windowBounds.width}x${\n            windowBounds.height\n        } scrolled to ${-windowBounds.left},${-windowBounds.top}`\n    );\n\n    const documentCloner = new DocumentCloner(context, element, cloneOptions);\n    const clonedElement = documentCloner.clonedReferenceElement;\n    if (!clonedElement) {\n        return Promise.reject(`Unable to find element in cloned iframe`);\n    }\n\n    const container = await documentCloner.toIFrame(ownerDocument, windowBounds);\n\n    const {width, height, left, top} =\n        isBodyElement(clonedElement) || isHTMLElement(clonedElement)\n            ? parseDocumentSize(clonedElement.ownerDocument)\n            : parseBounds(context, clonedElement);\n\n    const backgroundColor = parseBackgroundColor(context, clonedElement, opts.backgroundColor);\n\n    const renderOptions: RenderConfigurations = {\n        canvas: opts.canvas,\n        backgroundColor,\n        scale: opts.scale ?? defaultView.devicePixelRatio ?? 1,\n        x: (opts.x ?? 0) + left,\n        y: (opts.y ?? 0) + top,\n        width: opts.width ?? Math.ceil(width),\n        height: opts.height ?? Math.ceil(height)\n    };\n\n    let canvas;\n\n    if (foreignObjectRendering) {\n        context.logger.debug(`Document cloned, using foreign object rendering`);\n        const renderer = new ForeignObjectRenderer(context, renderOptions);\n        canvas = await renderer.render(clonedElement);\n    } else {\n        context.logger.debug(\n            `Document cloned, element located at ${left},${top} with size ${width}x${height} using computed rendering`\n        );\n\n        context.logger.debug(`Starting DOM parsing`);\n        const root = parseTree(context, clonedElement);\n\n        if (backgroundColor === root.styles.backgroundColor) {\n            root.styles.backgroundColor = COLORS.TRANSPARENT;\n        }\n\n        context.logger.debug(\n            `Starting renderer for element at ${renderOptions.x},${renderOptions.y} with size ${renderOptions.width}x${renderOptions.height}`\n        );\n\n        const renderer = new CanvasRenderer(context, renderOptions);\n        canvas = await renderer.render(root);\n    }\n\n    if (opts.removeContainer ?? true) {\n        if (!DocumentCloner.destroy(container)) {\n            context.logger.error(`Cannot detach cloned iframe as it is not in the DOM anymore`);\n        }\n    }\n\n    context.logger.debug(`Finished rendering`);\n    return canvas;\n};\n\nconst parseBackgroundColor = (context: Context, element: HTMLElement, backgroundColorOverride?: string | null) => {\n    const ownerDocument = element.ownerDocument;\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    const documentBackgroundColor = ownerDocument.documentElement\n        ? parseColor(context, getComputedStyle(ownerDocument.documentElement).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n    const bodyBackgroundColor = ownerDocument.body\n        ? parseColor(context, getComputedStyle(ownerDocument.body).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n\n    const defaultBackgroundColor =\n        typeof backgroundColorOverride === 'string'\n            ? parseColor(context, backgroundColorOverride)\n            : backgroundColorOverride === null\n            ? COLORS.TRANSPARENT\n            : 0xffffffff;\n\n    return element === ownerDocument.documentElement\n        ? isTransparent(documentBackgroundColor)\n            ? isTransparent(bodyBackgroundColor)\n                ? defaultBackgroundColor\n                : bodyBackgroundColor\n            : documentBackgroundColor\n        : defaultBackgroundColor;\n};\n","/*!\n * Vditor v3.11.2 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log , b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 173:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n//  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = delta % 2 != 0;\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n    var data = diffs[x][1]; // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n  var pointer = 0; // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n      // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n//  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + proximity / dmp.Match_Distance;\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n  return s;\n};\n\n//  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */a;\n    diffs = this.diff_main(text1, /** @type {string} */opt_b, true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n  var char_count1 = 0; // Number of characters into the text1 string.\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n  return patches;\n};\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n    patch.start2 -= paddingLength; // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n  return nullPadding;\n};\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 408:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(135);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(840);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(775);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(428);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(325);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(483);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(999);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(472);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(280);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(637);\n// EXTERNAL MODULE: ./src/ts/markdown/SMILESRender.ts\nvar SMILESRender = __webpack_require__(825);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(11);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(194);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(436);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(229);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(145);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(538);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(413);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(106);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(673);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(214);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(810);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var getVoice = function () {\n        var voices = speechSynthesis.getVoices();\n        var currentVoice;\n        var defaultVoice;\n        voices.forEach(function (item) {\n            if (item.lang === lang.replace(\"_\", \"-\")) {\n                currentVoice = item;\n            }\n            if (item.default) {\n                defaultVoice = item;\n            }\n        });\n        if (!currentVoice) {\n            currentVoice = defaultVoice;\n        }\n        return currentVoice;\n    };\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    if (!document.getElementById(\"vditorIconScript\")) {\n        playSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M3.436 0l25.128 16-25.128 16v-32z\"></path></svg>';\n        pauseSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z\"></path></svg>';\n    }\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"button\");\n        speechDom.className = \"vditor-speech\";\n        element.insertAdjacentElement(\"beforeend\", speechDom);\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n    }\n    var voice = getVoice();\n    var utterThis = new SpeechSynthesisUtterance();\n    utterThis.voice = voice;\n    utterThis.onend = utterThis.onerror = function () {\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n    };\n    element.addEventListener(window.ontouchstart !== undefined ? \"touchend\" : \"click\", function (event) {\n        var target = event.target;\n        if (target.classList.contains(\"vditor-speech\") || target.parentElement.classList.contains(\"vditor-speech\")) {\n            if (!speechDom.classList.contains(\"vditor-speech--current\")) {\n                utterThis.text = speechDom.getAttribute(\"data-text\");\n                speechSynthesis.speak(utterThis);\n                speechDom.classList.add(\"vditor-speech--current\");\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n            element.focus();\n            return;\n        }\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        var range = getSelection().getRangeAt(0);\n        var text = range.toString().trim();\n        if (!text) {\n            return;\n        }\n        window.vditorSpeechRange = range.cloneRange();\n        var rect = range.getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        if (window.ontouchstart !== undefined) {\n            speechDom.style.left = (event.changedTouches[event.changedTouches.length - 1].pageX + 2) + \"px\";\n        }\n        else {\n            speechDom.style.left = (event.clientX + 2) + \"px\";\n        }\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var _a;\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        render: {\n            media: {\n                enable: true,\n            }\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    if (options.cdn) {\n        if (!((_a = options.theme) === null || _a === void 0 ? void 0 : _a.path)) {\n            defaultOption.theme.path = \"\".concat(options.cdn, \"/dist/css/content-theme\");\n        }\n        if (!options.emojiPath) {\n            defaultOption.emojiPath = \"\".concat(options.cdn, \"/dist/images/emoji\");\n        }\n    }\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            gfmAutoLink: mergedOptions.markdown.gfmAutoLink,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html, i18nScriptPrefix, i18nScriptID_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!!mergedOptions.i18n) return [3 /*break*/, 5];\n                if (!![\"de_DE\", \"en_US\", \"es_ES\", \"fr_FR\", \"ja_JP\", \"ko_KR\", \"pt_BR\", \"ru_RU\", \"sv_SE\", \"vi_VN\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) return [3 /*break*/, 2];\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            case 2:\n                i18nScriptPrefix = \"vditorI18nScript\";\n                i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1)];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [3 /*break*/, 6];\n            case 5:\n                window.VditorI18n = mergedOptions.i18n;\n                _a.label = 6;\n            case 6:\n                if (!mergedOptions.icon) return [3 /*break*/, 8];\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\")];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8:\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement, mergedOptions.hljs);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,SMILESRender/* SMILESRender */.J)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,markmapRender/* markmapRender */.K)(previewElement, mergedOptions.cdn);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                if (mergedOptions.render.media.enable) {\n                    (0,mediaRender/* mediaRender */.Y)(previewElement);\n                }\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(190);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(580);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /**  */\n    Vditor.adapterRender = adapterRender;\n    /**  */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /**  element  */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /**  graphviz  */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /**  element  */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /**  */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** // */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /**  */\n    Vditor.SMILESRender = SMILESRender/* SMILESRender */.J;\n    /**  markdown  */\n    Vditor.markmapRender = markmapRender/* markmapRender */.K;\n    /** flowchart.js  */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /**  */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /**  */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /**  */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /**  */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** [](https://github.com/Vanessa219/vditor/issues/7) iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /**  */\n    Vditor.speechRender = speechRender;\n    /**  */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown  HTML[](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /**  Markdown  */\n    Vditor.preview = previewRender;\n    /**  */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /**  */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 145:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.11.2\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"a11y-dark\", \"agate\", \"an-old-hope\", \"androidstudio\",\n        \"arta\", \"atom-one-dark\", \"atom-one-dark-reasonable\", \"base16/3024\", \"base16/apathy\", \"base16/apprentice\", \"base16/ashes\", \"base16/atelier-cave\", \"base16/atelier-dune\",\n        \"base16/atelier-estuary\", \"base16/atelier-forest\", \"base16/atelier-heath\", \"base16/atelier-lakeside\", \"base16/atelier-plateau\", \"base16/atelier-savanna\", \"base16/atelier-seaside\", \"base16/atelier-sulphurpool\",\n        \"base16/atlas\", \"base16/bespin\", \"base16/black-metal\", \"base16/black-metal-bathory\", \"base16/black-metal-burzum\", \"base16/black-metal-dark-funeral\", \"base16/black-metal-gorgoroth\", \"base16/black-metal-immortal\", \"base16/black-metal-khold\", \"base16/black-metal-marduk\", \"base16/black-metal-mayhem\", \"base16/black-metal-nile\", \"base16/black-metal-venom\", \"base16/brewer\", \"base16/bright\", \"base16/brogrammer\",\n        \"base16/brush-trees-dark\", \"base16/chalk\", \"base16/circus\", \"base16/classic-dark\", \"base16/codeschool\", \"base16/colors\", \"base16/danqing\", \"base16/darcula\", \"base16/dark-violet\",\n        \"base16/darkmoss\", \"base16/darktooth\", \"base16/decaf\", \"base16/default-dark\", \"base16/dracula\", \"base16/edge-dark\", \"base16/eighties\", \"base16/embers\", \"base16/equilibrium-dark\",\n        \"base16/equilibrium-gray-dark\", \"base16/espresso\", \"base16/eva\", \"base16/eva-dim\", \"base16/flat\", \"base16/framer\", \"base16/gigavolt\", \"base16/google-dark\", \"base16/grayscale-dark\", \"base16/green-screen\", \"base16/gruvbox-dark-hard\", \"base16/gruvbox-dark-medium\",\n        \"base16/gruvbox-dark-pale\", \"base16/gruvbox-dark-soft\", \"base16/hardcore\", \"base16/harmonic16-dark\", \"base16/heetch-dark\", \"base16/helios\", \"base16/hopscotch\", \"base16/horizon-dark\", \"base16/humanoid-dark\", \"base16/ia-dark\", \"base16/icy-dark\", \"base16/ir-black\", \"base16/isotope\",\n        \"base16/kimber\", \"base16/london-tube\", \"base16/macintosh\", \"base16/marrakesh\", \"base16/materia\", \"base16/material\", \"base16/material-darker\", \"base16/material-palenight\", \"base16/material-vivid\",\n        \"base16/mellow-purple\", \"base16/mocha\", \"base16/monokai\", \"base16/nebula\", \"base16/nord\", \"base16/nova\", \"base16/ocean\", \"base16/oceanicnext\", \"base16/onedark\", \"base16/outrun-dark\",\n        \"base16/papercolor-dark\", \"base16/paraiso\", \"base16/pasque\", \"base16/phd\", \"base16/pico\", \"base16/pop\", \"base16/porple\", \"base16/qualia\", \"base16/railscasts\", \"base16/rebecca\",\n        \"base16/ros-pine\", \"base16/ros-pine-moon\", \"base16/sandcastle\", \"base16/seti-ui\", \"base16/silk-dark\", \"base16/snazzy\", \"base16/solar-flare\", \"base16/solarized-dark\", \"base16/spacemacs\", \"base16/summercamp\", \"base16/summerfruit-dark\",\n        \"base16/synth-midnight-terminal-dark\", \"base16/tango\", \"base16/tender\", \"base16/tomorrow-night\", \"base16/twilight\", \"base16/unikitty-dark\", \"base16/vulcan\",\n        \"base16/windows-10\", \"base16/windows-95\", \"base16/windows-high-contrast\", \"base16/windows-nt\", \"base16/woodland\", \"base16/xcode-dusk\", \"base16/zenburn\", \"codepen-embed\", \"dark\",\n        \"devibeans\", \"far\", \"felipec\", \"github-dark\", \"github-dark-dimmed\", \"gml\", \"gradient-dark\", \"hybrid\", \"ir-black\", \"isbl-editor-dark\", \"kimbie-dark\", \"lioshi\",\n        \"monokai\", \"monokai-sublime\", \"night-owl\", \"nnfx-dark\", \"nord\", \"obsidian\", \"panda-syntax-dark\", \"paraiso-dark\", \"pojoaque\", \"qtcreator-dark\", \"rainbow\", \"shades-of-purple\", \"srcery\", \"stackoverflow-dark\",\n        \"sunburst\", \"tomorrow-night-blue\", \"tomorrow-night-bright\", \"tokyo-night-dark\", \"vs2015\", \"xt256\",\n        \"ant-design\",\n        \"a11y-light\", \"arduino-light\", \"ascetic\", \"atom-one-light\", \"base16/atelier-cave-light\",\n        \"base16/atelier-dune-light\", \"base16/atelier-estuary-light\", \"base16/atelier-forest-light\", \"base16/atelier-heath-light\",\n        \"base16/atelier-lakeside-light\", \"base16/atelier-plateau-light\", \"base16/atelier-savanna-light\", \"base16/atelier-seaside-light\", \"base16/atelier-sulphurpool-light\", \"base16/brush-trees\",\n        \"base16/classic-light\", \"base16/cupcake\", \"base16/cupertino\", \"base16/default-light\", \"base16/dirtysea\", \"base16/edge-light\", \"base16/equilibrium-gray-light\", \"base16/equilibrium-light\",\n        \"base16/fruit-soda\", \"base16/github\", \"base16/google-light\", \"base16/grayscale-light\", \"base16/gruvbox-light-hard\", \"base16/gruvbox-light-medium\", \"base16/gruvbox-light-soft\",\n        \"base16/harmonic16-light\", \"base16/heetch-light\", \"base16/humanoid-light\", \"base16/horizon-light\", \"base16/ia-light\", \"base16/material-lighter\", \"base16/mexico-light\",\n        \"base16/one-light\", \"base16/papercolor-light\", \"base16/ros-pine-dawn\", \"base16/sagelight\", \"base16/shapeshifter\",\n        \"base16/silk-light\", \"base16/solar-flare-light\", \"base16/solarized-light\", \"base16/summerfruit-light\", \"base16/synth-midnight-terminal-light\", \"base16/tomorrow\",\n        \"base16/unikitty-light\", \"base16/windows-10-light\", \"base16/windows-95-light\", \"base16/windows-high-contrast-light\", \"brown-paper\", \"base16/windows-nt-light\",\n        \"color-brewer\", \"docco\", \"foundation\", \"github\", \"googlecode\", \"gradient-light\", \"grayscale\", \"idea\", \"intellij-light\", \"isbl-editor-light\", \"kimbie-light\",\n        \"lightfair\", \"magula\", \"mono-blue\", \"nnfx-light\", \"panda-syntax-light\", \"paraiso-light\", \"purebasic\", \"qtcreator-light\", \"routeros\", \"school-book\",\n        \"stackoverflow-light\", \"tokyo-night-light\", \"vs\", \"xcode\", \"default\"];\n    Constants.ALIAS_CODE_LANGUAGES = [\n        // \n        \"abc\", \"plantuml\", \"mermaid\", \"flowchart\", \"echarts\", \"mindmap\", \"graphviz\", \"math\", \"markmap\", \"smiles\",\n        // \n        \"js\", \"ts\", \"html\", \"toml\", \"c#\", \"bat\"\n    ];\n    Constants.CDN = \"https://unpkg.com/vditor@\".concat(\"3.11.2\");\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        gfmAutoLink: true,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        defaultLang: \"\",\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: \"\".concat(Constants.CDN, \"/dist/css/content-theme\"),\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 825:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"J\": () => (/* binding */ SMILESRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(494);\n\n\n\n\nvar SMILESRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var SMILESElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.SMILESRenderAdapter.getElements(element);\n    if (SMILESElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7\"), \"vditorAbcjsScript\").then(function () {\n            var sd = new SmiDrawer({}, {});\n            SMILESElements.forEach(function (item) {\n                var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.SMILESRenderAdapter.getCode(item).trim();\n                if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                    return;\n                }\n                var id = \"smiles\" + (0,_util_function__WEBPACK_IMPORTED_MODULE_3__/* .genUUID */ .Wb)();\n                item.innerHTML = \"<svg id=\\\"\".concat(id, \"\\\"></svg>\");\n                sd.draw(code, '#' + id, theme === \"dark\" ? \"dark\" : undefined);\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 135:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/abcjs/abcjs_basic.min.js\"), \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 840:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"SMILESRenderAdapter\": () => (/* binding */ SMILESRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"markmapRenderAdapter\": () => (/* binding */ markmapRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar SMILESRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-smiles\"); },\n};\nvar mermaidRenderAdapter = {\n    /** code code  el  innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar markmapRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-markmap\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 775:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(494);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js?v=5.5.1\"), \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n                var text, option, error_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                                return [2 /*return*/];\n                            }\n                            text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                            if (!text) {\n                                return [2 /*return*/];\n                            }\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            if (e.getAttribute(\"data-processed\") === \"true\") {\n                                return [2 /*return*/];\n                            }\n                            return [4 /*yield*/, (0,_util_function__WEBPACK_IMPORTED_MODULE_3__/* .looseJsonParse */ .Qf)(text)];\n                        case 2:\n                            option = _a.sent();\n                            echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                            e.setAttribute(\"data-processed\", \"true\");\n                            return [3 /*break*/, 4];\n                        case 3:\n                            error_1 = _a.sent();\n                            e.className = \"vditor-reset--error\";\n                            e.innerHTML = \"echarts render error: <br>\".concat(error_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 428:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(105);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n\n\nvar codeRender = function (element, option) {\n    Array.from(element.querySelectorAll(\"pre > code\")).filter(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return false;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") || e.classList.contains(\"language-markmap\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\") || e.classList.contains(\"language-smiles\")) {\n            return false;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return false;\n        }\n        //  https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return false;\n        }\n        return true;\n    }).forEach(function (e) {\n        var _a, _b, _c;\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = e.cloneNode(true);\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        else if (codeText.endsWith(\"\\n\")) {\n            codeText = codeText.substr(0, codeText.length - 1);\n        }\n        var iconHTML = '<svg><use xlink:href=\"#vditor-icon-copy\"></use></svg>';\n        if (!document.getElementById(\"vditorIconScript\")) {\n            iconHTML = '<svg viewBox=\"0 0 32 32\"><path d=\"M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z\"></path></svg>';\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\".concat(((_a = window.VditorI18n) === null || _a === void 0 ? void 0 : _a.copy) || \"\", \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\").concat(((_b = window.VditorI18n) === null || _b === void 0 ? void 0 : _b.copy) || \"\", \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '\").concat(((_c = window.VditorI18n) === null || _c === void 0 ? void 0 : _c.copied) || \"\", \"');this.previousElementSibling.blur()\\\">\").concat(iconHTML, \"</span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_1__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        if (option && option.renderMenu) {\n            option.renderMenu(e, divElement);\n        }\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n        // https://github.com/Vanessa219/vditor/issues/1356\n        e.insertAdjacentHTML(\"afterend\", \"<span style=\\\"position: absolute\\\">\".concat(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP, \"</span>\"));\n    });\n};\n\n\n/***/ }),\n\n/***/ 325:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/flowchart.js/flowchart.min.js\"), \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 483:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/graphviz/viz.js\"), \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\".concat(document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\"), \"');\")], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\".concat(error);\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 999:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(290);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".min.css\");\n    if (vditorHljsStyle && vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(\"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".min.css\"), \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/highlight.min.js?v=11.7.0\"), \"vditorHljsScript\").then(function () {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/third-languages.js?v=1.0.1\"), \"vditorHljsThirdScript\").then(function () {\n            element.querySelectorAll(\"pre > code\").forEach(function (block) {\n                // ir & wysiwyg \n                if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                    block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                    return;\n                }\n                if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                    block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                    block.classList.contains(\"language-plantuml\") || block.classList.contains(\"language-smiles\") ||\n                    block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                    block.classList.contains(\"language-math\")) {\n                    return;\n                }\n                if (hljsOption.defaultLang !== \"\" && block.className.indexOf(\"language-\") === -1) {\n                    block.classList.add(\"language-\" + hljsOption.defaultLang);\n                }\n                var language = block.className.replace(\"language-\", \"\");\n                if (!window.hljs.getLanguage(language)) {\n                    language = \"plaintext\";\n                }\n                block.innerHTML = window.hljs.highlight(block.textContent, {\n                    language: language,\n                    ignoreIllegals: true\n                }).value;\n                block.classList.add(\"hljs\");\n                if (!hljsOption.lineNumber) {\n                    return;\n                }\n                block.classList.add(\"vditor-linenumber\");\n                var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n                if (!linenNumberTemp) {\n                    linenNumberTemp = document.createElement(\"div\");\n                    linenNumberTemp.className = \"vditor-linenumber__temp\";\n                    block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n                }\n                var whiteSpace = getComputedStyle(block).whiteSpace;\n                var isSoftWrap = false;\n                if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                    isSoftWrap = true;\n                }\n                var lineNumberHTML = \"\";\n                var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n                lineList.pop();\n                lineList.map(function (line) {\n                    var lineHeight = \"\";\n                    if (isSoftWrap) {\n                        linenNumberTemp.textContent = line || \"\\n\";\n                        lineHeight = \" style=\\\"height:\".concat(linenNumberTemp.getBoundingClientRect().height, \"px\\\"\");\n                    }\n                    lineNumberHTML += \"<span\".concat(lineHeight, \"></span>\");\n                });\n                linenNumberTemp.style.display = \"none\";\n                lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\".concat(lineNumberHTML, \"</span>\");\n                block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n            });\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 11:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"K\": () => (/* binding */ markmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar enabled = {};\nvar transform = function (transformer, content) {\n    var result = transformer.transform(content);\n    var keys = Object.keys(result.features).filter(function (key) { return !enabled[key]; });\n    keys.forEach(function (key) {\n        enabled[key] = true;\n    });\n    var _a = transformer.getAssets(keys), styles = _a.styles, scripts = _a.scripts;\n    var markmap = window.markmap;\n    if (styles)\n        markmap.loadCSS(styles);\n    if (scripts)\n        markmap.loadJS(scripts);\n    return result;\n};\nvar init = function (el, code) {\n    var _a = window.markmap, Transformer = _a.Transformer, Markmap = _a.Markmap, deriveOptions = _a.deriveOptions, globalCSS = _a.globalCSS;\n    var transformer = new Transformer();\n    el.innerHTML = '<svg style=\"width:100%\"></svg>';\n    var svg = el.firstChild;\n    var mm = Markmap.create(svg, null);\n    var _b = transform(transformer, code), root = _b.root, frontmatter = _b.frontmatter;\n    var markmapOptions = frontmatter === null || frontmatter === void 0 ? void 0 : frontmatter.markmap;\n    var frontmatterOptions = deriveOptions(markmapOptions);\n    mm.setData(root, frontmatterOptions);\n    mm.fit();\n};\nvar markmapRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var markmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getElements(element);\n    if (markmapElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/markmap/markmap.min.js\"), \"vditorMarkerScript\").then(function () {\n        markmapElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            var render = document.createElement(\"div\");\n            render.className = \"language-markmap\";\n            item.parentNode.appendChild(render);\n            init(render, code);\n            if (item.parentNode.childNodes[0].nodeName == \"CODE\") {\n                item.parentNode.removeChild(item.parentNode.childNodes[0]);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 472:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(413);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(290);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(105);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    if (element === void 0) { element = document; }\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.css?v=0.16.9\"), \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.js?v=0.16.9\"), \"vditorKatexScript\").then(function () {\n            (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/mhchem.min.js?v=0.16.9\"), \"vditorKatexChemScript\").then(function () {\n                mathElements.forEach(function (mathElement) {\n                    if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                        mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                        return;\n                    }\n                    if (mathElement.getAttribute(\"data-math\")) {\n                        return;\n                    }\n                    var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                    mathElement.setAttribute(\"data-math\", math);\n                    try {\n                        mathElement.innerHTML = katex.renderToString(math, {\n                            displayMode: mathElement.tagName === \"DIV\",\n                            output: \"html\",\n                            macros: options.math.macros,\n                        });\n                    }\n                    catch (e) {\n                        mathElement.innerHTML = e.message;\n                        mathElement.className = \"language-math vditor-reset--error\";\n                    }\n                    mathElement.addEventListener(\"copy\", function (event) {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                        event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                        event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                    });\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: \"\".concat(options.cdn, \"/dist/js/mathjax\") },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n            // https://github.com/Vanessa219/vditor/issues/1453\n            Object.assign(window.MathJax, options.math.mathJaxOptions);\n        }\n        // \n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(\"\".concat(options.cdn, \"/dist/js/mathjax/tex-svg-full.js\"), \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 280:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(494);\n\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></video>\"));\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></audio>\"));\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\".concat(youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\"), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\".concat(youkuMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\".concat(qqMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\".concat(coubMatch[1], \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\".concat(encodeURIComponent(facebookMatch[0]), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\".concat(dailymotionMatch[2], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (url.indexOf(\"bilibili.com\") > -1 && (url.indexOf(\"bvid=\") > -1 || (bilibiliMatch && bilibiliMatch[1]))) {\n        var params_1 = {\n            bvid: (0,_util_function__WEBPACK_IMPORTED_MODULE_0__/* .getSearch */ .on)(\"bvid\", url) || (bilibiliMatch && bilibiliMatch[1]),\n            page: \"1\",\n            high_quality: \"1\",\n            as_wide: \"1\",\n            allowfullscreen: \"true\",\n            autoplay: \"0\"\n        };\n        new URL(url.startsWith(\"http\") ? url : \"https:\" + url).search.split(\"&\").forEach(function (item, index) {\n            if (!item) {\n                return;\n            }\n            if (index === 0) {\n                item = item.substr(1);\n            }\n            var keyValue = item.split(\"=\");\n            params_1[keyValue[0]] = keyValue[1];\n        });\n        var src_1 = \"https://player.bilibili.com/player.html?\";\n        var keys_1 = Object.keys(params_1);\n        keys_1.forEach(function (key, index) {\n            src_1 += \"\".concat(key, \"=\").concat(params_1[key]);\n            if (index < keys_1.length - 1) {\n                src_1 += \"&\";\n            }\n        });\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"\".concat(src_1, \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\".concat(tedMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 637:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(494);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/mermaid/mermaid.min.js?v=11.6.0\"), \"vditorMermaidScript\").then(function () {\n        var config = {\n            securityLevel: \"loose\",\n            altFontFamily: \"sans-serif\",\n            fontFamily: \"sans-serif\",\n            startOnLoad: false,\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: !0\n            },\n            sequence: {\n                useMaxWidth: true,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                boxMargin: 8,\n                showSequenceNumbers: true // Mermaid  https://github.com/siyuan-note/siyuan/pull/6992 https://mermaid.js.org/syntax/sequenceDiagram.html#sequencenumbers\n            },\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20\n            }\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n            var code, id, mermaidData, e_1, errorElement;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n                        if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                            return [2 /*return*/];\n                        }\n                        id = \"mermaid\" + (0,_util_function__WEBPACK_IMPORTED_MODULE_3__/* .genUUID */ .Wb)();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, mermaid.render(id, item.textContent)];\n                    case 2:\n                        mermaidData = _a.sent();\n                        item.innerHTML = mermaidData.svg;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        errorElement = document.querySelector(\"#\" + id);\n                        item.innerHTML = \"\".concat(errorElement.outerHTML, \"<br>\\n<div style=\\\"text-align: left\\\"><small>\").concat(e_1.message.replace(/\\n/, \"<br>\"), \"</small></div>\");\n                        errorElement.parentElement.remove();\n                        return [3 /*break*/, 4];\n                    case 4:\n                        item.setAttribute(\"data-processed\", \"true\");\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    });\n};\n\n\n/***/ }),\n\n/***/ 194:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js?v=5.5.1\"), \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\".concat(error);\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 436:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(771);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(472);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            var iconHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>\";\n            if (!document.getElementById(\"vditorIconScript\")) {\n                iconHTML = '<svg class=\"vditor-outline__action\" viewBox=\"0 0 32 32\"><path d=\"M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z\"></path></svg>';\n            }\n            item.innerHTML = \"\".concat(iconHTML, \"<span>\").concat(item.innerHTML, \"</span>\");\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\".concat(item.innerHTML, \"</span>\");\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 229:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(413);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(840);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/plantuml/plantuml-encoder.min.js\"), \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<object type=\\\"image/svg+xml\\\" data=\\\"https://www.plantuml.com/plantuml/svg/~1\".concat(plantumlEncoder.encode(text), \"\\\"/>\");\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\".concat(error);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 214:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    lute.SetGFMAutoLink(options.gfmAutoLink);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 190:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\".concat(theme === \"dark\" ? \" vditor--dark\" : \"\", \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \").concat(window.VditorI18n.spin, \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\").concat(window.VditorI18n.close, \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \").concat(oldImgElement.width, \"px;height:\").concat(oldImgElement.height, \"px;transform: translate3d(\").concat(oldImgRect.left, \"px, \").concat(oldImgRect.top - height, \"px, 0)\\\" src=\\\"\").concat(oldImgElement.getAttribute(\"src\"), \"\\\">\\n    </div>\\n</div>\"));\n    document.body.style.overflow = \"hidden\";\n    // \n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2, \"px, 0)\");\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \".concat(translate3d));\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // \n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2, \"px, 0) rotateZ(\").concat(deg, \"deg)\");\n        }\n        else {\n            imgElement.style.transform = \"\".concat(translate3d, \" rotateZ(\").concat(deg, \"deg)\");\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 580:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(290);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(codeTheme, \".min.css\");\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 538:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(290);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = \"\".concat(path, \"/\").concat(contentTheme, \".css\");\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.getAttribute(\"href\") !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 413:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync),\n/* harmony export */   \"G\": () => (/* binding */ addScript)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // \n            resolve(true);\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        //  Chrome  js\n        document.head.appendChild(scriptElement);\n        scriptElement.onerror = function (event) {\n            reject(event);\n        };\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                //  DOM  script \n                scriptElement.remove();\n                resolve(true);\n                return false;\n            }\n            scriptElement.id = id;\n            resolve(true);\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 290:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 105:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // \n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 410:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n//  iPhone /\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n//  mac  ctrl  meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// MacWindows \nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"\") > -1 && isFirefox()) {\n            // Mac Firefox  shift key  windows \n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"\")) {\n            hotkey = hotkey.replace(\"\", \"+\");\n        }\n        else if (hotkey.startsWith(\"\") && hotkey.substr(1, 1) !== \"\") {\n            hotkey = hotkey.replace(\"\", \"+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"\", \"++\").replace(\"\", \"++\");\n        }\n        hotkey = hotkey.replace(\"\", \"Ctrl\").replace(\"\", \"Shift\")\n            .replace(\"\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 494:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Wb\": () => (/* binding */ genUUID),\n/* harmony export */   \"on\": () => (/* binding */ getSearch),\n/* harmony export */   \"Qf\": () => (/* binding */ looseJsonParse)\n/* harmony export */ });\nvar genUUID = function () { return ([1e7].toString() + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n    return (parseInt(c, 10) ^ (window.crypto.getRandomValues(new Uint32Array(1))[0] & (15 >> (parseInt(c, 10) / 4)))).toString(16);\n}); };\nvar getSearch = function (key, link) {\n    if (link === void 0) { link = window.location.search; }\n    var params = link.substring(link.indexOf(\"?\"));\n    var hashIndex = params.indexOf(\"#\");\n    // REF https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams\n    var urlSearchParams = new URLSearchParams(params.substring(0, hashIndex >= 0 ? hashIndex : undefined));\n    return urlSearchParams.get(key);\n};\nvar looseJsonParse = function (text) {\n    return Function(\"\\\"use strict\\\";return (\".concat(text, \")\"))();\n};\n\n\n/***/ }),\n\n/***/ 106:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(771);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 771:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE:  method.ts  hasClosest.ts \nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 673:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 810:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(145);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(410);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(106);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            //  br  <p> \n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown \n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // \n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    //  lute  p  p \n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // \n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            var liElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByMatchTag */ .lG)(range.startContainer, \"LI\");\n            if (liElement && pasteElement.firstElementChild.tagName === \"UL\") {\n                liElement.insertAdjacentHTML(\"afterend\", pasteElement.firstElementChild.innerHTML);\n            }\n            else {\n                blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n            }\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(408);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(145);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(105);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)(\"\".concat(vditor.sv.element.textContent, \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(413);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(\"\".concat(vditor.options.cdn, \"/dist/js/echarts/echarts.min.js?v=5.5.1\"), \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(410);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(106);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(771);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(\"\".concat(method, \" - \").concat(type, \": \").concat(content));\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(135);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(775);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(428);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(325);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(483);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(999);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(472);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(637);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(11);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(194);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(229);\n// EXTERNAL MODULE: ./src/ts/markdown/SMILESRender.ts\nvar SMILESRender = __webpack_require__(825);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // \n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"<wbr></code></pre></div>\");\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"</code><wbr>\");\n            }\n            return \"`\".concat(code, \"`\");\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"smiles\") {\n        (0,SMILESRender/* SMILESRender */.J)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"markmap\") {\n        (0,markmapRender/* markmapRender */.K)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        var cRender = vditor.options.customRenders.find(function (item) {\n            if (item.language === language) {\n                item.render(previewPanel, vditor);\n                return true;\n            }\n        });\n        if (!cRender) {\n            (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n            (0,codeRender/* codeRender */.O)(previewPanel, vditor.options.preview.hljs);\n        }\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(810);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc \n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc \n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc \n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // \n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // \n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // \n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // \n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // \n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            if (typeof vditor.options.input === \"function\") {\n                vditor.options.input(getMarkdown(vditor));\n            }\n            return;\n        }\n        // https://github.com/Vanessa219/vditor/issues/729\n        if (endSpace && /^#{1,6} $/.test(blockElement.textContent)) {\n            endSpace = false;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        //  innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML  wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // \n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // \n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // \n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        //  > ---  front-matter blockquote  blockquoteblockquote \n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // \n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // \n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox  list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // \n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (!blockElement.innerText.startsWith(\"```\")) {\n            // \n            vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // \n            vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        //  tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(marker, \"\\\"]\"));\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref \n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // \n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n//  [] / [] / [] / [] / Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"\") === -1 && hotKey.indexOf(\"\") === -1 && hotKey.indexOf(\"\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    //  Tab\n    if (hotKey === \"Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"\")) {\n        //  [] / []\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    //  [] / []\n    if (hotKey === \"Enter\") {\n        hotKeys = [\"\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    //  nodeElement \n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    //  undo \n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // \n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md \n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // \n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // \n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // /table \n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // \n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // \n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // \n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // \n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: \n        if (matchHotKey(\"=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                //  keyup \n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // \n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // marker \n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength && headingLength !== 0) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(190);\n;// CONCATENATED MODULE: ./src/ts/sv/combineFootnote.ts\n/**\n * \n * @param elements vditor.sv.element\n * @param afterCombine , param: root\n */\nvar combineFootnote = function (elements, afterCombine) {\n    elements.querySelectorAll(\"[data-type=footnotes-link]\").forEach(function (el) {\n        var root = el.parentElement;\n        var footnote = root.nextSibling;\n        // \n        while (footnote) {\n            if (footnote.textContent.startsWith(\"    \")) {\n                // root\n                var thisNode = footnote;\n                thisNode.childNodes.forEach(function (node) {\n                    root.append(node.cloneNode(true));\n                });\n                footnote = footnote.nextSibling;\n                thisNode.remove();\n            }\n            else {\n                // \n                break;\n            }\n        }\n        afterCombine && afterCombine(root);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    //  lute \n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // \n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // \n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584  marker \n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 \n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // \n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        //  format \n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // b  [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") //  [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") //  [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") //  [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // \n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // \n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // \n        blockElement = vditor.sv.element;\n    }\n    // \n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        //  Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // \n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // \n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            //  yaml-front \n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // \n        var footnotes_1 = \"\";\n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        // lute\n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        html = footnotes_1 + html;\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", item.parentElement);\n    });\n    // \n    combineFootnote(vditor.sv.element, function (root) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", root);\n    });\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    //  blockquote marker \n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                //  BQ \n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // \n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            //  marker  tab \n            if (event.key === \"Tab\") {\n                if (event.shiftKey) {\n                    if (listFirstMarkerElement.previousElementSibling.getAttribute(\"data-type\") === \"padding\") {\n                        listFirstMarkerElement.previousElementSibling.remove();\n                    }\n                }\n                else {\n                    listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\".concat(listFirstMarkerElement.textContent.replace(/\\S/g, \" \"), \"</span>\"));\n                }\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // \n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // \n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    //  newline \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            //  inputEvent \n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // \n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            //  [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(538);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    //  RTL\n    if (vditor.options.rtl) {\n        vditor.element.setAttribute(\"dir\", \"rtl\");\n    }\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    else {\n        vditor.element.style.height = vditor.options.height;\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    contentElement.addEventListener(\"click\", function () {\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe id=\"vditorExportIframe\" style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \".concat(-layoutViewport.getBoundingClientRect().top, \"px)\");\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.preview.element.style.display !== \"block\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n    else {\n        vditor.toolbar.element.style.paddingLeft = (5 +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    else {\n        height = vditor.element.clientHeight;\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    //  Firefox padding-bottom bug :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar resizeCb;\nfunction UIUnbindListener() {\n    window.removeEventListener(\"resize\", resizeCb);\n}\nvar afterRender = function (vditor) {\n    setTypewriterPosition(vditor);\n    UIUnbindListener();\n    window.addEventListener(\"resize\", resizeCb = function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\".concat(previousHTML).concat(text.substr(0, offset));\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\".concat(text.substr(offset)).concat(nextHTML);\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // \n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            //  tab  tab = '    ' range.startContainer  node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox  div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.innerHTML, \"</p>\");\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox  BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"<wbr></p>\");\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"</p>\");\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox  trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox  https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        else {\n            blockElement.outerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\".concat(blockElement.innerHTML, \"</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox  compositionend  https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    //  undo \n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md \n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: \n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter:  https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    //  blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter:  blockquote  https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter:  blockquote \n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6  https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // \n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // \n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // \n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // \n    if (matchHotKey(\"U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // \n    if (matchHotKey(\"D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter table/hr/heading cell block render li & p \n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            //  https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    //  keyup \n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // \n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // \n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline codemathhtml \n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                //  inline math/html  code \n            }\n            //  inline math/html, html-entity  code , \n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // \n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // \n    if (matchHotKey(\"X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n        }\n        event.preventDefault();\n        return true;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            customWysiwygToolbar(vditor, \"footnotes-block\");\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // \n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            customWysiwygToolbar(vditor, \"vditor-toc\");\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            customWysiwygToolbar(vditor, \"blockquote\");\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            customWysiwygToolbar(vditor, \"li\");\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            customWysiwygToolbar(vditor, \"table\");\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement, range);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            customWysiwygToolbar(vditor, \"footnotes-ref\");\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        var isBlock = blockRenderElement ? blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1 : false;\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-wysiwyg__preview\")\n            .forEach(function (itemElement) {\n            if (!blockRenderElement || (blockRenderElement && isBlock && !blockRenderElement.contains(itemElement))) {\n                var previousElement = itemElement.previousElementSibling;\n                previousElement.style.display = \"none\";\n            }\n        });\n        if (blockRenderElement && isBlock) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function (e) {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\".concat(language_1.value);\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                    // input\n                    if (e.detail === 1) {\n                        // \n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    vditor.hint.select(event, vditor);\n                    focusToElement(event, range);\n                };\n                language_1.onkeyup = function (event) {\n                    var _a, _b;\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    (vditor.options.preview.hljs.langs || constants/* Constants.ALIAS_CODE_LANGUAGES.concat */.g.ALIAS_CODE_LANGUAGES.concat(((_b = (_a = window.hljs) === null || _a === void 0 ? void 0 : _a.listLanguages()) !== null && _b !== void 0 ? _b : []).sort())).forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n                customWysiwygToolbar(vditor, \"code-block\");\n            }\n            else {\n                customWysiwygToolbar(vditor, \"block\");\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            customWysiwygToolbar(vditor, \"heading\");\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement, range);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                customWysiwygToolbar(vditor, \"block\");\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // \n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement, range) {\n    if (range === void 0) { range = getSelection().getRangeAt(0); }\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    customWysiwygToolbar(vditor, \"link-ref\");\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        if ([\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"].includes(element.tagName)) {\n            renderToc(vditor);\n        }\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox  link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement, range) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n        afterRenderEvent(vditor);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    customWysiwygToolbar(vditor, \"a\");\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    customWysiwygToolbar(vditor, \"image\");\n    setPopoverPosition(vditor, imgElement);\n};\nvar focusToElement = function (event, range) {\n    if ((!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.key === \"Enter\") || event.key === \"Escape\") {\n        if (range) {\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        return true;\n    }\n};\nvar customWysiwygToolbar = function (vditor, type) {\n    vditor.options.customWysiwygToolbar(type, vditor.wysiwyg.popover);\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = \"\".concat(previousHTML, \"<\").concat(tagName, \">\").concat(lastBeforeHTML, \"</\").concat(tagName, \">\");\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // \n                insertHTML += \"\".concat(lastTagName).concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\").concat(lastEndTagName);\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\".concat(tagName, \">\").concat(lastAfterHTML, \"</\").concat(tagName, \">\").concat(nextHTML);\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\".concat(tagName, \">\") + lastTagName;\n            lastEndTagName = \"</\".concat(tagName, \">\") + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome  https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent //  https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // \n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // \n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li \n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(liElement.innerHTML, \"</blockquote>\");\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\".concat(range.toString(), \"<wbr></code></pre>\");\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement, range);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node, range);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\".concat(header, \"<wbr></th>\");\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\".concat(header, \"</th>\");\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\".concat(cell, \"</td>\");\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    //  zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \">\") : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \"&gt;\") : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\".concat(window.VditorI18n[menuItem.name]).concat(hotkey);\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\".concat(tagName, \" data-type=\\\"\").concat(menuItem.name, \"\\\">\").concat(tip, \"</\").concat(tagName, \">\");\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(menuItem.tipPosition);\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV  Placeholder \n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        combineFootnote(vditor.sv.element);\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        //  focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\".concat(vditor.currentMode, \"\\\"]\")).classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable, typeof event !== \"string\");\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\".concat(window.VditorI18n.wysiwyg, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"7\"), \"></button>\\n<button data-mode=\\\"ir\\\">\").concat(window.VditorI18n.instantRendering, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"8\"), \"></button>\\n<button data-mode=\\\"sv\\\">\").concat(window.VditorI18n.splitView, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"9\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            if (vditor.options.image.preview) {\n                vditor.options.image.preview(event.target);\n            }\n            else if (vditor.options.image.isPreview) {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // \n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // \n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types.includes(\"Files\") || event.dataTransfer.types.includes(\"text/html\")) {\n            // \n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        //  comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (vditor.options.height === \"auto\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (vditor.options.height !== \"auto\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        if (!event.isComposing && vditor.options.keydown) {\n            vditor.options.keydown(event);\n        }\n        // hint: \n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        //  comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                    if (typeof vditor.options.unSelect === 'function') {\n                        vditor.options.unSelect();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var spinHTML = vditor.lute.SpinVditorSVDOM(blockElement.textContent);\n    spinHTML = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = spinHTML;\n    }\n    else {\n        blockElement.outerHTML = spinHTML;\n    }\n    combineFootnote(vditor.sv.element);\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    var spinHTML = vditor.lute.SpinVditorSVDOM(html);\n    html = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // / marker \n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // \n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", Lute.Caret + \")\"));\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563  ```\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\".concat(prefix, \"\\n\").concat(Lute.Caret);\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\".concat(window.VditorI18n.nameEmpty, \"</li>\");\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.over, \" \").concat(vditor.options.upload.max / 1024 / 1024, \"M</li>\");\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.fileTypeError, \"</li>\");\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploading, \" <a class=\\\"vditorCancelUpload\\\" href=\\\"javascript:void(0)\\\">\").concat(window.VditorI18n.cancelUpload, \"</a></li>\");\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\".concat(errorTip).concat(uploadingStr, \"</ul>\"));\n    if (vditor.options.upload.cancel) {\n        var vditorCancelUploadElement = vditor.tip.element.querySelector(\".vditorCancelUpload\");\n        if (vditorCancelUploadElement) {\n            vditorCancelUploadElement.addEventListener(\"click\", function () {\n                vditor.options.upload.cancel(uploadFileList);\n                vditor.tip.hide();\n                vditor.upload.isUploading = false;\n            });\n        }\n    }\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\".concat(response.msg);\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\".concat(errorTip, \"</li>\");\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploadError, \"</li>\");\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"&gt;&lt;/audio&gt;</code></pre><pre class=\\\"vditor-wysiwyg__preview\\\" data-render=\\\"1\\\"><audio controls=\\\"controls\\\" src=\\\"\").concat(path, \"\\\"></audio></pre></div>\\n\");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"></audio>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\".concat(filename, \"\\\" src=\\\"\").concat(path, \"\\\">\\n\");\n            }\n            else {\n                succFileText += \"![\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\".concat(path, \"\\\">\").concat(filename, \"</a>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (!vditor.options.upload.handler) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.handler(fileList)];\n            case 1:\n                isValidate = _b.sent();\n                if (element) {\n                    element.value = \"\";\n                }\n                if (typeof isValidate === \"string\") {\n                    vditor.tip.show(isValidate);\n                    return [2 /*return*/];\n                }\n                return [2 /*return*/];\n            case 2:\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 4];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 3:\n                fileList = _b.sent();\n                _b.label = 4;\n            case 4:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                vditor.upload.xhr = xhr;\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                        vditor.upload.xhr = undefined;\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        //  innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            //  https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // \n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // \n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // \n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  \n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // \n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // \n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li  blockquote  blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // \n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // \n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox  list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            if (!blockElement.innerText.startsWith(\"```\")) {\n                // \n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n                // \n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n            }\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        //  em strongs commonmark \n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                //  tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(footnoteItemElement.getAttribute(\"data-marker\"), \"\\\"]\"));\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // \n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // \n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 \nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        //  299\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 \nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        // https://github.com/Vanessa219/vditor/issues/1289 WKWebView\n        if (pLiElement.nodeValue) {\n            pLiElement.nodeValue = pLiElement.nodeValue.replace(/\\u2006/g, \"\");\n        }\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 \nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// \nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // \n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\".concat(itemElement.parentElement.children[i].innerHTML.trimLeft(), \"</p>\");\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // \n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ol>\"));\n                blockElement.remove();\n            }\n        }\n        else {\n            // \n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\".concat(item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                    element.setAttribute(\"data-marker\", \"*\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                    element.setAttribute(\"data-marker\", \"1.\");\n                }\n                element.setAttribute(\"data-block\", \"0\");\n                element.setAttribute(\"data-tight\", itemElement.parentElement.getAttribute(\"data-tight\"));\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\".concat(marker.slice(-1));\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\".concat(item.getAttribute(\"data-node-id\"), \"\\\" data-marker=\\\"\").concat(marker, \"\\\">\").concat(item.innerHTML, \"</li>\");\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\".concat(liParentElement.tagName, \" data-block=\\\"0\\\">\").concat(liHTML_1, \"</\").concat(liParentElement.tagName, \">\"));\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                //  heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // \n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li  P  P  li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li  \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            //  li \n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\"));\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\");\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // /tab \n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // /\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // \n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab : block code render, table,  tab \nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table \n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr \n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            //  hr \n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\".concat(innerHTMLList.join(\"\\n\"), \"</p>\");\n            }\n            pElement.insertAdjacentHTML(\"afterend\", \"\".concat(pInnerHTML, \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\"));\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading \n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    //  https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\".concat(pElement.innerHTML));\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\".concat(rowHTML, \"</tr></tbody>\"));\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </th>\");\n        }\n        else {\n            rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\".concat(rowHTML, \"</tr></thead>\"));\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        //  cell  br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab  cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        //  https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // \n        if (matchHotKey(\"C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // \n        if (matchHotKey(\"R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    //  command + a\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and \n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) //  \\n \n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\".concat(codeRenderElement.firstElementChild.innerHTML, \"</p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // \n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: \n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: \n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                //  P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // \n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                //  undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\";\", event)) {\n            //  blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (taskItemElement && taskItemElement.classList.contains(\"vditor-task\")) {\n        if (matchHotKey(\"J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: \n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(taskItemElement.innerHTML.trim() || \"\\n\", \"</p>\"));\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // \n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // \n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // \n                    if (taskItemElement.nextElementSibling) {\n                        // \n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\".concat(taskItemElement.parentElement.getAttribute(\"data-marker\"), \"\\\"\");\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\".concat(parentTagName, \" data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\">\").concat(beforeHTML_1, \"</\").concat(parentTagName, \">\");\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = \"\".concat(beforeHTML_1, \"<p data-block=\\\"0\\\"><wbr>\\n</p><\").concat(parentTagName, \"\\n data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\"\").concat(startAttribute, \">\").concat(afterHTML_2, \"</\").concat(parentTagName, \">\");\n                    }\n                    else {\n                        // \n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            //  p \n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // \n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                //  input \n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // \n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\".concat(taskItemElement.getAttribute(\"data-marker\"), \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\"));\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        //  hr hr \n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table  https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                //  hr \n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, fileReader_1, file_1, range, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") !== \"true\") {\n                    return [2 /*return*/];\n                }\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types.includes(\"Files\")) {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    if (vditor.options.upload.renderLinkDest) {\n                        return vditor.options.upload.renderLinkDest(vditor, node, entering);\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\".concat(original_1, \"\\\"]\"));\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                };\n                // \n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a>\") ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a><!--EndFragment-->\")) {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                textHTML = Lute.Sanitize(textHTML);\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // \n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\".concat(vditor.currentMode, \"__preview\"))) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 10];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 10];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 5];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                if (!!vditor.options.upload.base64ToLink) return [3 /*break*/, 4];\n                // word  link: <v:imagedata src=\"file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png\" o:title=\"\">\n                return [4 /*yield*/, processVMLImage(vditor, tempElement, (\"clipboardData\" in event ? event.clipboardData : event.dataTransfer).getData(\"text/rtf\"))];\n            case 3:\n                // word  link: <v:imagedata src=\"file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png\" o:title=\"\">\n                _b.sent();\n                _b.label = 4;\n            case 4:\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 10];\n            case 5:\n                if (!(files.length > 0)) return [3 /*break*/, 9];\n                if (!(vditor.options.upload.url || vditor.options.upload.handler)) return [3 /*break*/, 7];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 8];\n            case 7:\n                fileReader_1 = new FileReader();\n                if (\"clipboardData\" in event) {\n                    files = event.clipboardData.files;\n                    file_1 = files[0];\n                }\n                else if (event.dataTransfer.types.includes(\"Files\")) {\n                    files = event.dataTransfer.items;\n                    file_1 = files[0].getAsFile();\n                }\n                if (file_1 && file_1.type.startsWith(\"image\")) {\n                    fileReader_1.readAsDataURL(file_1);\n                    fileReader_1.onload = function () {\n                        var imgHTML = \"\";\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            imgHTML += \"<img alt=\\\"\".concat(file_1.name, \"\\\" src=\\\"\").concat(fileReader_1.result.toString(), \"\\\">\\n\");\n                        }\n                        else {\n                            imgHTML += \"![\".concat(file_1.name, \"](\").concat(fileReader_1.result.toString(), \")\\n\");\n                        }\n                        document.execCommand(\"insertHTML\", false, imgHTML);\n                    };\n                }\n                _b.label = 8;\n            case 8: return [3 /*break*/, 10];\n            case 9:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    range = (0,selection/* getEditorRange */.zh)(vditor);\n                    if (range.toString() !== \"\" && vditor.lute.IsValidLinkDest(textPlain)) {\n                        textPlain = \"[\".concat(range.toString(), \"](\").concat(textPlain, \")\");\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(Lute.Sanitize(vditor.lute.Md2VditorIRDOM(textPlain)), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(Lute.Sanitize(vditor.lute.Md2VditorDOM(textPlain)), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 10;\n            case 10:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar processVMLImage = function (vditor, root, rtfData) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var regexPictureHeader, regexPicture, regImages, images, _i, regImages_1, image, imageType, shapes, i, img, newSrc, imgs, i, src, _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!rtfData) {\n                    return [2 /*return*/];\n                }\n                regexPictureHeader = /{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?({\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s}]*?/;\n                regexPicture = new RegExp(\"(?:(\" + regexPictureHeader.source + \"))([\\\\da-fA-F\\\\s]+)\\\\}\", \"g\");\n                regImages = rtfData.match(regexPicture);\n                images = [];\n                if (regImages) {\n                    for (_i = 0, regImages_1 = regImages; _i < regImages_1.length; _i++) {\n                        image = regImages_1[_i];\n                        imageType = void 0;\n                        if (image.includes(\"\\\\pngblip\")) {\n                            imageType = \"image/png\";\n                        }\n                        else if (image.includes(\"\\\\jpegblip\")) {\n                            imageType = \"image/jpeg\";\n                        }\n                        if (imageType) {\n                            images.push({\n                                hex: image.replace(regexPictureHeader, \"\").replace(/[^\\da-fA-F]/g, \"\"),\n                                type: imageType,\n                            });\n                        }\n                    }\n                }\n                shapes = [];\n                walk(root, function (child) {\n                    if (child.tagName === \"V:SHAPE\") {\n                        walk(child, function (sub) {\n                            if (sub.tagName === \"V:IMAGEDATA\")\n                                shapes.push({ shape: child, img: sub });\n                        });\n                        return false;\n                    }\n                });\n                for (i = 0; i < shapes.length; i++) {\n                    img = document.createElement(\"img\");\n                    newSrc = \"data:\" + images[i].type + \";base64,\" + btoa((images[i].hex.match(/\\w{2}/g) || []).map(function (char) {\n                        return String.fromCharCode(parseInt(char, 16));\n                    }).join(\"\"));\n                    img.src = newSrc;\n                    img.title = shapes[i].img.getAttribute(\"title\");\n                    shapes[i].shape.parentNode.replaceChild(img, shapes[i].shape);\n                }\n                imgs = root.querySelectorAll(\"img\");\n                i = 0;\n                _b.label = 1;\n            case 1:\n                if (!(i < imgs.length)) return [3 /*break*/, 4];\n                src = imgs[i].src || \"\";\n                if (!src) return [3 /*break*/, 3];\n                _a = imgs[i];\n                return [4 /*yield*/, vditor.options.upload.base64ToLink(src)];\n            case 2:\n                _a.src = _b.sent();\n                _b.label = 3;\n            case 3:\n                i++;\n                return [3 /*break*/, 1];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\nvar walk = function (el, fn) {\n    var goNext = fn(el);\n    if (goNext !== false)\n        for (var i = 0; i < el.children.length; i++) {\n            walk(el.children[i], fn);\n        }\n};\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    var _a, _b;\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // \n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            (vditor.options.preview.hljs.langs || constants/* Constants.ALIAS_CODE_LANGUAGES.concat */.g.ALIAS_CODE_LANGUAGES.concat(((_b = (_a = window.hljs) === null || _a === void 0 ? void 0 : _a.listLanguages()) !== null && _b !== void 0 ? _b : []).sort())).forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // \n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // \n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", \"<wbr>)\"));\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                if (commandName === \"code\") {\n                    html = \"\".concat(prefix, \"\\n\").concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else if (commandName === \"table\") {\n                    html = \"\".concat(prefix).concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else {\n                    html = \"\".concat(prefix).concat(range.toString()).concat(suffix, \"<wbr>\");\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\nvar hint_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar hint_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // \n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3) {\n                var startContainer = range.startContainer;\n                var inputElement = void 0;\n                if (startContainer.classList.contains(\"vditor-input\")) {\n                    inputElement = startContainer;\n                }\n                else {\n                    inputElement = startContainer.firstElementChild;\n                }\n                if (inputElement && inputElement.classList.contains(\"vditor-input\")) {\n                    inputElement.value = value.trimRight();\n                    range.selectNodeContents(inputElement);\n                    range.collapse(false);\n                    // {detail: 1}\n                    // \n                    inputElement.dispatchEvent(new CustomEvent(\"input\", { detail: 1 }));\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\".concat(emojiHint_1[keyName], \"\\\" title=\\\":\").concat(keyName, \":\\\"/> :\").concat(keyName, \":\"),\n                                value: \":\".concat(keyName, \":\"),\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\".concat(emojiHint_1[keyName], \"</span>\").concat(keyName),\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () { return hint_awaiter(_this, void 0, void 0, function () {\n                            var _a;\n                            return hint_generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _a = this.genHTML;\n                                        return [4 /*yield*/, item.hint(key)];\n                                    case 1:\n                                        _a.apply(this, [_b.sent(), key, vditor]);\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button type=\\\"button\\\" data-value=\\\"\".concat(encodeURIComponent(hintData.value), \" \\\"\\n\").concat(i === 0 ? \"class='vditor-hint--current'\" : \"\", \"> \").concat(html, \"</button>\");\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = \"\".concat(y + (lineHeight || 22), \"px\");\n        this.element.style.left = \"\".concat(x, \"px\");\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint \n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = \"\".concat(y - this.element.offsetHeight, \"px\");\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\");\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                process_processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // \n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // \n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // \n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(aElement.querySelector(\":scope > .vditor-ir__marker--link\"));\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                }\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681  eventTarget  range  range \n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                //  table br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR \n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // /html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(214);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(436);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\".concat(outlineLabel, \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\");\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.previewElement, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show, focus) {\n        var _a;\n        if (show === void 0) { show = true; }\n        if (focus === void 0) { focus = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (focus && getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(280);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        this.previewElement = document.createElement(\"div\");\n        this.previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            this.previewElement.classList.add(vditor.options.classes.preview);\n        }\n        this.previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        this.previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement, \"default\");\n            event.preventDefault();\n        });\n        this.previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = _this.previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"A\") {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(event.target);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(event.target.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                if (vditor.options.image.preview) {\n                    vditor.options.image.preview(event.target);\n                }\n                else if (vditor.options.image.isPreview) {\n                    (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n                }\n            }\n        });\n        this.element.appendChild(this.previewElement);\n        var actions = vditor.options.preview.actions;\n        if (actions.length === 0) {\n            return;\n        }\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\".concat(action.key, \"\\\" class=\\\"\").concat(action.className, \"\\\"\").concat(action.tooltip ? \" aria-label=\\\"\".concat(action.tooltip, \"\\\"\") : \"\", \"\\\">\").concat(action.text, \"</button>\"));\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.previewElement.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                _this.previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                _this.previewElement.style.width = \"780px\";\n            }\n            else {\n                _this.previewElement.style.width = \"360px\";\n            }\n            if (_this.previewElement.scrollWidth > _this.previewElement.parentElement.clientWidth) {\n                _this.previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n        this.element.insertBefore(actionElement, this.previewElement);\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.previewElement.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.previewElement.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.previewElement.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.previewElement.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.previewElement.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.previewElement, vditor.options.preview.hljs);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.previewElement, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,markmapRender/* markmapRender */.K)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,SMILESRender/* SMILESRender */.J)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.previewElement, vditor.options.cdn);\n        if (vditor.options.preview.render.media.enable) {\n            (0,mediaRender/* mediaRender */.Y)(vditor.preview.previewElement);\n        }\n        vditor.options.customRenders.forEach(function (item) {\n            item.render(vditor.preview.previewElement, vditor);\n        });\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.previewElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\".concat(item.getAttribute(\"data-math\"), \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\");\n            });\n        }\n        // \n        copyElement.style.backgroundColor = \"#fff\";\n        // \n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        copyElement.remove();\n        vditor.tip.show(['zhihu', 'mp-wechat'].includes(type) ? \"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\".concat(type === \"zhihu\" ? \"\" : \"\", \"\\u8FDB\\u884C\\u7C98\\u8D34\") : \"\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\".concat(vditor.options.resize.position);\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\");\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n        }\n        else {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"</div>\");\n            setTimeout(function () {\n                _this.hide();\n            }, time);\n        }\n        // \n        this.element.removeAttribute(\"style\");\n        setTimeout(function () {\n            var rect = _this.element.getBoundingClientRect();\n            if (rect.top < 46) {\n                _this.element.style.position = \"fixed\";\n                _this.element.style.top = \"46px\";\n            }\n        }, 150);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(580);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\".concat(theme, \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\".concat(key, \"\\\">\").concat(vditor.options.preview.theme.list[key], \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = \"\".concat(length, \"/\").concat(vditor.options.counter.max);\n        }\n        else {\n            this.element.innerHTML = \"\".concat(length);\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\".concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\"><img\\ndata-value=\\\":\").concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\").concat(emojiValue, \"\\\"/></button>\");\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\".concat(emojiValue, \" \\\"\\n data-key=\\\"\").concat(key, \"\\\"><span class=\\\"vditor-emojis__icon\\\">\").concat(emojiValue, \"</span></button>\");\n            }\n        });\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \".concat(vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80, \"px\\\">\").concat(commonEmojiHTML, \"</div><div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\").concat(vditor.options.hint.emojiTail || \"\", \"</span>\\n</div>\");\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.firstElementChild, menuItem.level);\n        _this.bindEvent(vditor);\n        return _this;\n    }\n    Emoji.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.lastElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                event.preventDefault();\n                var value = btnElement.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                    if (!(0,hasClosest/* hasClosestBlock */.F9)(range.startContainer)) {\n                        modifyPre(vditor, range);\n                    }\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                _this.element.lastElementChild.style.display = \"none\";\n                execAfterRender(vditor);\n            }\n        });\n        this.element.lastElementChild.addEventListener(\"mouseover\", function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                _this.element.querySelector(\".vditor-emojis__tip\").innerHTML = btnElement.getAttribute(\"data-key\");\n            }\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"#vditorExportIframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\" style=\\\"width: 800px\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    cdn: \\\"\").concat(vditor.options.cdn, \"\\\",\\n    markdown: {\\n      theme: \").concat(JSON.stringify(vditor.options.preview.theme), \"\\n    },\\n    hljs: {\\n      style: \\\"\").concat(vditor.options.preview.hljs.style, \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\"));\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/i18n/\").concat(vditor.options.lang, \".js\\\"></script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\").concat(content, \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\").concat(vditor.options.preview.theme.current, \"', '\").concat(vditor.options.preview.theme.path, \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\").concat(JSON.stringify(vditor.options.preview.hljs), \", previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\").concat(vditor.options.cdn, \"',\\n        math: \").concat(JSON.stringify(vditor.options.preview.math), \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.SMILESRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.markmapRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.flowchartRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.graphvizRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.chartRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.mindmapRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.abcRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    \").concat(vditor.options.preview.render.media.enable ? 'Vditor.mediaRender(previewElement);' : \"\", \"\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/icons/\").concat(vditor.options.icon, \".js\\\"></script></body></html>\");\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                        vditor.options.toolbar.forEach(function (item) {\n                            if (typeof item !== \"string\" && item.tipPosition && item.name === svgElement.dataset.type) {\n                                svgElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(item.tipPosition);\n                            }\n                        });\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\".concat(window.VditorI18n.heading1, \" \").concat((0,compatibility/* updateHotkeyTip */.ns)(\"&lt;1>\"), \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\").concat(window.VditorI18n.heading2, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"2\"), \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\").concat(window.VditorI18n.heading3, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"3\"), \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\").concat(window.VditorI18n.heading4, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"4\"), \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\").concat(window.VditorI18n.heading5, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"5\"), \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\").concat(window.VditorI18n.heading6, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"6\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            // https://github.com/Vanessa219/vditor/issues/1391\n            clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n            clearTimeout(vditor.ir.processTimeoutId);\n            clearTimeout(vditor.sv.processTimeoutId);\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://unpkg.com/vditor/dist/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript \\u4EE5\\u53CA Vue\\u3001React\\u3001Angular \\u548C Svelte \\u7B49\\u6846\\u67B6\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\".concat(constants/* VDITOR_VERSION */.H, \" / Lute v\").concat(Lute.Version, \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\"), 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\".concat((new Date()).getTime(), \".wav\"), { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\".concat(vditor.options.upload.accept, \"\\\"\");\n        }\n        _this.element.children[0].innerHTML = \"\".concat((menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>')).concat(inputHTML, \">\");\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.updateConfig = function (vditor, options) {\n        vditor.options.toolbarConfig = Object.assign({\n            hide: false,\n            pin: false,\n        }, options);\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--pin\");\n        }\n    };\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/.pnpm/diff-match-patch@1.0.5/node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(173);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo  hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox \n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown  input \n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            //  undo  ctrl  lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        //  setSelectionFocus(cloneRange);  windows chrome \n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts  debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview\"))\n                .forEach(function (blockElement) {\n                if (blockElement.parentElement.querySelector(\".language-echarts\")) {\n                    if (vditor.currentMode === \"ir\") {\n                        blockElement.parentElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.parentElement.outerHTML);\n                    }\n                    else {\n                        blockElement.parentElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.parentElement.outerHTML);\n                    }\n                }\n            });\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari \n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        renderToc(vditor);\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // echart  https://github.com/Vanessa219/vditor/issues/1738\n        var cloneElement = vditor[vditor.currentMode].element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='1']\"))\n            .forEach(function (item) {\n            if (!item.firstElementChild) {\n                return;\n            }\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            else if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = cloneElement.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            //  item.outerHTML = \"\"  https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(673);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            rtl: false,\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            customRenders: [],\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"\",\n                    \"-1\": \"\",\n                    \"confused\": \"\",\n                    \"eyes\": \"\",\n                    \"heart\": \"\",\n                    \"rocket\": \"\",\n                    \"smile\": \"\",\n                    \"tada\": \"\",\n                },\n                emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n                render: {\n                    media: {\n                        enable: true,\n                    }\n                }\n            },\n            link: {\n                isOpen: true,\n            },\n            image: {\n                isPreview: true,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_e = (_d = (_c = this.options.preview) === null || _c === void 0 ? void 0 : _c.render) === null || _d === void 0 ? void 0 : _d.media) === null || _e === void 0 ? void 0 : _e.enable) {\n                this.defaultOptions.preview.render.media.enable = this.options.preview.render.media.enable;\n            }\n            if ((_f = this.options.hint) === null || _f === void 0 ? void 0 : _f.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n            if (this.options.cdn) {\n                if (!((_h = (_g = this.options.preview) === null || _g === void 0 ? void 0 : _g.theme) === null || _h === void 0 ? void 0 : _h.path)) {\n                    this.defaultOptions.preview.theme.path = \"\".concat(this.options.cdn, \"/dist/css/content-theme\");\n                }\n                if (!((_j = this.options.hint) === null || _j === void 0 ? void 0 : _j.emojiPath)) {\n                    this.defaultOptions.hint.emojiPath = \"\".concat(this.options.cdn, \"/dist/images/emoji\");\n                }\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \";\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\").concat(window.VditorI18n.comment, \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\");\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\".concat(id, \"\\\"]\")).offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\".concat(position.left, \"px;display:block;top:\").concat(Math.max(-8, position.top - 21), \"px\"));\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.unbindListener = function () {\n        window.removeEventListener(\"scroll\", this.scrollListener);\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\".concat(aTitle, \"\\\"\");\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\".concat(range.toString(), \"](\").concat(aElement.getAttribute(\"href\")).concat(aTitle, \")\"));\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.unbindListener();\n        window.addEventListener(\"scroll\", this.scrollListener = function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // \n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading  https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                afterRenderEvent(vditor);\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // \n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // \n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // \n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // \n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/729\n            if (endSpace && /^#{1,6} $/.test(blockElement.textContent)) {\n                endSpace = false;\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading  https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n            // https://github.com/Vanessa219/vditor/issues/1565\n            if (event.inputType === \"insertParagraph\" && _this.element.innerHTML === '<p><br></p><p><br></p>') {\n                blockElement.previousElementSibling.remove();\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                if (getSelection().rangeCount > 0) {\n                    (0,selection/* setSelectionFocus */.Hc)(getSelection().getRangeAt(0));\n                }\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml \n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // \n            var a = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"A\");\n            if (a) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(a);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(a.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            //  md cell table /block render / blockquoteh6 \n            // \n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // \n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table \n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // \n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // \n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id  Vditor  ID\n     * @param options Vditor \n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.isDestroyed = false;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\".concat(id),\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\".concat(id) };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\".concat(id);\n            }\n            if (!document.getElementById(id)) {\n                _this.showErrorTip(\"Failed to get element by id: \".concat(id));\n                return _this;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // \n        if (!mergedOptions.i18n) {\n            if (![\"de_DE\", \"en_US\", \"es_ES\", \"fr_FR\", \"ja_JP\", \"ko_KR\", \"pt_BR\", \"ru_RU\", \"sv_SE\", \"vi_VN\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                var i18nScriptPrefix = \"vditorI18nScript\";\n                var i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1).then(function () {\n                    _this.init(id, mergedOptions);\n                }).catch(function (error) {\n                    _this.showErrorTip(\"GET \".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js net::ERR_ABORTED 404 (Not Found)\"));\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    Vditor.prototype.showErrorTip = function (error) {\n        var tip = new Tip();\n        document.body.appendChild(tip.element);\n        tip.show(error, 0);\n    };\n    Vditor.prototype.updateToolbarConfig = function (options) {\n        this.vditor.toolbar.updateConfig(this.vditor, options);\n    };\n    /**  */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /**  Markdown  */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /**  */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /**  */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /**  */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /**  */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /**  */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /**  */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /**  */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /**  */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /**  */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /**  */\n    Vditor.prototype.clearCache = function () {\n        if (this.vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.removeItem(this.vditor.options.cache.id);\n        }\n    };\n    /**  */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /**  */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML  md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown  JSON  */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /**  HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** time  0  */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /**  */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /**  */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /**  */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /**  Markdown  */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        // https://github.com/Vanessa219/vditor/issues/716\n        // https://github.com/Vanessa219/vditor/issues/917\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        range.collapse(false);\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            //  https://github.com/Vanessa219/vditor/issues/1566  this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /**  Markdown */\n    Vditor.prototype.insertMD = function (md) {\n        // https://github.com/Vanessa219/vditor/issues/1640\n        if (this.vditor.currentMode === \"ir\") {\n            (0,selection/* insertHTML */.oC)(this.vditor.lute.Md2VditorIRDOM(md), this.vditor);\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            (0,selection/* insertHTML */.oC)(this.vditor.lute.Md2VditorDOM(md), this.vditor);\n        }\n        else {\n            processPaste(this.vditor, md);\n        }\n        this.vditor.outline.render(this.vditor);\n        execAfterRender(this.vditor);\n    };\n    /**  */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = \"<div data-block='0'>\".concat(this.vditor.lute.SpinVditorSVDOM(markdown), \"</div>\");\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /**  */\n    Vditor.prototype.insertEmptyBlock = function (position) {\n        insertEmptyBlock(this.vditor, position);\n    };\n    /**  undo & redo  */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /**  */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        var iconScript = document.getElementById(\"vditorIconScript\");\n        if (iconScript) {\n            iconScript.remove();\n        }\n        this.clearCache();\n        UIUnbindListener();\n        this.vditor.wysiwyg.unbindListener();\n        this.vditor.options.after = undefined;\n        this.isDestroyed = true;\n    };\n    /**  ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /**  */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /**  */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /**  */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        if (this.isDestroyed) {\n            return;\n        }\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            \"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                gfmAutoLink: _this.vditor.options.preview.markdown.gfmAutoLink,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                //  2  2 \n                (0,addScript/* addScriptSync */.J)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method[\"default\"]));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","<template>\n  <div class=\"markdown-editor\">\n    <div class=\"header\">\n      <button @click=\"goToHome\" class=\"home-btn\"> </button>\n      <h1>Markdown </h1>\n    </div>\n\n    <div class=\"toolbar-actions\">\n      <button @click=\"downloadMarkdown\" class=\"action-btn\">  MD</button>\n      <div class=\"pdf-export-group\">\n        <button @click=\"downloadPDF\" class=\"action-btn\">  PDF</button>\n        <select v-model=\"pdfStyleTheme\" class=\"theme-selector\">\n          <option value=\"github\">GitHub </option>\n          <option value=\"minimal\"></option>\n        </select>\n      </div>\n      <button @click=\"clearContent\" class=\"clear-btn\"> </button>\n    </div>\n\n    <div id=\"vditor\" class=\"vditor-container\"></div>\n\n    <div v-if=\"successMessage\" class=\"success-message\">\n      {{ successMessage }}\n    </div>\n\n    <div v-if=\"error\" class=\"error-message\">\n      {{ error }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vditor from 'vditor';\nimport 'vditor/dist/index.css';\nimport html2pdf from 'html2pdf.js';\n\nexport default {\n  name: 'MarkdownEditor',\n  data() {\n    return {\n      vditor: null,\n      successMessage: '',\n      error: '',\n      pdfStyleTheme: 'github'\n    };\n  },\n  mounted() {\n    this.initVditor();\n  },\n  beforeUnmount() {\n    if (this.vditor) {\n      this.vditor.destroy();\n    }\n  },\n  methods: {\n    generateTimestamp() {\n      return new Date().toISOString().replace(/[:.]/g, '-').split('T')[0];\n    },\n\n    getPdfStyleSheet() {\n      const commonRules = `\n        * { \n          box-sizing: border-box; \n        }\n        \n        /* Prevent content from breaking badly across pages */\n        h1, h2, h3, h4, h5, h6 { \n          page-break-after: avoid; \n          break-after: avoid;\n        }\n        \n        pre, blockquote, table { \n          page-break-inside: avoid; \n          break-inside: avoid;\n        }\n        \n        img { \n          page-break-inside: avoid;\n          break-inside: avoid; \n          max-width: 100%;\n          height: auto;\n        }\n        \n        p, li {\n          orphans: 3;\n          widows: 3;\n        }\n      `;\n\n      const githubTheme = `\n        body { \n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;\n          font-size: 16px;\n          line-height: 1.6;\n          color: #24292f;\n          word-wrap: break-word;\n        }\n        \n        h1 { \n          font-size: 2em; \n          font-weight: 600;\n          padding-bottom: 0.3em;\n          border-bottom: 1px solid #d0d7de;\n          margin-top: 24px;\n          margin-bottom: 16px;\n        }\n        \n        h2 { \n          font-size: 1.5em; \n          font-weight: 600;\n          padding-bottom: 0.3em;\n          border-bottom: 1px solid #d0d7de;\n          margin-top: 24px;\n          margin-bottom: 16px;\n        }\n        \n        h3 { \n          font-size: 1.25em; \n          font-weight: 600;\n          margin-top: 24px;\n          margin-bottom: 16px;\n        }\n        \n        h4 { \n          font-size: 1em; \n          font-weight: 600;\n          margin-top: 24px;\n          margin-bottom: 16px;\n        }\n        \n        h5, h6 { \n          font-size: 0.875em; \n          font-weight: 600;\n          margin-top: 24px;\n          margin-bottom: 16px;\n        }\n        \n        p { \n          margin-top: 0;\n          margin-bottom: 16px; \n        }\n        \n        code { \n          background-color: rgba(175,184,193,0.2);\n          border-radius: 6px;\n          padding: 0.2em 0.4em;\n          font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;\n          font-size: 85%;\n        }\n        \n        pre { \n          background-color: #f6f8fa;\n          border-radius: 6px;\n          padding: 16px;\n          overflow: auto;\n          font-size: 85%;\n          line-height: 1.45;\n        }\n        \n        pre code {\n          background-color: transparent;\n          padding: 0;\n        }\n        \n        blockquote { \n          border-left: 0.25em solid #d0d7de;\n          padding: 0 1em;\n          color: #57606a;\n          margin: 0 0 16px 0;\n        }\n        \n        ul, ol {\n          margin-top: 0;\n          margin-bottom: 16px;\n          padding-left: 2em;\n        }\n        \n        li + li {\n          margin-top: 0.25em;\n        }\n        \n        table { \n          border-collapse: collapse;\n          border-spacing: 0;\n          width: 100%;\n          margin-top: 0;\n          margin-bottom: 16px;\n        }\n        \n        table th { \n          font-weight: 600;\n          background-color: #f6f8fa;\n        }\n        \n        table th, table td { \n          border: 1px solid #d0d7de;\n          padding: 6px 13px;\n        }\n        \n        table tr {\n          background-color: #ffffff;\n          border-top: 1px solid #d0d7de;\n        }\n        \n        table tr:nth-child(2n) {\n          background-color: #f6f8fa;\n        }\n        \n        a {\n          color: #0969da;\n          text-decoration: none;\n        }\n        \n        a:hover {\n          text-decoration: underline;\n        }\n        \n        hr {\n          height: 0.25em;\n          padding: 0;\n          margin: 24px 0;\n          background-color: #d0d7de;\n          border: 0;\n        }\n      `;\n\n      const minimalTheme = `\n        body { \n          font-family: Georgia, 'Times New Roman', serif;\n          font-size: 14px;\n          line-height: 1.8;\n          color: #333;\n        }\n        \n        h1, h2, h3, h4, h5, h6 { \n          font-weight: bold;\n          margin-top: 20px;\n          margin-bottom: 12px;\n          color: #000;\n        }\n        \n        h1 { font-size: 1.8em; }\n        h2 { font-size: 1.5em; }\n        h3 { font-size: 1.3em; }\n        h4, h5, h6 { font-size: 1.1em; }\n        \n        p { margin-bottom: 14px; }\n        \n        code { \n          background-color: #f4f4f4;\n          padding: 2px 6px;\n          font-family: 'Courier New', monospace;\n          font-size: 90%;\n        }\n        \n        pre { \n          background-color: #f8f8f8;\n          padding: 12px;\n          border-left: 3px solid #ccc;\n          overflow-x: auto;\n        }\n        \n        blockquote { \n          border-left: 3px solid #999;\n          padding-left: 12px;\n          color: #666;\n          font-style: italic;\n          margin: 0 0 14px 0;\n        }\n        \n        table { \n          border-collapse: collapse;\n          width: 100%;\n          margin-bottom: 14px;\n        }\n        \n        table th, table td { \n          border: 1px solid #ccc;\n          padding: 8px;\n          text-align: left;\n        }\n        \n        table th {\n          background-color: #f0f0f0;\n        }\n      `;\n\n      return commonRules + (this.pdfStyleTheme === 'github' ? githubTheme : minimalTheme);\n    },\n\n    initVditor() {\n      this.vditor = new Vditor('vditor', {\n        height: 600,\n        mode: 'ir', // Instant rendering mode (similar to Typora)\n        placeholder: ' Markdown ...',\n        theme: 'classic',\n        icon: 'ant',\n        lang: 'en_US', // Use English to avoid CDN language file loading issues\n        toolbar: [\n          'emoji',\n          'headings',\n          'bold',\n          'italic',\n          'strike',\n          'link',\n          '|',\n          'list',\n          'ordered-list',\n          'check',\n          'outdent',\n          'indent',\n          '|',\n          'quote',\n          'line',\n          'code',\n          'inline-code',\n          'insert-before',\n          'insert-after',\n          '|',\n          'table',\n          '|',\n          'undo',\n          'redo',\n          '|',\n          'edit-mode',\n          'fullscreen',\n          'outline',\n          'preview',\n          'help'\n        ],\n        counter: {\n          enable: true,\n          type: 'markdown'\n        },\n        cache: {\n          enable: true,\n          id: 'vditor-cache'\n        },\n        preview: {\n          hljs: {\n            enable: true,\n            lineNumber: true,\n            style: 'github'\n          },\n          markdown: {\n            toc: true,\n            mark: true,\n            footnotes: true,\n            autoSpace: true\n          },\n          math: {\n            engine: 'KaTeX'\n          }\n        },\n        upload: {\n          max: 10 * 1024 * 1024, // 10MB\n          accept: 'image/*'\n        }\n      });\n    },\n\n    goToHome() {\n      this.$router.push('/');\n    },\n\n    downloadMarkdown() {\n      try {\n        if (!this.vditor) {\n          this.error = '';\n          return;\n        }\n\n        const content = this.vditor.getValue();\n        if (!content || content.trim() === '') {\n          this.error = '';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n          return;\n        }\n\n        const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        \n        link.download = `markdown-${this.generateTimestamp()}.md`;\n        \n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n\n        this.successMessage = 'Markdown ';\n        setTimeout(() => {\n          this.successMessage = '';\n        }, 2000);\n      } catch (err) {\n        this.error = `: ${err.message}`;\n        setTimeout(() => {\n          this.error = '';\n        }, 3000);\n      }\n    },\n\n    async downloadPDF() {\n      try {\n        if (!this.vditor) {\n          this.error = '';\n          return;\n        }\n\n        const content = this.vditor.getValue();\n        if (!content || content.trim() === '') {\n          this.error = '';\n          setTimeout(() => {\n            this.error = '';\n          }, 3000);\n          return;\n        }\n\n        const renderedHtml = this.vditor.getHTML();\n        \n        const containerDiv = document.createElement('div');\n        containerDiv.style.padding = '30px';\n        containerDiv.style.backgroundColor = '#ffffff';\n        containerDiv.innerHTML = `<style>${this.getPdfStyleSheet()}</style>${renderedHtml}`;\n\n        const pdfOptions = {\n          margin: { top: 15, right: 15, bottom: 15, left: 15 },\n          filename: `markdown-${this.generateTimestamp()}.pdf`,\n          image: { type: 'jpeg', quality: 0.95 },\n          html2canvas: { \n            scale: 2,\n            useCORS: true,\n            letterRendering: true,\n            logging: false\n          },\n          jsPDF: { \n            unit: 'mm', \n            format: 'a4', \n            orientation: 'portrait',\n            compress: true\n          },\n          pagebreak: { \n            // Multiple modes for maximum compatibility:\n            // - 'avoid-all': tries to avoid all breaks\n            // - 'css': respects CSS page-break rules  \n            // - 'legacy': fallback for older browsers\n            mode: ['avoid-all', 'css', 'legacy'],\n            before: '.page-break-before',\n            after: '.page-break-after',\n            avoid: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'img', 'table', 'pre', 'blockquote']\n          }\n        };\n\n        await html2pdf().set(pdfOptions).from(containerDiv).save();\n\n        this.successMessage = 'PDF ';\n        setTimeout(() => {\n          this.successMessage = '';\n        }, 2000);\n      } catch (err) {\n        this.error = `PDF : ${err.message}`;\n        setTimeout(() => {\n          this.error = '';\n        }, 3000);\n      }\n    },\n\n    clearContent() {\n      if (this.vditor && confirm('')) {\n        this.vditor.setValue('');\n        localStorage.removeItem('vditor-cache');\n        this.successMessage = '';\n        setTimeout(() => {\n          this.successMessage = '';\n        }, 2000);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.markdown-editor {\n  padding: 20px;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.header {\n  position: relative;\n  margin-bottom: 20px;\n}\n\n.home-btn {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #95a5a6;\n  color: white;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.3s;\n}\n\n.home-btn:hover {\n  background-color: #7f8c8d;\n}\n\nh1 {\n  text-align: center;\n  color: #2c3e50;\n  margin-bottom: 0;\n}\n\n.toolbar-actions {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n  margin-bottom: 20px;\n  align-items: center;\n}\n\n.pdf-export-group {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.theme-selector {\n  padding: 10px 12px;\n  border: 1px solid #3498db;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  background-color: white;\n  color: #2c3e50;\n  transition: border-color 0.3s;\n}\n\n.theme-selector:hover {\n  border-color: #2980b9;\n}\n\n.theme-selector:focus {\n  outline: none;\n  border-color: #2980b9;\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);\n}\n\n.action-btn,\n.clear-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.3s;\n  color: white;\n}\n\n.action-btn {\n  background-color: #3498db;\n}\n\n.action-btn:hover {\n  background-color: #2980b9;\n}\n\n.clear-btn {\n  background-color: #e74c3c;\n}\n\n.clear-btn:hover {\n  background-color: #c0392b;\n}\n\n.vditor-container {\n  margin-bottom: 20px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.success-message {\n  color: #27ae60;\n  text-align: center;\n  padding: 10px;\n  background-color: #d4edda;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  animation: fadeIn 0.3s;\n}\n\n.error-message {\n  color: #e74c3c;\n  text-align: center;\n  padding: 10px;\n  background-color: #fadbd8;\n  border-radius: 4px;\n  animation: fadeIn 0.3s;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@media (max-width: 768px) {\n  .markdown-editor {\n    padding: 10px;\n  }\n\n  .toolbar-actions {\n    flex-direction: column;\n  }\n\n  .action-btn,\n  .clear-btn {\n    width: 100%;\n  }\n}\n</style>\n","import { render } from \"./MarkdownEditor.vue?vue&type=template&id=36d5feb0&scoped=true\"\nimport script from \"./MarkdownEditor.vue?vue&type=script&lang=js\"\nexport * from \"./MarkdownEditor.vue?vue&type=script&lang=js\"\n\nimport \"./MarkdownEditor.vue?vue&type=style&index=0&id=36d5feb0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36d5feb0\"]])\n\nexport default __exports__"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","ar","l","slice","concat","Bounds","left","top","width","height","add","x","w","h","fromClientRect","context","clientRect","windowBounds","fromDOMRectList","domRectList","domRect","find","rect","EMPTY","parseBounds","node","getBoundingClientRect","parseDocumentSize","document","documentElement","Error","Math","max","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","toCodePoints$1","str","codePoints","charCodeAt","extra","fromCodePoint$1","_i","fromCodePoint","codeUnits","index","codePoint","fromCharCode","chars$2","lookup$2","Uint8Array","i$2","chars$1$1","lookup$1$1","i$1$1","decode$1","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","len","buffer","ArrayBuffer","bytes","isArray","polyUint16Array$1","polyUint32Array$1","UTRIE2_SHIFT_2$1","UTRIE2_SHIFT_1$1","UTRIE2_INDEX_SHIFT$1","UTRIE2_SHIFT_1_2$1","UTRIE2_LSCP_INDEX_2_OFFSET$1","UTRIE2_DATA_BLOCK_LENGTH$1","UTRIE2_DATA_MASK$1","UTRIE2_LSCP_INDEX_2_LENGTH$1","UTRIE2_INDEX_2_BMP_LENGTH$1","UTRIE2_UTF8_2B_INDEX_2_OFFSET$1","UTRIE2_UTF8_2B_INDEX_2_LENGTH$1","UTRIE2_INDEX_1_OFFSET$1","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1","UTRIE2_INDEX_2_BLOCK_LENGTH$1","UTRIE2_INDEX_2_MASK$1","slice16$1","view","start","end","Uint16Array","slice32$1","Uint32Array","createTrieFromBase64$1","_byteLength","view32","view16","headerLength","data","ceil","Trie$1","Trie","initialValue","errorValue","highStart","highValueIndex","get","ix","chars$3","lookup$3","i$3","base64$1","LETTER_NUMBER_MODIFIER","BK","CR$1","LF$1","CM","NL","WJ","ZW","GL","SP","ZWJ$1","B2","BA","BB","HY","CB","CL","CP","EX","IN","NS","OP","QU","IS","NU","PO","PR","SY","AI","AL","CJ","EB","EM","H2","H3","HL","ID","JL","JV","JT","RI$1","SA","XX","ea_OP","BREAK_MANDATORY","BREAK_NOT_ALLOWED$1","BREAK_ALLOWED$1","UnicodeTrie$1","ALPHABETICS","HARD_LINE_BREAKS","SPACE$1","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","codePointsToCharacterClasses","lineBreak","types","indices","categories","forEach","classType","indexOf","prev","isAdjacentWithSpaceIgnored","a","currentIndex","classTypes","current","previousNonSpaceClassType","type","_lineBreakAtIndex","indicies","forbiddenBreaks","beforeIndex","afterIndex","before","prevIndex","count","cssFormattedClasses","options","wordBreak","_a","isLetterNumber","map","forbiddenBreakpoints","letterNumber","undefined","Break","required","LineBreaker","lastEnd","nextIndex","FLAG_UNRESTRICTED","FLAG_ID","FLAG_INTEGER","FLAG_NUMBER","LINE_FEED","SOLIDUS","REVERSE_SOLIDUS","CHARACTER_TABULATION","SPACE","QUOTATION_MARK","EQUALS_SIGN","NUMBER_SIGN","DOLLAR_SIGN","PERCENTAGE_SIGN","APOSTROPHE","LEFT_PARENTHESIS","RIGHT_PARENTHESIS","LOW_LINE","HYPHEN_MINUS","EXCLAMATION_MARK","LESS_THAN_SIGN","GREATER_THAN_SIGN","COMMERCIAL_AT","LEFT_SQUARE_BRACKET","RIGHT_SQUARE_BRACKET","CIRCUMFLEX_ACCENT","LEFT_CURLY_BRACKET","QUESTION_MARK","RIGHT_CURLY_BRACKET","VERTICAL_LINE","TILDE","CONTROL","REPLACEMENT_CHARACTER","ASTERISK","PLUS_SIGN","COMMA","COLON","SEMICOLON","FULL_STOP","NULL","BACKSPACE","LINE_TABULATION","SHIFT_OUT","INFORMATION_SEPARATOR_ONE","DELETE","EOF","ZERO","u","z","A","E","F","U","Z","isDigit","isSurrogateCodePoint","isHex","isLowerCaseLetter","isUpperCaseLetter","isLetter","isNonASCIICodePoint","isWhiteSpace","isNameStartCodePoint","isNameCodePoint","isNonPrintableCodePoint","isValidEscape","c1","c2","isIdentifierStart","c3","isNumberStart","stringToNumber","c","sign","integers","int","parseInt","fraction","fracd","frac","expsign","exponent","exp","pow","LEFT_PARENTHESIS_TOKEN","RIGHT_PARENTHESIS_TOKEN","COMMA_TOKEN","SUFFIX_MATCH_TOKEN","PREFIX_MATCH_TOKEN","COLUMN_TOKEN","DASH_MATCH_TOKEN","INCLUDE_MATCH_TOKEN","LEFT_CURLY_BRACKET_TOKEN","RIGHT_CURLY_BRACKET_TOKEN","SUBSTRING_MATCH_TOKEN","BAD_URL_TOKEN","BAD_STRING_TOKEN","CDO_TOKEN","CDC_TOKEN","COLON_TOKEN","SEMICOLON_TOKEN","LEFT_SQUARE_BRACKET_TOKEN","RIGHT_SQUARE_BRACKET_TOKEN","WHITESPACE_TOKEN","EOF_TOKEN","Tokenizer","_value","write","chunk","read","tokens","token","consumeToken","consumeCodePoint","consumeStringToken","peekCodePoint","flags","consumeName","reconsumeCodePoint","consumeNumericToken","e1","e2","e3","consumeIdentLikeToken","a1","a2","a3","u1","u2","consumeUnicodeRangeToken","consumeWhiteSpace","shift","unshift","delta","digits","questionMarks","start_1","digit","endDigits","toLowerCase","consumeUrlToken","stringToken","consumeBadUrlRemnants","consumeEscapedCodePoint","consumeStringSlice","SLICE_STACK_SIZE","amount","min","splice","endingCodePoint","consumeNumber","repr","number","unit","hex","hexCodePoint","Parser","_tokens","tokenizer","parseValue","parseComponentValue","parseValues","parseComponentValues","SyntaxError","reconsumeToken","consumeComponentValue","values","consumeSimpleBlock","consumeFunction","block","isEndingTokenFor","functionToken","cssFunction","name","isDimensionToken","isNumberToken","isIdentToken","isStringToken","isIdentWithValue","nonWhiteSpace","nonFunctionArgSeparator","parseFunctionArgs","args","arg","isLength","isLengthPercentage","parseLengthPercentageTuple","ZERO_LENGTH","FIFTY_PERCENT","HUNDRED_PERCENT","getAbsoluteValueForTuple","tuple","getAbsoluteValue","parent","DEG","GRAD","RAD","TURN","angle","parse","_context","PI","isAngle","parseNamedSide","sideOrCorner","filter","ident","join","deg","color$1","colorFunction","SUPPORTED_COLOR_FUNCTIONS","r","substring","namedColor","COLORS","toUpperCase","TRANSPARENT","isTransparent","color","asString","alpha","blue","green","red","round","getTokenColorValue","rgb","_b","hue2rgb","t1","t2","hue","hsl","saturation","lightness","hsla","rgba","parseColor","ALICEBLUE","ANTIQUEWHITE","AQUA","AQUAMARINE","AZURE","BEIGE","BISQUE","BLACK","BLANCHEDALMOND","BLUE","BLUEVIOLET","BROWN","BURLYWOOD","CADETBLUE","CHARTREUSE","CHOCOLATE","CORAL","CORNFLOWERBLUE","CORNSILK","CRIMSON","CYAN","DARKBLUE","DARKCYAN","DARKGOLDENROD","DARKGRAY","DARKGREEN","DARKGREY","DARKKHAKI","DARKMAGENTA","DARKOLIVEGREEN","DARKORANGE","DARKORCHID","DARKRED","DARKSALMON","DARKSEAGREEN","DARKSLATEBLUE","DARKSLATEGRAY","DARKSLATEGREY","DARKTURQUOISE","DARKVIOLET","DEEPPINK","DEEPSKYBLUE","DIMGRAY","DIMGREY","DODGERBLUE","FIREBRICK","FLORALWHITE","FORESTGREEN","FUCHSIA","GAINSBORO","GHOSTWHITE","GOLD","GOLDENROD","GRAY","GREEN","GREENYELLOW","GREY","HONEYDEW","HOTPINK","INDIANRED","INDIGO","IVORY","KHAKI","LAVENDER","LAVENDERBLUSH","LAWNGREEN","LEMONCHIFFON","LIGHTBLUE","LIGHTCORAL","LIGHTCYAN","LIGHTGOLDENRODYELLOW","LIGHTGRAY","LIGHTGREEN","LIGHTGREY","LIGHTPINK","LIGHTSALMON","LIGHTSEAGREEN","LIGHTSKYBLUE","LIGHTSLATEGRAY","LIGHTSLATEGREY","LIGHTSTEELBLUE","LIGHTYELLOW","LIME","LIMEGREEN","LINEN","MAGENTA","MAROON","MEDIUMAQUAMARINE","MEDIUMBLUE","MEDIUMORCHID","MEDIUMPURPLE","MEDIUMSEAGREEN","MEDIUMSLATEBLUE","MEDIUMSPRINGGREEN","MEDIUMTURQUOISE","MEDIUMVIOLETRED","MIDNIGHTBLUE","MINTCREAM","MISTYROSE","MOCCASIN","NAVAJOWHITE","NAVY","OLDLACE","OLIVE","OLIVEDRAB","ORANGE","ORANGERED","ORCHID","PALEGOLDENROD","PALEGREEN","PALETURQUOISE","PALEVIOLETRED","PAPAYAWHIP","PEACHPUFF","PERU","PINK","PLUM","POWDERBLUE","PURPLE","REBECCAPURPLE","RED","ROSYBROWN","ROYALBLUE","SADDLEBROWN","SALMON","SANDYBROWN","SEAGREEN","SEASHELL","SIENNA","SILVER","SKYBLUE","SLATEBLUE","SLATEGRAY","SLATEGREY","SNOW","SPRINGGREEN","STEELBLUE","TAN","TEAL","THISTLE","TOMATO","TURQUOISE","VIOLET","WHEAT","WHITE","WHITESMOKE","YELLOW","YELLOWGREEN","backgroundClip","prefix","backgroundColor","format","parseColorStop","stop","processColorStops","stops","lineLength","first","last","processStops","previous","stop_1","absoluteValue","gapBegin","stop_2","gapLength","beforeGap","gapValue","getAngleFromCorner","corner","centerX","centerY","atan2","calculateGradientDirection","radian","abs","sin","cos","halfWidth","halfHeight","halfLineLength","yDiff","xDiff","distance","sqrt","findCorner","closest","corners","reduce","stat","cx","cy","optimumDistance","optimumCorner","Infinity","calculateRadius","gradient","rx","ry","size","shape","linearGradient","angle$1","firstToken","colorStop","prefixLinearGradient","webkitGradient","position","CLOSEST_SIDE","FARTHEST_SIDE","CLOSEST_CORNER","FARTHEST_CORNER","CIRCLE","ELLIPSE","COVER","CONTAIN","radialGradient","isColorStop","isAtPosition_1","acc","prefixRadialGradient","isLinearGradient","background","isRadialGradient","image","image_1","url","cache","addImage","imageFunction","SUPPORTED_IMAGE_FUNCTIONS","isSupportedImage","BACKGROUND_SIZE","backgroundImage","backgroundOrigin","backgroundPosition","backgroundRepeat","parseBackgroundRepeat","LINE_BREAK","backgroundSize","isBackgroundSizeInfoToken","borderColorForSide","side","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderRadiusForSide","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderStyleForSide","style","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderWidthForSide","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","direction","display","bit","parseDisplayValue","float","letterSpacing","WORD_BREAK","STRICT","NORMAL","lineHeight","computeLineHeight","fontSize","listStyleImage","listStylePosition","listStyleType","marginForSide","marginTop","marginRight","marginBottom","marginLeft","overflow","overflowWrap","paddingForSide","paddingTop","paddingRight","paddingBottom","paddingLeft","textAlign","textShadow","shadow","offsetX","offsetY","blur","textTransform","transform$1","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix","matrix3d","b1","b2","a4","b4","DEFAULT_VALUE","DEFAULT","transformOrigin","origins","visibility","BREAK_ALL","KEEP_ALL","zIndex","auto","order","time","opacity","textDecorationColor","textDecorationLine","line","fontFamily","accumulator","results","toString","fontWeight","fontVariant","fontStyle","contains","content","counterIncrement","increments","filtered","counter","increment","counterReset","resets","reset","duration","quotes","open_1","close_1","open","close","getQuote","depth","quote","boxShadow","spread","inset","paintOrder","layers","webkitTextStrokeColor","webkitTextStrokeWidth","CSSParsedDeclaration","declaration","animationDuration","cssFloat","overflowTuple","overflowX","overflowY","textDecoration","transform","isVisible","isTransformed","isPositioned","isPositionedWithZIndex","isFloating","isInlineLevel","CSSParsedPseudoDeclaration","CSSParsedCounterDeclaration","descriptor","parser","length_1","value_1","elementDebuggerAttribute","getElementDebugType","element","attribute","getAttribute","isDebugging","elementType","ElementContainer","textNodes","elements","styles","window","getComputedStyle","isHTMLElementNode","some","bounds","chars$1","lookup$1","i$1","decode","polyUint16Array","polyUint32Array","UTRIE2_SHIFT_2","UTRIE2_SHIFT_1","UTRIE2_INDEX_SHIFT","UTRIE2_SHIFT_1_2","UTRIE2_LSCP_INDEX_2_OFFSET","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_DATA_MASK","UTRIE2_LSCP_INDEX_2_LENGTH","UTRIE2_INDEX_2_BMP_LENGTH","UTRIE2_UTF8_2B_INDEX_2_OFFSET","UTRIE2_UTF8_2B_INDEX_2_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH","UTRIE2_INDEX_2_BLOCK_LENGTH","UTRIE2_INDEX_2_MASK","slice16","slice32","createTrieFromBase64","chars","lookup","PseudoElementType","Prepend","CR","LF","Control","Extend","SpacingMark","L","V","T","LV","LVT","ZWJ","Extended_Pictographic","RI","toCodePoints","UnicodeTrie","BREAK_NOT_ALLOWED","BREAK_ALLOWED","codePointToClass","_graphemeBreakAtIndex","_codePoints","countRI","GraphemeBreaker","graphemeBreak","splitGraphemes","bk","breaker","graphemes","testRangeBounds","TEST_HEIGHT","createRange","range","testElement","createElement","appendChild","selectNode","rangeBounds","rangeHeight","removeChild","testIOSLineBreak","wordSpacing","innerHTML","repeat","firstChild","textList","offset","supports","every","text","setStart","setEnd","boundAhead","testCORS","Image","crossOrigin","testResponseType","XMLHttpRequest","responseType","testSVG","img","canvas","ctx","getContext","src","drawImage","toDataURL","isGreenPixel","testForeignObject","fillStyle","fillRect","greenImageSrc","svg","createForeignObjectSVG","loadSerializedSVG$1","getImageData","catch","xmlns","createElementNS","foreignObject","setAttributeNS","onload","onerror","encodeURIComponent","XMLSerializer","serializeToString","FEATURES","SUPPORT_RANGE_BOUNDS","defineProperty","SUPPORT_WORD_BREAKING","SUPPORT_SVG_DRAWING","SUPPORT_FOREIGNOBJECT_DRAWING","fetch","SUPPORT_CORS_IMAGES","SUPPORT_RESPONSE_TYPE","SUPPORT_CORS_XHR","SUPPORT_NATIVE_TEXT_SEGMENTATION","Intl","Segmenter","TextBounds","parseTextBounds","breakText","textBounds","trim","clientRects","getClientRects","subSegments","segmentGraphemes","subOffset_1","subSegment","replacementNode","splitText","getWrapperBounds","ownerDocument","wrapper","cloneNode","parentNode","replaceChild","segmenter","granularity","segment","segmentWords","breakWords","wordSeparators","words","word_1","TextContainer","replace","CAPITALIZE","capitalize","m","p1","p2","ImageElementContainer","_super","_this","currentSrc","intrinsicWidth","naturalWidth","intrinsicHeight","naturalHeight","CanvasElementContainer","SVGElementContainer","setAttribute","baseVal","LIElementContainer","OLElementContainer","reversed","CHECKBOX_BORDER_RADIUS","RADIO_BORDER_RADIUS","reformatInputBounds","getInputValue","PASSWORD","placeholder","CHECKBOX","RADIO","INPUT_COLOR","InputElementContainer","input","checked","SelectElementContainer","option","selectedIndex","TextareaElementContainer","IFrameElementContainer","iframe","contentWindow","tree","parseTree","documentBackgroundColor","bodyBackgroundColor","LIST_OWNERS","parseNodeTree","root","childNode","nextNode","nextSibling","isTextNode","isElementNode","isSlotElement","assignedNodes","container","createContainer","createsRealStackingContext","createsStackingContext","tagName","slot","shadowRoot","isTextareaElement","isSVGElement","isSelectElement","isImageElement","isCanvasElement","isLIElement","isOLElement","isInputElement","isIFrameElement","isBodyElement","nodeType","Node","TEXT_NODE","ELEMENT_NODE","isSVGElementNode","className","isHTMLElement","isVideoElement","isStyleElement","isScriptElement","isCustomElement","CounterState","counters","getCounterValue","getCounterValues","canReset","entry","counterNames","ROMAN_UPPER","ARMENIAN","HEBREW","GEORGIAN","createAdditiveCounter","symbols","fallback","suffix","createCounterText","string","integer","createCounterStyleWithSymbolResolver","codePointRangeLength","isNumeric","resolver","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","floor","createCounterStyleFromSymbols","CJK_ZEROS","CJK_TEN_COEFFICIENTS","CJK_TEN_HIGH_COEFFICIENTS","CJK_HUNDRED_COEFFICIENTS","createCJKCounter","numbers","multipliers","negativeSign","tmp","coefficient","CHINESE_INFORMAL_MULTIPLIERS","CHINESE_FORMAL_MULTIPLIERS","JAPANESE_NEGATIVE","KOREAN_NEGATIVE","appendSuffix","defaultSuffix","cjkSuffix","koreanSuffix","spaceSuffix","IGNORE_ATTRIBUTE","DocumentCloner","scrolledElements","referenceElement","quoteDepth","toIFrame","windowSize","createIFrameContainer","scrollX","defaultView","pageXOffset","scrollY","pageYOffset","cloneWindow","documentClone","iframeLoad","iframeLoader","restoreNodeScroll","scrollTo","test","navigator","userAgent","logger","warn","onclone","clonedReferenceElement","nodeName","fonts","ready","imagesReady","serializeDoctype","doctype","restoreOwnerScroll","adoptNode","createElementClone","createCanvasClone","createVideoClone","createStyleClone","clone","srcset","loading","createCustomElementClone","copyCSSStyles","sheet","cssRules","css","rule","cssText","textContent","error","inlineImages","info","clonedCanvas","clonedCtx","allowTaint","putImageData","gl","attribs","getContextAttributes","preserveDrawingBuffer","video","blankCanvas","appendChildNode","child","copyStyles","hasAttribute","ignoreElements","cloneChildNodes","assignedNode","createTextNode","transitionProperty","styleBefore","styleAfter","createPseudoHideStyles","resolvePseudoContent","BEFORE","insertBefore","after","AFTER","scrollTop","scrollLeft","pseudoElt","anonymousReplacedElement","attr","counterStyle","counterState","counterType","delim","counterStates","counterType_1","separator","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","newClassName","baseValue","destroy","CORNER","cloneIframeContainer","border","scrolling","imageReady","complete","all","images","interval","setInterval","childNodes","readyState","clearInterval","ignoredStyleProperties","target","property","item","setProperty","getPropertyValue","internalSubset","publicId","systemId","PSEUDO_BEFORE","PSEUDO_AFTER","PSEUDO_HIDE_ELEMENT_STYLE","createStyles","CacheStorage","getOrigin","link","_link","href","protocol","hostname","port","isSameOrigin","_origin","setContext","location","Cache","_options","_cache","has","isBlobImage","isRenderable","loadImage","match","key","useCORS","isInlineImage","useProxy","proxy","debug","isInlineBase64Image","setTimeout","imageTimeout","keys","xhr","status","response","reader_1","FileReader","addEventListener","readAsDataURL","queryString","timeout_1","timeout","ontimeout","send","INLINE_SVG","INLINE_BASE64","INLINE_IMG","isSVG","substr","Vector","deltaX","deltaY","lerp","BezierCurve","startControl","endControl","subdivide","firstHalf","ab","bc","cd","abbc","bccd","dest","reverse","isBezierCurve","path","BoundCurves","tlh","tlv","trh","trv","_c","brh","brv","_d","blh","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","topLeftBorderDoubleOuterBox","getCurvePoints","TOP_LEFT","topRightBorderDoubleOuterBox","TOP_RIGHT","bottomRightBorderDoubleOuterBox","BOTTOM_RIGHT","bottomLeftBorderDoubleOuterBox","BOTTOM_LEFT","topLeftBorderDoubleInnerBox","topRightBorderDoubleInnerBox","bottomRightBorderDoubleInnerBox","bottomLeftBorderDoubleInnerBox","topLeftBorderStroke","topRightBorderStroke","bottomRightBorderStroke","bottomLeftBorderStroke","topLeftBorderBox","topRightBorderBox","bottomRightBorderBox","bottomLeftBorderBox","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","r1","r2","kappa","ox","oy","xm","ym","calculateBorderBoxPath","curves","calculateContentBoxPath","calculatePaddingBoxPath","TransformEffect","ClipEffect","OpacityEffect","isTransformEffect","effect","isClipEffect","isOpacityEffect","equalPath","transformPath","deltaW","deltaH","point","StackingContext","inlineLevel","nonInlineLevel","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","ElementPaint","effects","borderBox","paddingBox","getEffects","inFlow","croplessEffects","parseStackTree","stackingContext","realStackingContext","listItems","treatAsRealStackingContext","paintContainer","listOwnerItems","parentStack","stack","order_1","index_1","index_2","processListItems","owner","numbering","listValue","parseStackingContexts","parsePathForBorder","borderSide","createPathFromCurves","parsePathForBorderDoubleOuter","parsePathForBorderDoubleInner","parsePathForBorderStroke","createStrokePathFromCurves","outer1","outer2","inner1","inner2","contentBox","calculateBackgroundPositioningArea","calculateBackgroundPaintingArea","calculateBackgroundRendering","intrinsicSize","backgroundPositioningArea","getBackgroundValueForIndex","backgroundPaintingArea","backgroundImageSize","calculateBackgroundSize","sizeWidth","sizeHeight","calculateBackgroundRepeatPath","isAuto","AUTO","hasIntrinsicValue","intrinsicProportion","second","hasIntrinsicProportion","targetRatio","hasIntrinsicWidth","hasIntrinsicHeight","hasIntrinsicDimensions","width_1","height_1","width_2","height_2","width_3","height_3","SMALL_IMAGE","SAMPLE_TEXT","FontMetrics","_data","_document","parseMetrics","span","margin","padding","whiteSpace","verticalAlign","baseline","offsetTop","middle","getMetrics","Renderer","MASK_OFFSET","CanvasRenderer","_activeEffects","scale","fontMetrics","translate","textBaseline","applyEffects","popEffect","applyEffect","save","globalAlpha","clip","restore","renderStack","renderStackContent","renderNode","paint","renderNodeBackgroundAndBorders","renderNodeContent","renderTextWithLetterSpacing","fillText","letters","letter","measureText","createFontStyle","variant","fixIOSSystemFonts","renderTextNode","font","paintOrderLayer","textShadows","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","strokeStyle","lineWidth","lineJoin","chrome","strokeText","renderReplacedElement","box","iframeRenderer","render","fill","beginPath","arc","isTextInputElement","canvasTextAlign","_p","_e","_g","_f","_j","_h","_l","_k","_o","_m","mask","paths","moveTo","lineTo","formatPath","closePath","bezierCurveTo","renderRepeat","pattern","resizeImage","renderBackgroundImage","this_1","createPattern","x0","x1","y0","y1","gradient_1","createLinearGradient","addColorStop","top_1","radialGradient_1","createRadialGradient","midX","midY","invF","renderSolidBorder","curvePoints","renderDoubleBorder","outerPaths","innerPaths","hasBackground","borders","calculateBackgroundCurvedPaintingArea","borderBoxArea","maskOffset","shadowPaintingArea","borders_1","renderDashedDottedBorder","strokePaths","boxPaths","startX","startY","endX","endY","dashLength","spaceLength","useLineDash","multiplier","numberOfDashes","minSpace","maxSpace","setLineDash","lineCap","stroke","path1","path2","iOSBrokenFonts","fontFamilies","ForeignObjectRenderer","loadSerializedSVG","Logger","id","enabled","Date","now","console","getTime","instances","Context","instanceName","instanceCount","logging","html2canvas","renderElement","opts","resourceOptions","contextOptions","windowOptions","windowWidth","innerWidth","windowHeight","innerHeight","foreignObjectRendering","cloneOptions","documentCloner","clonedElement","_u","parseBackgroundColor","renderOptions","devicePixelRatio","_q","_r","_s","renderer","_t","removeContainer","backgroundColorOverride","defaultBackgroundColor","factory","module","exports","__webpack_modules__","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","Diff","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineStart","lineEnd","lineArrayLength","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","split","param","decodeURI","ex","isNaN","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","coords1","coords2","__unused_webpack_module","__webpack_exports__","__webpack_require__","default","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","loadImg","it","testImage","querySelector","removeAttribute","querySelectorAll","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entries","entrie","isIntersecting","intersectionRatio","mathRender","mediaRender","mermaidRender","SMILESRender","markmapRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","merge","anchorRender","anchor","classList","onclick","getElementById","onhashchange","decodeURIComponent","hash","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","getVoice","currentVoice","defaultVoice","voices","getVoices","playSVG","pauseSVG","speechDom","insertAdjacentElement","onvoiceschanged","voice","utterThis","onend","cancel","remove","ontouchstart","event","parentElement","speaking","paused","resume","pause","speak","Hc","vditorSpeechRange","focus","getSelection","rangeCount","getRangeAt","cloneRange","changedTouches","pageX","clientX","mergeOptions","defaultOption","cdn","CDN","customEmoji","emojiPath","hljs","HLJS_OPTIONS","icon","markdown","MARKDOWN_OPTIONS","math","MATH_OPTIONS","mode","speech","enable","media","theme","THEME_OPTIONS","md2html","mdText","mergedOptions","G","lute","X","autoSpace","gfmAutoLink","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","inlineDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","i18nScriptPrefix","i18nScriptID_1","i18n","includes","el","head","VditorI18n","O","H","J","K","B","Q","Y","spanElement","lG","fb","headingElement","preview_image","setCodeTheme","Vditor","previewImage","k","preview","method","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","ALIAS_CODE_LANGUAGES","lineNumber","defaultLang","engine","macros","list","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","_util_function__WEBPACK_IMPORTED_MODULE_3__","SMILESElements","SMILESRenderAdapter","getElements","sd","SmiDrawer","code","getCode","Wb","draw","abcElements","abcRenderAdapter","ABCJS","renderAbc","mathRenderAdapter","mermaidRenderAdapter","markmapRenderAdapter","mindmapRenderAdapter","chartRenderAdapter","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","innerText","echartsElements","error_1","Qf","echarts","init","setOption","_util_code160to32__WEBPACK_IMPORTED_MODULE_1__","maxHeight","codeText","codeElement","endsWith","iconHTML","divElement","copy","copied","textarea","renderMenu","outerHeight","insertAdjacentHTML","flowchartElements","flowchartObj","flowchart","drawSVG","graphvizElements","blob","Blob","URL","webkitURL","blobUrl","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","codes","language","getLanguage","highlight","ignoreIllegals","linenNumberTemp","isSoftWrap","lineNumberHTML","lineList","transformer","features","getAssets","scripts","markmap","loadCSS","loadJS","Transformer","Markmap","deriveOptions","globalCSS","mm","frontmatter","markmapOptions","frontmatterOptions","setData","fit","markmapElements","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions","mathElement","katex","renderToString","displayMode","output","message","stopPropagation","preventDefault","vditorMathElement","currentTarget","clipboardData","chainAsync_1","fns","curr","fn","MathJax","loader","mathjax","startup","typeset","tex","mathJaxOptions","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","append","clear","updateDocument","errorTextElement","promise","chains","_loop_1","_util_function__WEBPACK_IMPORTED_MODULE_0__","videoRender","audioRender","iframeRender","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","params_1","bvid","on","page","high_quality","as_wide","allowfullscreen","autoplay","startsWith","search","keyValue","src_1","keys_1","aElement","mermaidElements","config","securityLevel","altFontFamily","startOnLoad","htmlLabels","useMaxWidth","sequence","diagramMarginX","diagramMarginY","boxMargin","showSequenceNumbers","gantt","leftPadding","rightPadding","mermaid","initialize","mermaidData","e_1","errorElement","mindmapElements","series","JSON","initialTreeDepth","itemStyle","borderWidth","borderColor","borderRadius","lineStyle","roam","symbol","params","children","tooltip","trigger","triggerOn","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","vditor","tocHTML","ids","W","lastIndex","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","toolbarConfig","pin","toolbar","plantumlElements","plantumlEncoder","encode","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetGFMAutoLink","SetImageLazyLoading","oldImgElement","oldImgRect","spin","translate3d","btnElement","codeTheme","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","addScriptSync","xhrObj","setRequestHeader","scriptElement","responseText","async","addStyle","styleElement","rel","getElementsByTagName","code160to32","G6","vU","pK","Le","yl","ns","i7","isSafari","isFirefox","accessLocalStorage","localStorage","getEventName","isCtrl","platform","metaKey","ctrlKey","updateHotkeyTip","hotkey","isChrome","vendor","genUUID","crypto","getRandomValues","getSearch","hashIndex","urlSearchParams","URLSearchParams","looseJsonParse","Function","JQ","E2","O9","F9","DX","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","hasTopClosestByClassName","hasClosestByClassName","parentClosest","findTop","hasTopClosestByTag","S","getTopList","topUlElement","topOlElement","topListElement","hasClosestByAttribute","isClosest","hasClosestBlock","blockElement","hasClosestByMatchTag","getLastNode","lastChild","hasClosestByTag","hasClosestByHeadings","merger","obj","prop","zh","Ny","Gb","im","$j","ib","oC","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","getEditorRange","startContainer","collapse","getCursorPosition","editor","cursorRect","parentRect","parent_1","startOffset","endContainer","endOffset","selectIsEditor","commonAncestorContainer","setSelectionFocus","removeAllRanges","addRange","getSelectPosition","selectElement","editorElement","preSelectionRange","selectNodeContents","setSelectionByPosition","charIndex","pNode","foundStart","nextCharIndex","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setRangeByWbr","wbrElement","previousElementSibling","isSameNode","previousSibling","insertNode","insertHTML","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","liElement","pasteTemplate","__webpack_module_cache__","moduleId","cachedModule","definition","o","enumerable","toStringTag","resizeCb","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","devtools","ASTChart","RenderEChartsJSON","align","orient","toolbox","bottom","emphasis","iconStyle","feature","show","saveAsImage","right","resize","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","emoji","hint","popover","toggleSubMenu","panelElement","actionBtn","level","log","print","processPasteCode","isCode","childElementCount","pres","processCodeRender","previewPanel","cRender","customRenders","renderToc","outline","clickToc","keydownToc","execAfterRender","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","markerElement","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","blockquoteElement","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","process_processAfterRender","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","altKey","shiftKey","hotKeys","keyCode","hasShift","nextIsNode","nodeValue","parentNextNode","previousIsNode","expandMarker","nodeElement","nodeElementEnd","collapsed","processKeydown","composingLock","isComposing","undo","recordFirstPosition","fixGSKeyBackspace","fixCJKPosition","fixHR","newlineElement","beforeMarkerElement","afterMarkerElement","pElement","fixMarkdown","fixList","fixBlockquote","preRenderElement","codeRenderElement","fixCodeBlock","preBeforeElement","recentLanguage","cellElement","tableElement","isFirstCell","table2Element","isLastCell","fixTable","fixTask","fixTab","headingMarkerElement","process_processHeading","fixDelete","rangeStart","headingLength","fixFirefoxArrowUpTable","fixCursorDownInlineMath","combineFootnote","afterCombine","footnote","thisNode","inputEvent","processAfterRender","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","footnotes_1","processSpinVditorSVDOM","scrollCenter","processKeydown_processKeydown","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","setTheme","initUI","rtl","minHeight","upload","tip","export","setEditMode","afterRender","visualViewport","pendingUpdate_1","viewportHandler","requestAnimationFrame","layoutViewport","setPadding","minPadding","maxWidth","setTypewriterPosition","typewriterMode","UIUnbindListener","removeEventListener","templateObject_1","initValue","getItem","originalInnerHTML","HTML2Md","highlightToolbarIR","clearTimeout","hlToolbarTimeoutId","typeElement","quoteElement","strongElement","emElement","sElement","codeBlockElement","afterRenderEvent","afterRenderTimeoutId","setItem","addToUndoStack","undoDelay","previoueIsEmptyA","nextIsCode","getNextHTML","getPreviousHTML","getRenderElementNextNode","blockCodeElement","splitElement","previousHTML","nextHTML","beforeHTML","afterHTML","modifyPre","cloneRangeOffset","setHeading","removeHeading","showCode","previousElement","wysiwyg_processKeydown_processKeydown","inputElemment","select","topBQElement","pTempElement","linRefElement","inputElement","removeBlockElement","click","rangeStartOffset","nextElement","highlightToolbarWYSIWYG","footnotesElement","genClose","customWysiwygToolbar","setPopoverPosition","commentElement","ids_1","nextIds_1","genUp","genDown","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","setAlign_1","setTableAlign","left_1","center_1","right_1","td","th","alignType","alignLeft","alignCenter","alignRight","insertRowElement","insertRowBelow","insertRow","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumn","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteRow","deleteColumnElement","deleteColumn","inputWrap","oninput","onkeydown","focusToElement","input2Wrap","linkRefElement","genLinkRefPopover","footnotesRefElement","footnoteRef","input_2","blockRenderElement","isBlock","languageWrap","language_1","codeElement_1","detail","onkeyup","matchLangData","selectionStart","langs","listLanguages","sort","keyName","genHTML","input_3","genAPopover","backslashElement","offsetLeft","updateLinkRef","input1","textIsNotEmpty","linkHotkey","input1Wrap","linkRef","upElement","up","downElement","down","nextInputElement","updateA","input2","tooltipText","genImagePopover","updateImg","alt","title","imageURL","elementEvent","altWrap","alternateText","titleWrap","highlightToolbar","renderDomByMd","md","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","lastBeforeHTML","lastAfterHTML","toolbarEvent","CustomEvent","useHighlight","useRender","inlineCodeElement","listToggle","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","MenuItem","menuItem","iconElement","tipPosition","process_processToolbar","processToolbar","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","instantRendering","splitView","_bindEvent","getSelectText","focusEvent","dblclickEvent","isPreview","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","dropEvent","dataTransfer","getData","paste","pasteCode","copyEvent","cutEvent","comment","getComments","adjustTop","cursorTop","hotkeyEvent","keydown","extend","ctrlEnter","redo","esc","processHeading","sub","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","unSelect","processPaste","spinHTML","SpinVditorSVDOM","spanNode","isPrevious","sideElement","spanType","markerText","hasNL","previousType","previousText","openMarker","processTimeoutId","newLine","insertAdjacentText","getElement","setHeaders","headers","Upload","isUploading","validateFile","files","hide","uploadFileList","errorTip","uploadingStr","iMax","file","validate","nameEmpty","over","fileExt","filename","accept","isAccept","fileTypeError","uploading","cancelUpload","vditorCancelUploadElement","genUploadedLabel","msg","errFiles","uploadError","succFileText","succMap","uploadFiles","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","multiple","DataTransferItem","getAsFile","handler","FormData","fieldName","withCredentials","onreadystatechange","DONE","success","onprogress","lengthComputable","progress","loaded","total","progressBar","input_input","previousAEmptyElement","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","__makeTemplateObject","cooked","raw","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","pLiElement","zwspNode","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","pHTML","trimLeft","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","columnCnt","rowCnt","currentColumn","textArray","tab","pText","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","theadHTML","tbodyElement","brElement","trElement","previousCellElement","codePosition","isEmpty","taskItemElement","lastNode","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","callback","textHTML","textPlain","renderLinkDest","doc","fileReader_1","file_1","items","entering","WalkContinue","TokensStr","__internal_object__","Parent","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","stringify","EscapeHTMLStr","DOMParser","parseFromString","Sanitize","base64ToLink","processVMLImage","HTML2VditorIRDOM","Md2VditorSVDOM","imgHTML","IsValidLinkDest","rtfData","regexPictureHeader","regexPicture","regImages","regImages_1","imageType","shapes","newSrc","imgs","RegExp","source","walk","btoa","char","goNext","processHint","matchLangData_1","key_1","removeInline","aTextElement","hint_awaiter","hint_generator","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","delay","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","currentHintElement","currentLastIndex","lastItem","maxLength","preChar","IR","bindEvent","linkElement","lastRect","isOpen","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Preview","classes","copyToX","actions","actionElement","actionHtml","action","btn","actionCustom","mdTimeoutId","renderStartTime","responseJSON","startTime","performanceTip","cmtFocusElement","copyElement","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","onselectstart","onselect","Editor","textScrollTop","textHeight","textScrollHeight","parseFloat","Tip","setPreviewMode","Both_extends","Both","Br","CodeTheme_extends","CodeTheme","ContentTheme_extends","ContentTheme","Counter","Custom_extends","Custom","Devtools_extends","Devtools","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","emojiTail","download","downloadTip","exportMarkdown","exportPDF","generate","contentDocument","postMessage","exportHTML","Export_extends","Export","Fullscreen_extends","Fullscreen","svgElement","dataset","fullscreen","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Help_extends","Help","Indent_extends","Indent","Info_extends","Info","Version","InsertAfter_extends","InsertAfter","InsertBefore_extends","InsertBefore","Outdent_extends","Outdent","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","audioInput","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","DataView","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","offsetResult","offsetBuffer","nextOffsetBuffer","accum","desiredChannelBuffer","set","setUint8","Record_extends","Record","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Undo_extends","Undo","Upload_extends","Upload_Upload","inputHTML","Toolbar","genItem","panelElement_1","subI","updateConfig","menuItemObj","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","cloneElement","Options","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","wrap","startElement","endElement","Set","comments_1","difference","oldIds","removedIds","unbindListener","scrollListener","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","scroll","topPx","checkElement","nextRenderElement","src_extends","isDestroyed","version","showErrorTip","getOptions","updateToolbarConfig","contentThemePath","getValue","getCurrentMode","disabled","renderPreview","clearCache","removeItem","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","tmpElement","insertMD","setValue","iconScript","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","$options","goToHome","_hoisted_3","downloadMarkdown","_hoisted_4","downloadPDF","$data","pdfStyleTheme","$event","clearContent","successMessage","_hoisted_5","_toDisplayString","_hoisted_6","mounted","initVditor","beforeUnmount","methods","generateTimestamp","toISOString","getPdfStyleSheet","commonRules","githubTheme","minimalTheme","$router","revokeObjectURL","err","renderedHtml","containerDiv","pdfOptions","quality","letterRendering","jsPDF","orientation","compress","pagebreak","avoid","html2pdf","confirm","__exports__"],"sourceRoot":""}