"use strict";(self["webpackChunkgithub_tools"]=self["webpackChunkgithub_tools"]||[]).push([[756],{7756:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var o=s(6768),r=s(5130),n=s(4232);const c={class:"properties-to-json"},u={class:"header"},i={class:"input-container"},l={class:"input-group"},p={class:"input-group"},a={class:"output-area"},d={key:0},h={key:1,class:"placeholder"},k={class:"controls"},y={class:"mode-control"},m={class:"actions"},b={key:0,class:"success-message"},g={key:1,class:"error-message"};function f(e,t,s,f,v,C){return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("div",u,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>C.goToHome&&C.goToHome(...e)),class:"home-btn"},"← 返回首页"),t[6]||(t[6]=(0,o.Lk)("h1",null,"Properties 转 JSON 工具",-1))]),(0,o.Lk)("div",i,[(0,o.Lk)("div",l,[t[7]||(t[7]=(0,o.Lk)("h3",null,"Properties 格式输入",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.propertiesInput=e),placeholder:"请输入 Properties 格式内容\n例如：\nuser.name=John\nuser.age=30\napp.config.timeout=5000\n\n支持注释（# 或 !）和空行",class:"input-area"},null,512),[[r.Jo,v.propertiesInput]])]),(0,o.Lk)("div",p,[t[8]||(t[8]=(0,o.Lk)("h3",null,"JSON 输出",-1)),(0,o.Lk)("div",a,[v.jsonOutput?((0,o.uX)(),(0,o.CE)("pre",d,(0,n.v_)(v.jsonOutput),1)):((0,o.uX)(),(0,o.CE)("div",h,"JSON 结果将显示在这里"))])])]),(0,o.Lk)("div",k,[(0,o.Lk)("div",y,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>v.nestedMode=e)},null,512),[[r.lH,v.nestedMode]]),t[9]||(t[9]=(0,o.eW)(" 嵌套模式（将点号转换为嵌套对象） ",-1))])]),(0,o.Lk)("div",m,[(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>C.convert&&C.convert(...e)),class:"action-btn"},"转换"),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>C.clearAll&&C.clearAll(...e)),class:"clear-btn"},"清空"),v.jsonOutput?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[5]||(t[5]=(...e)=>C.copyToClipboard&&C.copyToClipboard(...e)),class:"copy-btn"},"复制结果")):(0,o.Q3)("",!0)])]),v.copySuccess?((0,o.uX)(),(0,o.CE)("div",b," 已复制到剪贴板！ ")):(0,o.Q3)("",!0),v.error?((0,o.uX)(),(0,o.CE)("div",g,(0,n.v_)(v.error),1)):(0,o.Q3)("",!0)])}var v={name:"PropertiesToJson",data(){return{propertiesInput:"",jsonOutput:"",nestedMode:!0,error:"",copySuccess:!1}},methods:{goToHome(){this.$router.push("/")},parseProperties(e){const t=e.split("\n"),s={};for(let o of t){if(o=o.trim(),!o)continue;if(o.startsWith("#")||o.startsWith("!"))continue;const e=o.indexOf("=");if(-1===e)continue;let t=o.substring(0,e).trim(),r=o.substring(e+1).trim();r=this.unescapeValue(r),t=this.unescapeValue(t),this.nestedMode&&t.includes(".")?this.setNestedProperty(s,t,r):s[t]=r}return s},unescapeValue(e){return e.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\f/g,"\f").replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\\/g,"\\").replace(/\\u([0-9a-fA-F]{4})/g,(e,t)=>String.fromCharCode(parseInt(t,16)))},setNestedProperty(e,t,s){const o=t.split(".");let r=e;const n=["__proto__","constructor","prototype"];for(let u=0;u<o.length-1;u++){const e=o[u];if(n.includes(e))return;r[e]&&"object"===typeof r[e]||(r[e]={}),r=r[e]}const c=o[o.length-1];n.includes(c)||(r[c]=s)},convert(){try{if(this.error="",this.copySuccess=!1,!this.propertiesInput.trim())return this.error="请输入 Properties 格式内容",void(this.jsonOutput="");const e=this.parseProperties(this.propertiesInput);this.jsonOutput=JSON.stringify(e,null,2)}catch(e){this.error=`转换错误: ${e.message}`,this.jsonOutput=""}},copyToClipboard(){if(!this.jsonOutput)return;const e=document.createElement("textarea");e.value=this.jsonOutput,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select();let t=!1;try{t=document.execCommand("copy")}catch(s){t=!1}document.body.removeChild(e),t?(this.copySuccess=!0,setTimeout(()=>{this.copySuccess=!1},2e3)):this.error="复制到剪贴板失败，请手动复制。"},clearAll(){this.propertiesInput="",this.jsonOutput="",this.error="",this.copySuccess=!1}}},C=s(1241);const L=(0,C.A)(v,[["render",f],["__scopeId","data-v-5d678224"]]);var O=L}}]);
//# sourceMappingURL=756.e66eed5d.js.map